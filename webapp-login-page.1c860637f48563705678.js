(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[99],{74359:(e,t,i)=>{"use strict";i(77173);var o=i(11040),n=i(41697),a=i(74820),r=i(22296),s=i(74888),l=i(96042),d=i(68927),c=i.n(d),p=i(32667);const g={isPhoenix:"object"==typeof window&&"www.tiktok.in"===window.location.host,textReplace:"undefined"==typeof window?null:new(i(86284).Z)({condition:{APPID:"8660"}}),loadTcc(){return this.isPhoenix?this.textReplace.getWithCache("webapp-phoenix-tcc"):Promise.resolve()},getPlugin:e=>({type:"postProcessor",name:"text-replace-plugin",process:(t,i)=>g.textReplace.processSync(t,e,i)}),getProcessName(){return this.isPhoenix?["text-replace-plugin"]:void 0}};var m=i(16926),u=i(91051),h=i(12579);const _=new h.O("i18n");let v;const b={type:"intl3rdParty",name:"intl-react-plugin",init(e){v=e}},y=(0,u.createContext)({t:e=>e,lang:"en"}),f=({lang:e,t,children:i})=>{const n=(0,u.useMemo)((()=>[{provide:_,useValue:v.t}]),[]),a=(0,u.useMemo)((()=>({t:null!=t?t:v.t,lang:e})),[e,t]);return(0,o.jsx)(y.Provider,Object.assign({value:a},{children:(0,o.jsx)(m.yx,Object.assign({providers:n},{children:i}),void 0)}),void 0)};var x=i(64047);const k=["fetch"],w=["includes"],C=["values","entries","getOwnPropertyDescriptors"];var j,S;i(86185),function(e){e.Sg="https://sf16-sg.tiktokcdn.com/obj/eden-sg/fapybjlz_lm_zlp/ljhwZthlaukjlkulzlp/security/secsdk.umd.js",e.Va="https://sf16-va.tiktokcdn.com/obj/eden-va2/fapybjlz_lm_zlp/ljhwZthlaukjlkulzlp/security/secsdk.umd.js"}(j||(j={})),function(e){e.Acrawler="acrawler",e.SecSdkSG="secsdk_sg",e.SecSdkVA="secsdk_va"}(S||(S={}));const L={acrawler:"https://sf16-secsdk.ttwstatic.com/obj/rc-web-sdk-gcs/webmssdk/1.0.0.200/webmssdk.js",secsdk_sg:"https://sf16-sg.tiktokcdn.com/obj/eden-sg/fapybjlz_lm_zlp/ljhwZthlaukjlkulzlp/security/secsdk.umd.js",secsdk_va:"https://sf16-va.tiktokcdn.com/obj/eden-va2/fapybjlz_lm_zlp/ljhwZthlaukjlkulzlp/security/secsdk.umd.js"},P="script-manager";function A(e){return(0,x.__awaiter)(this,void 0,void 0,(function*(){const{retry:t=0,moduleId:i}=e;try{return yield System.import(i)}catch(i){if(t)return yield A(Object.assign(Object.assign({},e),{retry:t-1}));throw i}}))}function T(e={importmap:"/node-webapp/api/importmap"}){return(0,x.__awaiter)(this,void 0,void 0,(function*(){if(document.querySelector(`#${P}`))return;let{importmap:t}=e;const i=document.createElement("script");if(i.type="systemjs-importmap",i.id=P,"string"==typeof t)try{const e=yield window.fetch.call(null,t,{method:"Get",redirect:"error"}),{imports:i}=yield e.json();t={imports:i}}catch(e){t={imports:L}}i.innerText=JSON.stringify(t),document.head.appendChild(i)}))}function O(e){var t,i,o,n,a,s,l;const d=null!==(n=null!==(o=null===(i=null===(t=window.SIGI_STATE)||void 0===t?void 0:t.I18n)||void 0===i?void 0:i.lang)&&void 0!==o?o:document.documentElement.getAttribute("lang"))&&void 0!==n?n:"en",c=null!==(l=null===(s=null===(a=window.SIGI_STATE)||void 0===a?void 0:a.I18n)||void 0===s?void 0:s.translations)&&void 0!==l?l:{};return new Promise(((t,i)=>{g.loadTcc().then((o=>{(g.isPhoenix?r.ZP.use(g.getPlugin(o)):r.ZP).use(b).init({debug:!1,fallbackLng:["en"],initImmediate:!0,defaultNS:null!=e?e:"Webapp",postProcess:g.getProcessName()},(e=>{e?i(e):t()})),r.ZP.setLang(d)}))})).then((()=>{Object.entries(c).forEach((([e,t])=>{Object.entries(t).forEach((([t,i])=>{r.ZP.addResourceBundle(e,t,i,!0)}))}))}))}var M=i(22612),R=i.n(M),F=i(3624),E=i(9236),I=i(74556),D=i.n(I),z=i(90293),B=i(21041),N=i(6718),U=i(57244),H=i(57001),W=i.n(H),G=i(40316),Z=i.n(G),q=i(82346),V=i(14716),$=i(60595),Q=i(53095),K=i(37729),Y=i(20939),J=i.n(Y),X=i(60140),ee=i.n(X),te=i(34013);function ie(e){return J()(e,(e=>function(e){return ee()(e)?(0,te.compile)(e):()=>e[0]}(e)))}const oe={where:"custom",key:"user-agent",regexp:"Mobile|iP(hone|od|ad)|Android|adr|Tesla|(AEO[\\w]+)"},ne={video:"/@:uniqueId(.*)/video/:id",user:"/@:uniqueId",music:"/music/:title(.*)-:id",challenge:"/tag/:name",home:"/",foryouWithLang:["/ar","/bn-IN","/ceb-PH","/cs-CZ","/de-DE","/el-GR","/en","/es","/fi-FI","/fil-PH","/fr","/he-IL","/hi-IN","/hu-HU","/id-ID","/it-IT","/ja-JP","/jv-ID","/km-KH","/ko-KR","/ms-MY","/my-MM","/nl-NL","/pl-PL","/pt-BR","/ro-RO","/ru-RU","/sv-SE","/th-TH","/tr-TR","/uk-UA","/ur","/vi-VN","/zh-Hans","/zh-Hant-TW"],foryou:"/foryou",following:"/following",topics:"/topics/:name",expansion:"/discover/:name",searchUser:"/search/user",discover:"/discover",setting:"/setting",question:"/question/:content(.+)-:id",musicPlaylist:"/playlist-music/:title(.+)-:id",searchHome:"/search",searchVideo:"/search/video",messages:"/messages",settingBlockList:"/setting/block-list"},ae=(ie(ne),{video:"/@:uniqueId(.*)/video/:id",user:"/@:uniqueId",music:"/music/:title(.*)-:id",challenge:"/tag/:name",home:"/",foryouWithLang:["/ar","/bn-IN","/ceb-PH","/cs-CZ","/de-DE","/el-GR","/en","/es","/fi-FI","/fil-PH","/fr","/he-IL","/hi-IN","/hu-HU","/id-ID","/it-IT","/ja-JP","/jv-ID","/km-KH","/ko-KR","/ms-MY","/my-MM","/nl-NL","/pl-PL","/pt-BR","/ro-RO","/ru-RU","/sv-SE","/th-TH","/tr-TR","/uk-UA","/ur","/vi-VN","/zh-Hans","/zh-Hant-TW"],foryou:"/foryou",following:"/following",topics:"/topics/:name",expansion:"/discover/:name",searchUser:"/search/user",discover:"/discover",setting:"/setting",profile:"/profile",inbox:"/inbox",reportinbox:"/report/inbox",report:"/report/:type",amp:"/amp/tag/:name"}),re=(ie(ae),ie({video:"/@:uniqueId(.*)/video/:id",user:"/@:uniqueId",music:"/music/:title(.*)-:id",challenge:"/tag/:name",question:"/question/:content(.+)-:id",musicPlaylist:"/playlist-music/:title(.+)-:id",searchReflow:"/search/campaign/:eventName",videoPlaylist:"/@:uniqueId/playlist/:content(.+)-:id",sticker:"/sticker/:title(.*)-:id",group:"/messages/group"}),ie({foryou:"/foryou",user:"/@:uniqueId",setting:"/setting",ftcFallback:"*"}),{loginHome:"/login",loginPhoneOrEmail:"/login/phone-or-email",loginPhone:"/login/phone-or-email/phone",loginEmail:"/login/phone-or-email/email",loginPhonePassword:"/login/phone-or-email/phone-password",loginDownloadApp:"/login/download-app",loginTwoStepVerify:"/login/2sv/:type",loginForgetEmailPassword:"/login/email/forget-password",loginForgetPhonePassword:"/login/phone/forget-password",loginQRcode:"/login/qrcode",loginWithSignedEmail:"/login/with-signed-email",loginPhoneDigit:"/login/phone/digit-code",loginReset:"/login/reset",phoneResetDigit:"/login/reset/phone/digit-code",emailResetDigit:"/login/reset/email/digit-code",resetPassword:"/login/reset/password",signupHome:"/signup",signupPhoneOrEmail:"/signup/phone-or-email",signupPhone:"/signup/phone-or-email/phone",signupEmail:"/signup/phone-or-email/email",signupAgeGate:"/signup/age-gate",signupAgeGateConfirm:"/signup/age-gate/confirm",signupPolicyConfirm:"/signup/policy-confirm",signupCreateAccount:"/signup/create-account",signupCreateUsername:"/signup/create-username",signupCreatePassword:"/signup/create-password",signupPrivateOn:"/signup/private-on",signupPhoneDigit:"/signup/phone/digit-code",signupEmailDigit:"/signup/email/digit-code",signupEmailCreatePassword:"/signup/email/create-password",oauth:"/oauth",oauthLine:"/oauthLine",accountDeactivate:"/setting/account-delete/deactivate"}),se=(ie(re),["/en","/ar","/de-DE","/es","/fi-FI","/fr","/id-ID","/ja-JP","/ko-KR","/ms-MY","/ru-RU","/th-TH","/tr-TR","/vi-VN","/zh-Hans","/zh-Hant-TW","/he-IL","/jv-ID","/ceb-PH","/cs-CZ","/it-IT","/hu-HU","/nl-NL","/pl-PL","/pt-BR","/ro-RO","/sv-SE","/fil-PH","/el-GR","/uk-UA","/ur","/hi-IN","/bn-IN","/my-MM","/km-KH"]);var le;function de(e){return e.replace(/\/$/,"")===ne.foryou||function(e){const t=e.replace(/\/$/,"");return e===ne.home||se.includes(t)}(e)}function ce(e){if(de(e))return"fyp";if(e.match("/following"))return"following";if(e.match("/setting"))return"setting";if(e.match("/search"))return"search";if(e.match("/message"))return"message";if(e.match("/video"))return"video";if(e.match("/@"))return"user";if(e.match("/report"))return"report";if(e.match("/music"))return"music";if(e.match("/tag"))return"hashtag";if(e.match(/\/discover\/.+/))return"expansion";if(e.match("/discover"))return"discover";if(e.match("/live"))return"live";if(t=e,(0,B.LX)(t,{path:ne.topics,exact:!0})){const t=(0,B.LX)(e,{path:ne.topics,exact:!0});return"topics_"+(null==t?void 0:t.params.name)}var t;return e.match("/profile")?"profile":e.match("/inbox")?"inbox":""}!function(e){e.Video="video",e.User="user",e.Challenge="hashtag",e.Trending="fyp",e.Live="live",e.Message="message",e.Setting="setting",e.Music="music",e.SearchResults="search",e.Discover="discover",e.Following="following",e.Topics="topics",e.Profile="profile",e.Expansion="expansion",e.Inbox="inbox",e.Report="report"}(le||(le={}));var pe=i(25615),ge=i.n(pe);function me(e,t=""){var i;try{return null!==(i=localStorage.getItem(e))&&void 0!==i?i:t}catch(e){return t}}function ue(e,t){try{localStorage.setItem(e,t)}catch(e){}}function he(e){try{localStorage.removeItem(e)}catch(e){}}function _e(e,t=""){var i;try{return null!==(i=sessionStorage.getItem(e))&&void 0!==i?i:t}catch(e){return t}}function ve(e,t){try{sessionStorage.setItem(e,t)}catch(e){}}function be(e){try{sessionStorage.removeItem(e)}catch(e){}}const ye=i(70745),fe=(e,t)=>{try{return sessionStorage.getItem(e)||t}catch(e){return console.warn("sessionStorage get failed"),t}},xe=(e,t,i,o)=>{const n=document.cookie.match(/s_v_web_id=(\w+)/);try{const a={aid:"1988",app_name:"tiktok_web",channel:"tiktok_web",device_platform:(e||{}).isMobile?"web_mobile":"web_pc",device_id:(e||{}).wid,region:(e||{}).region,priority_region:((e||{}).user||{}).region||"",os:(e||{}).os,referer:document.referrer,root_referer:fe("webapp-session-referer"),cookie_enabled:navigator.cookieEnabled,screen_width:screen.width,screen_height:screen.height,browser_language:navigator.language,browser_platform:navigator.platform,browser_name:navigator.appCodeName,browser_version:navigator.appVersion,browser_online:navigator.onLine,verifyFp:(n||"")[1],app_language:(e||{}).language,webcast_language:(e||{}).language,tz_name:Intl.DateTimeFormat().resolvedOptions().timeZone,is_page_visible:t,focus_state:i,is_fullscreen:window.matchMedia("(display-mode: fullscreen)").matches,history_len:window.history.length};return"ageVerify"===fe("enter_method")&&(a.security_verification_aid="1459"),navigator.getBattery&&(a.battery_info=o),a}catch(e){}return{}},ke="webapp-session-referer";var we,Ce;!function(e){e[e.Default=0]="Default",e[e.Simple=1]="Simple",e[e.None=2]="None"}(we||(we={})),function(e){e[e.None=0]="None",e[e.AWEME=1]="AWEME",e[e.FixedWww=2]="FixedWww",e[e.AutoMOrT=3]="AutoMOrT",e[e.Webcast=4]="Webcast",e[e.AutoWebcastMOrT=5]="AutoWebcastMOrT",e[e.AWEMEV1=6]="AWEMEV1",e[e.PostLikeTest=7]="PostLikeTest",e[e.CommentTest=8]="CommentTest"}(Ce||(Ce={}));const je="tt-csrf-token";let Se=class{constructor(){this.appContext$=new K.t(1),this.appLanguage="en",this.isPageVisible=!0,this.isFocus=!0}setAppContext(e){this.appContext||(this.appContext$.next(e),this.appContext=e,function(e=ge(),t=ge()){let i,o;function n(){i&&document[i]?e():t()}"hidden"in document?(i="hidden",o="visibilitychange"):"msHidden"in document?(i="msHidden",o="msvisibilitychange"):"webkitHidden"in document&&(i="webkitHidden",o="webkitvisibilitychange"),"addEventListener"in document&&i&&o?(document.addEventListener(o,n,!1),document.removeEventListener.bind(document,o,n,!1)):ge()}(this.handleVisibilityChange.bind(this,!1),this.handleVisibilityChange.bind(this,!0)),this.bindFocusChange())}getBaseUrl(e=0){var t,i,o,n,a,r,s,l,d,c,p,g,m,u,h,_,v,b,y,f,x,k;switch(e){case 1:return"https://api.tiktok.com";case 2:return null!==(i=null===(t=this.appContext)||void 0===t?void 0:t.domains.rootApi)&&void 0!==i?i:"https://www.tiktok.com";case 3:return this.appContext?this.appContext.domains.mTApi:"";case 6:return this.appContext?this.appContext.domains.rootApi:"";case 4:return null!==(n=null===(o=this.appContext)||void 0===o?void 0:o.domains.webcastRootApi)&&void 0!==n?n:"https://webcast.tiktok.com";case 5:return this.appContext?this.appContext.domains.webcastApi:"";case 0:return null!==(r=null===(a=this.appContext)||void 0===a?void 0:a.domains.rootApi)&&void 0!==r?r:"";case 7:return null!==(u=null!==(g=null===(p=null===(c=null===(d=null===(l=null===(s=this.appContext)||void 0===s?void 0:s.abTestVersion)||void 0===l?void 0:l.parameters)||void 0===d?void 0:d.like_comment_domain)||void 0===c?void 0:c.vid)||void 0===p?void 0:p.like)&&void 0!==g?g:null===(m=this.appContext)||void 0===m?void 0:m.domains.mTApi)&&void 0!==u?u:"";case 8:return null!==(k=null!==(f=null===(y=null===(b=null===(v=null===(_=null===(h=this.appContext)||void 0===h?void 0:h.abTestVersion)||void 0===_?void 0:_.parameters)||void 0===v?void 0:v.like_comment_domain)||void 0===b?void 0:b.vid)||void 0===y?void 0:y.comment)&&void 0!==f?f:null===(x=this.appContext)||void 0===x?void 0:x.domains.rootApi)&&void 0!==k?k:""}}getRiskParams(e,t=!1){return(0,x.__awaiter)(this,void 0,void 0,(function*(){if(!this.appContext)return{};if(2===e)return{};_e(ke)||ve(ke,document.referrer);const i=1===e;let o=null;if(!t&&navigator.getBattery&&(o=(yield navigator.getBattery()).level),i)return Object.assign(Object.assign({},{cookie_enabled:navigator.cookieEnabled,screen_width:screen.width,screen_height:screen.height,browser_language:navigator.language,browser_platform:navigator.platform,browser_name:navigator.appCodeName,browser_version:navigator.appVersion,browser_online:navigator.onLine,timezone_name:Intl.DateTimeFormat().resolvedOptions().timeZone}),{from_page:ce(location.pathname)});const n={};return"ageVerify"===_e("enter_method")&&(n.security_verification_aid="1459"),Object.assign(Object.assign(Object.assign({},xe(this.appContext,this.isPageVisible,this.isFocus,o)),{from_page:ce(location.pathname)}),n)}))}handleVisibilityChange(e){this.isPageVisible=e}bindFocusChange(){const e=()=>{this.isFocus=!0},t=()=>{this.isFocus=!1};return window.addEventListener("focus",e),window.addEventListener("blur",t),()=>{window.removeEventListener("focus",e),window.removeEventListener("blur",t)}}};Se=(0,x.__decorate)([(0,U.G)()],Se);var Le=i(55971),Pe=i(96980),Ae=i(49584),Te=i(93859),Oe=i(68854),Me=i(56979),Re=i(58755),Fe=i(41078),Ee=i(56163),Ie=i.n(Ee),De=i(29550),ze=i.n(De);function Be(e,t=""){var i;try{return null!==(i=sessionStorage.getItem(e))&&void 0!==i?i:t}catch(e){return t}}function Ne(e,t){try{sessionStorage.setItem(e,t)}catch(e){}}const Ue="webapp_launch_mode",He="webapp_original_traffic_type",We="webapp_extra_data",Ge=/h5_t|h5_m|landing_page|webapp/,Ze=/embed/,qe="header.custom";function Ve(){}Ve.send=ze(),Ve.init=ze(),Ve.config=ze(),Ve.setDomain=ze(),ze(),ze();const $e=new class{constructor(e=i(2309).Z,t=[],o=!1,n={}){this.instance=e,this.missEventsCaches=t,this.initialized=o,this.baseConfig=n,this.commonEventParams={}}get commonParams(){return this.commonEventParams}config({conf:e,commonEventParams:t}={}){this.initialized||this.init(e);const i=Ie()(this.baseConfig,e);t&&(this.commonEventParams=Object.assign(Object.assign({},this.commonEventParams),t)),this.instance.config(i)}beconEvent(e,t={}){if(this.initialized)try{this.instance.beconEvent(e,Object.assign(Object.assign({},this.commonEventParams),t))}catch(e){}}event(e,t={}){if(this.initialized)try{this.instance.event(e,Object.assign(Object.assign({},this.commonEventParams),t)),this.missEventsCaches.length&&(this.missEventsCaches.forEach((e=>{this.instance.event(e[0],Object.assign(Object.assign({},this.commonEventParams),e[1]))})),this.missEventsCaches.length=0)}catch(e){}else this.missEventsCaches.push([e,t])}setDomain(e){this.instance.setDomain(e),this.instance.event("reactive_domain")}resetStayDuration(e,t,i){var o,n;null===(n=(o=this.instance).resetStayDuration)||void 0===n||n.call(o,e,t,i)}init(e){var t,i;const o=Je();"microsoft-store"!==o["app-install-source"]&&"app-info://platform/microsoft-store"!==(null===document||void 0===document?void 0:document.referrer)||(o.source="msft");const{traffic_type:n,utm_source:a,utm_medium:r,utm_campaign:s,referer_video_id:l,utm_content:d,utm_term:c}=o,{lm:p="",refer:g="",source:m="",is_from_webapp:u="",referer_url:h="",_r:_=""}=function(e,t){const i={};return["refer","source","is_from_webapp","referer_url","lm","_r"].forEach((t=>{const o=e[t];Array.isArray(o)?i[t]=o[0]:i[t]=null!=o?o:void 0})),i}(o),v=(null!==(t=new RegExp(`${location.origin}/(@?\\w+)`).exec(document.referrer))&&void 0!==t?t:[])[1],b=Boolean(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/))||navigator.userAgent.indexOf("Android")>-1||navigator.userAgent.indexOf("Adr")>-1?"mobile":"pc",y=function(e){const t=Be(Ue,void 0),{refer:i,refererUrl:o,lm:n,device:a,trafficType:r,source:s,fromWebapp:l,siteOnePath:d,queryR:c}=e,p="embed"===d||"embed"===i,g="creator_embed"===i,m="amp"===d||/^amp_\w+/.test(o);return!t||p||m||g?"msft"===s?"msft":"twa"===s?"twa":"push"===s?"push":navigator.standalone||"pc"===a&&window.matchMedia("(display-mode: standalone), (display-mode: minimal-ui)").matches||"mobile"===a&&window.matchMedia("(display-mode: standalone), (display-mode: minimal-ui), (display-mode: fullscreen)").matches?"pwa":"11"===n?"paid":p?"referral_embed":g?"referral_creator_embed":m?"referral_amp":"tiktok_browse"===i?"referral_tiktok_browse":/google|yahoo|yandex|bing|naver|duckduckgo/gi.test(r)?"organic":"1"===c?"reflow":"webapp"===s||l?"webapp_reflow":i||o||document.referrer?"referral":"direct":t}({refer:g,refererUrl:h,lm:p,trafficType:Qe(),device:b,source:m,fromWebapp:u,siteOnePath:v,queryR:_});Ne(Ue,y),function(e){Ye.forEach((t=>{e[t]&&Ne(t,e[t])}))}(o);const f=function(e,t){var i,o,n,a,r,s;const l=Be(We,"");if(l&&"{}"!==l)return l;const d=Je()||{},c={object_id:null!==(i=d.object_id)&&void 0!==i?i:d.referer_video_id,object_type:d.object_type,share_device:null!==(n=null!==(o=d.share_device)&&void 0!==o?o:d.sender_device)&&void 0!==n?n:"",share_web_id:null!==(r=null!==(a=d.share_web_id)&&void 0!==a?a:d.sender_web_id)&&void 0!==r?r:"",share_user_id:null!==(s=d.share_user_id)&&void 0!==s?s:""};"referral_amp"===e||"referral_embed"===e?(c.object_type="video",c.object_id=d.referer_video_id):"reflow"===e||"webapp_reflow"===e?(c.object_type=t.object_type,c.object_id=t.object_id):"push"===e&&(c.push_type=d.push_type),Object.keys(c).forEach((e=>{c[e]||delete c[e]}));const p=JSON.stringify(c);return Ne(We,p),p}(y,e),x={channel:"sg",device:b,launch_mode:y,region:"unknown",traffic_type:null!=n?n:Qe(),source:Ge.test(m)?"":m,referer_url:h?decodeURIComponent(h):(null==g?void 0:g.replace(Ze,""))||v||document.referrer||"direct",utm_source:null!=a?a:"",utm_medium:null!=r?r:"",utm_campaign:null!=s?s:"",utm_content:null!=d?d:"",utm_term:null!=c?c:"",referer_video_id:null!=l?l:"",extraData:f,user_is_login:!1},k=Ie()(x,e);1988===e.id?(this.baseConfig={user_type:12,[qe]:Object.assign({traffic_type:k.traffic_type,utm_source:k.utm_source,source:k.source,launch_mode:k.launch_mode,device:k.device,region:k.region,utm_medium:k.utm_medium,utm_campaign:k.utm_campaign,utm_content:k.utm_content,utm_term:k.utm_term,referer_url:k.referer_url,referer_video_id:k.referer_video_id,session_id:k.session_id,extraData:k.extraData},k[qe])},this.baseConfig.user_id&&(this.baseConfig.user_id=Number(k.user_id),this.baseConfig.user_is_login=!0)):(this.baseConfig={user_type:12,[qe]:Object.assign({traffic_type:k.traffic_type,launch_mode:k.launch_mode,referer_url:k.referer_url},k[qe])},this.commonEventParams={traffic_type:k.traffic_type,refer_source:k.referer_url}),this.instance.init({enable_ttwebid:!0,channel_domain:k.channel_domain,app_id:null!==(i=e.id)&&void 0!==i?i:1988,enable_stay_duration:!0,channel_type:"tcpy"}),this.initialized=!0,this.instance.start()}};function Qe(){var e;let t=Be(He);if(!t){if(document.referrer){const i=/https?:\/\/.*(google|yahoo|yandex|bing|naver|wikipedia|facebook|instagram|youtube|twitter|tiktok|buzzfeed|debate|greenlemon|cloudfront|multimedios|huffpost|sdpnoticias|pinterest|bluradio|eluniversal|elcomercio|insider|medialeaks|intheknow|distractify|telediario|msn|duckduckgo|linkedin|discord|whatsapp|telegram|viber|reddit|twitch|snapchat|messenger).*\/?/;t=(null!==(e=document.referrer.match(i))&&void 0!==e?e:[])[1]||"others"}else t="no_referrer";Ne(He,t)}return t}var Ke;!function(e){e.Pwa="pwa",e.Paid="paid",e.Embed="referral_embed",e.CreateEmbed="referral_creator_embed",e.Browse="referral_tiktok_browse",e.Amp="referral_amp",e.Reflow="reflow",e.WebApp="webapp_reflow",e.MSFT="msft",e.TWA="twa",e.Push="push",e.Organic="organic",e.Refer="referral",e.Direct="direct"}(Ke||(Ke={}));const Ye=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","referer_url","referer_video_id"];function Je(){return"undefined"==typeof document?{}:(0,z.parse)(location.search,{arrayFormat:"bracket"})}function Xe(){return"undefined"==typeof window||"undefined"==typeof document}function et(){return!Xe()&&!window.SIGI_STATE}const tt="tiktok_webapp_login",it={bid:"tiktok_webapp",plugins:{ajax:{ignoreUrls:[".byteoversea.com","tiktokv.com/v1/list","mcs-sg.tiktok.com","mcs-va.tiktok.com","mcs.us.tiktok.com"]},jsError:{ignoreErrors:["Blocked a frame with origin","__msg_type","vid_mate_check is not defined","ResizeObserver loop limit exceeded"]},resource:!0},sample:{sample_rate:1,sample_granularity:"event",include_users:[],rules:{resource:{enable:!0,sample_rate:.01,conditional_sample_rules:[]},resource_error:{enable:!0,sample_rate:.05,conditional_sample_rules:[]},performance_longtask:{enable:!0,sample_rate:.001,conditional_sample_rules:[]}}},env:"production",release:"1.0.1.4322"};var ot;!function(e){e.P0="fatal",e.P1="error",e.P2="warning",e.P3="info",e.P4="debug",e.P5="critical"}(ot||(ot={}));const nt=["lcp","fp","fid","ttfb","mpfid"];let at=class{constructor(){if(this.cachePreBid="",!Xe())try{Fe.Z.on("beforeSend",(e=>{var t,i,o,n;try{if("performance"===e.ev_type&&("metrics"in e.payload?e.payload.metrics.forEach(this.collectSlardarMetricsToTea):this.collectSlardarMetricsToTea(e.payload,null===(t=e.common)||void 0===t?void 0:t.pid)),"performance_timing"===e.ev_type){const{responseEnd:t,responseStart:a,domContentLoadedEventEnd:r,fetchStart:s,navigationStart:l}=null!==(i=e.payload.timing)&&void 0!==i?i:{},d=null!==(n=null===(o=e.payload.common)||void 0===o?void 0:o.pid)&&void 0!==n?n:"unknown",c=r-s,p=t-a,g=a-l;$e.event("slardar_perf_domready",{metric_duration:c&&c>0?c.toString():-1,pid:d}),$e.event("slardar_perf_response",{metric_duration:p&&p>0?p.toString():-1,pid:d}),$e.event("slardar_perf_ttfb",{metric_duration:g&&g>0?g.toString():-1,pid:d})}}catch(e){}return e}))}catch(e){}}config(e){try{Fe.Z.config(e)}catch(e){}}toggleLoginSlardar(e){var t,i;e?(this.cachePreBid=null===(i=null===(t=window.SlardarLite)||void 0===t?void 0:t.config)||void 0===i?void 0:i.bid,this.config({bid:tt})):this.config({bid:this.cachePreBid})}context(e){try{Object.entries(e).forEach((([e,t])=>{var i;return null===(i=Fe.Z.context)||void 0===i?void 0:i.set(e,t)}))}catch(e){}}captureMessage(e="",t,i={}){var o;try{null===(o=Fe.Z.captureException)||void 0===o||o.call(Fe.Z,new Error(e),t?Object.assign(Object.assign({},i),{level:t}):i)}catch(e){console.info("slardar: capture exception error")}}emitEvent(e,t,i){var o;try{null===(o=Fe.Z.sendEvent)||void 0===o||o.call(Fe.Z,{name:e,categories:i,metrics:t})}catch(e){}}reportI18nLoadedFailed(e,t){this.emitEvent("I18nLoadFailed",{count:1},{staringName:e,lang:t})}sendLog(e,t,i){var o;try{null===(o=Fe.Z.sendLog)||void 0===o||o.call(Fe.Z,{content:e,level:t,extra:i})}catch(e){}}sendPV(e){var t;try{null===(t=Fe.Z.sendPageview)||void 0===t||t.call(Fe.Z,e)}catch(e){}}collectSlardarMetricsToTea(e,t){if(e.isSupport||e.isPolyfill){const i=e.name.toLowerCase();nt.includes(i)&&$e.event(`slardar_perf_${i}`,{metric_duration:e.value.toString(),pid:null!=t?t:"unknown"})}}};var rt;at=(0,x.__decorate)([(0,U.G)(),(0,x.__metadata)("design:paramtypes",[])],at),function(e){e[e.LoginMode=513]="LoginMode",e[e.USUnloginMode=514]="USUnloginMode",e[e.USUnloginHighRiskMode=515]="USUnloginHighRiskMode",e[e.NonUSUnloginMode=516]="NonUSUnloginMode",e[e.U13Mode=517]="U13Mode"}(rt||(rt={}));const st=["/api/impression/write/","/api/user/set/animation/","/api/aweme/set/react_duet_stitch/","/api/aweme/delete/","/api/schedule/aweme/delete/","/passport/web/login_name/update/","/api/update/profile/","/api/upload/image/","/api/commit/follow/request/approve/","/api/commit/follow/request/reject/","/api/commit/follow/user/","/tiktok/v1/username/save_async/"],lt=["/node/share/","/share/item/list","/discover/render/undefined","/node/feedback/upload_image/","/share/item/explore/list","/api/comment/list/","/api/comment/list/reply/","/api/commit/follow/user/","/api/commit/item/digg/","/aweme/v1/upload/image2/","/api/notice/multi/","/api/notice/count/","/api/notice/digg/list/","/api/user/following/request/list/","/api/commit/follow/request/approve/","/api/commit/follow/request/reject/","/api/comment/digg/","/api/comment/publish/","/api/comment/delete/","/api/sticker/item_list/","/api/user/contact/list/","/api/at/default/list/","/api/comment/search/user/","/web/aweme/v1/search/challengesug","/web/aweme/v1/discover/search/","/api/v1/item/create/","/api/search/user/full/","/api/search/user/preview/","/api/search/item/full/","/api/search/general/full/","/api/music/detail/","/api/challenge/detail/","/api/user/detail/","/api/user/list/","/api/item/detail/","/api/question/detail/","/api/question/item_list/","/api/discover/challenge/","/api/discover/user/","/api/discover/music/","/api/discover/expansion/video/","/api/discover/expansion/detail/","/api/discover/expansion/topic/","/api/discover/expansion/user/","/api/discover/expansion/challenge/","/api/discover/expansion/music/","/api/challenge/item_list/","/api/music/item_list/","/api/post/item_list/","/api/favorite/item_list/","/api/following/item_list/","/api/recommend/item_list/","/api/recommend/user/","/api/recommend/embed_videos/","/api/live/detail/","/api/im/multi_user/","/api/user/get/animation/","/api/user/settings/","/aweme/v1/music/list/","/api/mix/detail","/api/mix/item_list","/api/uniqueid/check/",...st,"/node/report/reasons","/aweme/v1/aweme/feedback/","/webcast.*","/v1/message/send","/v2/conversation/create","/v1/voip/call","/v1/conversation/add_participants","/1/conversation/remove_participants","/v1/conversation/update_participant","/v1/conversation/set_setting_info","/v1/conversation/get_setting_info","/v1/conversation/upsert_core_ext_info","/v1/conversation/upsert_settings_ext","/v1/conversation/dissolve","/v1/message/mark","/v1/message/batch_unmark","/v1/message/set_property","/node-a/send/download_link","/api/uniqueid/check/","/api/v3/register/user/info/sync/","/api/policy/notice/approve/","/api/private_banner/ack/","/api/privacy/agreement/record/agree/v1","/api/v3/register/verification/age/","/api/register/check/login/name/","/api/user/detail/self/","/api/policy/notice/","api/compliance/settings","/passport/web/","/shorten/"],dt=["/webcast/room/chat/","/webcast/room/create_info/","/webcast/room/enter/","/webcast/room/leave/","/webcast/room/live_podcast/","/webcast/room/ping/audience/","/webcast/user/relation/update/","/webcast/gift/send/","/webcast/room/emote_chat/","/webcast/room/share/","/webcast/wallet_api/diamond_exchange/","/webcast/wallet_api/save_billing_address_info/","/webcast/diamond/","/webcast/wallet_api/diamond_buy/permission/","/webcast/wallet_api/diamond_buy/nonce/","/webcast/wallet_api/diamond_buy_external/","/webcast/wallet_api/query_web_order/","/webcast/wallet_api/invoice/download/","/webcast/wallet_api_tiktok/notifycenter/notices/latest/","/webcast/recharge/base_package/","/webcast/recharge/packages/"],ct=["/api/private_banner/ack/","/cloudpush/update_sender_token/","/cloudpush/app_notice_status/","/api/user/set/settings/","/api/reddot/report","/api/comment/digg/","/api/comment/publish/","/api/comment/delete/","/api/aweme/delete/","/api/schedule/aweme/delete/","/api/privacy/user/private_account/update/v1","/api/im_setting/update/v1","/api/privacy/agreement/record/agree/v1","/api/commit/follow/request/approve/","/api/commit/follow/request/reject/","/api/commit/follow/user/"],pt=["/api/post/item_list/","/api/music/item_list/"],gt={"webcast.tiktok.com":{POST:dt},"webcast-t.tiktok.com":{POST:dt},"webcast-m.tiktok.com":{POST:dt},"webcast.us.tiktok.com":{POST:["/webcast/gift/send/","/webcast/wallet_api/diamond_exchange/"]},"www.tiktok.com":{POST:ct},"us.tiktok.com":{POST:ct},"m.tiktok.com":{POST:st},"t.tiktok.com":{POST:st}};let mt=class{constructor(e,t){this.util=e,this.slardar=t,this.init$=(0,Le.D)([this.initAcrawler().pipe((0,Pe.q)(1)),this.initCSRF().pipe((0,Pe.q)(1))]),this.acrawlerInitliazed=!1,this.csrfInitliazed=!1}getSecSdkMode({isVA:e,isLogin:t,isFTC:i,isHighRisk:o}){return i?517:t?513:e&&o?515:e&&!o?514:516}initAcrawler(){return this.util.appContext$.pipe((0,Ae.z)((e=>{const{appId:t,sgOpen:i,user:o,isTTP:n,wid:a=""}=e,r=1233===t&&!i;let s=r?"va-tiktok":"sg-tiktok";return s=n?"ttp":s,this.loadSdk("acrawler").pipe((0,Te.b)((()=>{var e;this.acrawlerInitliazed||(this.acrawlerInitliazed=!0,window.byted_acrawler.init({aid:1988,dfp:!1,boe:!1,intercept:!0,enablePathList:lt,region:s,mode:this.getSecSdkMode({isVA:r,isLogin:!!o,isFTC:null!==(e=null==o?void 0:o.ftcUser)&&void 0!==e&&e,isHighRisk:!1}),isSDK:!1}))})),(0,Oe.K)((e=>{var t;return this.slardar.captureMessage(`load Acrawler Error: ${e.message}`,"warning",{uid:null!==(t=null==o?void 0:o.uid)&&void 0!==t?t:"",wid:a}),(0,q.of)(!0)})))})),(0,Me.U)((()=>!0)),(0,Oe.K)((()=>(0,q.of)(!0))))}initCSRF(){return this.util.appContext$.pipe((0,Ae.z)((e=>{const{appId:t,sgOpen:i}=e,o=1233!==t||i?"secsdk_sg":"secsdk_va";return this.loadSdk(o)})),(0,Me.U)((()=>!0)),(0,Te.b)((()=>{this.csrfInitliazed||(this.csrfInitliazed=!0,window.secsdk.csrf.setProtectedHost(gt))})),(0,Oe.K)((()=>(0,q.of)(!0))))}loadSdk(e,t=1e4){return(0,V.D)(A({moduleId:e,retry:1})).pipe((0,Re.V)(t))}};mt=(0,x.__decorate)([(0,U.G)(),(0,x.__metadata)("design:paramtypes",[Se,at])],mt);const ut=1e4;var ht;!function(e){e[e.Pass=0]="Pass",e[e.Reject=1]="Reject",e[e.Retry=2]="Retry"}(ht||(ht={}));let _t=class{constructor(){this.domId="tiktok-verify-ele",this.captcha=null,this.verifyElement=null,this.open=!1,this.rejectPass=!1,this.checkVerify=(e,t,i,o)=>(0,x.__awaiter)(this,void 0,void 0,(function*(){var n;if("object"!=typeof e)return e;const{statusCode:a,code:r}=null!=e?e:{};if(a===ut||r===String(ut)){const a=r===String(ut)?e:e.verifyConfig,s=yield this.loadCaptcha(o&&i?"ttp":a.region,t);if(-1===a.fp){const e=yield null===(n=this.captcha)||void 0===n?void 0:n.getFp();a.fp=e}return s?this.open?(yield this.updateState(),this.rejectPass?1:2):this.goVerify(a,o):1}return 0})),this.destroy=()=>{var e;null===(e=this.captcha)||void 0===e||e.close(),this.verifyElement&&(document.body.removeChild(this.verifyElement),this.verifyElement=null)}}init(){this.verifyElement||(this.verifyElement=document.createElement("div"),this.verifyElement.setAttribute("id",this.domId),document.body.appendChild(this.verifyElement))}goVerify(e,t){return this.init(),new Promise((i=>{this.openVerify((()=>{this.closeVerify(),i(2)}),(()=>{this.closeVerify(!0),i(1)}),e,t)}))}closeVerify(e=!1){var t;this.open=!1,this.rejectPass=e,null===(t=this.captcha)||void 0===t||t.close()}openVerify(e,t,i,o){var n;const a={ele:this.domId,lang:"en",successCb:e,showMode:"mask",closeCb:t,errorCb:()=>{},fpCookieOption:{domain:".tiktok.com",sameSite:"None",secure:!0}};o&&(a.host=o),this.open=!0,this.rejectPass=!0,null===(n=this.captcha)||void 0===n||n.render({verify_data:i,captchaOptions:a})}updateState(){return new Promise((e=>{if(!this.open)return void e();const t=setInterval((()=>{this.open||(clearInterval(t),e())}),800)}))}loadCaptcha(e,t){return(0,x.__awaiter)(this,void 0,void 0,(function*(){if(!this.captcha){let o;switch(e){case"boe":case"sg":o=i.e(975).then(i.bind(i,14694));break;case"va":o=i.e(975).then(i.bind(i,1371));break;case"in":case"ttp":o=i.e(975).then(i.bind(i,85438));break;default:return!1}const n=yield o;this.captcha=n,n.init({commonOptions:{aid:1988,did:t||"0",iid:"0"},captchaOptions:{fpCookieOption:{domain:".tiktok.com",sameSite:"None",secure:!0}}})}return!0}))}};_t=(0,x.__decorate)([(0,U.G)()],_t);const vt="content-type",bt=["application/pdf"],yt={m:"va",t:"sg",us:"ttp",boe:"boe"};let ft=class{constructor(e,t,i){this.verify=e,this.util=t,this.security=i,this.get=this.rxFetchFactory("GET"),this.post=this.fetchPost,this.put=this.rxFetchFactory("PUT"),this.delete=this.rxFetchFactory("DELETE")}get csrfToken(){var e,t;return this.util.appContext,null!==(t=null===(e=this.util.appContext)||void 0===e?void 0:e.csrfToken)&&void 0!==t?t:""}get appContext(){return this.util.appContext,this.util.appContext}rxFetchFactory(e){return(t,i)=>this.rxFetch(t,Object.assign(Object.assign({},i),{method:e}))}judgeNeedEncryption(e){return pt.some((t=>e.indexOf(t)>-1))}fetchPost(e,t={}){var{omitContentType:i=!1}=t,o=(0,x.__rest)(t,["omitContentType"]);const n=new Headers(o.headers);return n.get(vt)||i||n.set(vt,"application/x-www-form-urlencoded"),o.body||(o.body=""),o.headers=n,this.rxFetch(e,Object.assign(Object.assign({},o),{method:"POST"}))}getVerifyJson(e,t){var i,o;const n=e.status_code,a=3058===n,r=3059===n,s=yt[null!==(o=null===(i=this.appContext)||void 0===i?void 0:i.domains.kind)&&void 0!==o?o:""];return t.includes("/api/update/profile/")&&(a||r)?{code:"10000",from:"shark_admin",type:"verify",version:1,region:s,subtype:a?"slide":"text",verify_event:"",detail:{},fp:-1}:e}rawFetch(e,t){var i,o,n,a,r,s;return(0,x.__awaiter)(this,void 0,void 0,(function*(){const l=yield window.fetch.call(null,e,t);if(l.status>=400)return Promise.reject(l);{const d=l.headers.get(vt);if(null==d?void 0:d.includes("application/json")){const s=yield l.json(),d=this.getVerifyJson(s,e),c=yield this.verify.checkVerify(d,null!==(o=null===(i=this.appContext)||void 0===i?void 0:i.wid)&&void 0!==o?o:"0",null!==(a=null===(n=this.appContext)||void 0===n?void 0:n.isTTP)&&void 0!==a&&a,null===(r=this.appContext)||void 0===r?void 0:r.domains.captcha);return 0===c?s:2===c?this.rawFetch(e,t):{statusCode:-1}}return(null===(s=l.headers.get(vt))||void 0===s?void 0:s.includes("text/"))?l.text():-1!==bt.indexOf(String(d))?l.blob():(null==d?void 0:d.includes("application/x-protobuf"))?l.arrayBuffer():l.text()}}))}rxFetch(e,t){var{credentials:i="include"}=t,o=(0,x.__rest)(t,["credentials"]);return(!e.startsWith("/")||e.startsWith("//")||"GET"!==o.method||lt.some((t=>!!e.match(new RegExp(t))))?this.security.init$:(0,q.of)([!0,!0])).pipe((0,Q.z)((()=>{var e;const t=null!==(e=o.riskParamsType)&&void 0!==e?e:0,i=o.isInstantApp;return(0,V.D)(this.util.getRiskParams(t,i))})),(0,Q.z)((t=>new $.y((n=>{var a;const r="AbortController"in window?new AbortController:{signal:{aborted:!1},abort(){this.signal.aborted=!0}},s=Object.assign({},t,o.query);e.startsWith("http:")||e.startsWith("https:")||(e=this.util.getBaseUrl(o.baseUrlType)+e);const l=Z()(W()(o,{signal:r.signal,credentials:i}),"query","riskParamsType","baseUrlType");if(this.judgeNeedEncryption(e)){const i=(e=>{const t=[];return Object.keys(e).forEach((i=>{const o=i+"="+e[i];t.push(o)})),t.push("is_encryption=1"),((e,t)=>{const i=((e,t)=>{let i="webapp1.0+20210628".toString();const o=i.length;return o<16?i=new Array(16-o+1).join("0")+i:o>16&&(i=i.slice(0,16)),i})(),o=ye.enc.Utf8.parse(i);return ye.AES.encrypt(e,o,{iv:o,mode:ye.mode.CBC,padding:ye.pad.Pkcs7}).toString()})(t.join("&"))})(s);l.headers=Object.assign(Object.assign({},null!==(a=l.headers)&&void 0!==a?a:{}),{"x-tt-params":i}),t&&(e=(0,z.stringifyUrl)({url:e,query:t}))}else e=(0,z.stringifyUrl)({url:e,query:s});return this.rawFetch(e,l).then((e=>{n.next(e),n.complete()})).catch((e=>{n.error(e)})),()=>{r.signal.aborted||r.abort()}})))))}};var xt;ft=(0,x.__decorate)([(0,U.G)(),(0,x.__metadata)("design:paramtypes",[_t,Se,mt])],ft),function(e){e[e.Hot=0]="Hot",e[e.Relation=1]="Relation",e[e.Fresh=2]="Fresh",e[e.Post=3]="Post",e[e.Favorite=4]="Favorite",e[e.Challenge=5]="Challenge",e[e.Music=6]="Music",e[e.Category=7]="Category",e[e.MusicFresh=8]="MusicFresh",e[e.ChallengeFresh=9]="ChallengeFresh",e[e.Follow=10]="Follow",e[e.Trending=18]="Trending",e[e.TitleRecommend=20]="TitleRecommend",e[e.Nearby=21]="Nearby",e[e.Search=23]="Search",e[e.HotVideo=24]="HotVideo",e[e.HotMusic=25]="HotMusic",e[e.FollowerList=26]="FollowerList",e[e.Inbox=33]="Inbox",e[e.Live=27]="Live"}(xt||(xt={}));const kt="webapp_tiktok_open",wt="webapp_tiktok_privious";var Ct,jt;!function(e){e[e.NIL=-255]="NIL",e[e.UnknownError=-1]="UnknownError",e[e.Ok=0]="Ok",e[e.ReportLiveFailed=90002]="ReportLiveFailed",e[e.VerifyCode=1e4]="VerifyCode",e[e.VideoLikeFreq=2150]="VideoLikeFreq",e[e.VideoLikeFreq2=2210]="VideoLikeFreq2",e[e.VideoUnavailableDeleted=2054]="VideoUnavailableDeleted",e[e.AdVideoUnavailableChange=2752]="AdVideoUnavailableChange",e[e.CommentBanCode=22]="CommentBanCode",e[e.CommentLikePermissionDisable=3002043]="CommentLikePermissionDisable",e[e.SearchSensitiveCode=403]="SearchSensitiveCode",e[e.SearchYoungCode=203]="SearchYoungCode",e[e.SmsInvalidNumber=-1]="SmsInvalidNumber",e[e.SmsSlideVerify=-4]="SmsSlideVerify",e[e.FypVideoListLimit=10404]="FypVideoListLimit",e[e.ClientPageError=450]="ClientPageError",e[e.LiveNeedLogin=10119]="LiveNeedLogin",e[e.SharkBlock=10114]="SharkBlock",e[e.SharkSlide=10113]="SharkSlide",e[e.NetError=10111]="NetError",e[e.ServerErrorNot500=10101]="ServerErrorNot500",e[e.VideoRisk=10228]="VideoRisk",e[e.VideoRMask=10229]="VideoRMask",e[e.VideoRiskMask=10230]="VideoRiskMask",e[e.VideoNeedRecheck=10227]="VideoNeedRecheck",e[e.VideoUnshelveByMusic=10220]="VideoUnshelveByMusic",e[e.VideoNotExist=10204]="VideoNotExist",e[e.VideoAbnormal=10215]="VideoAbnormal",e[e.VideoLowAgeM=10213]="VideoLowAgeM",e[e.VideoLowAgeT=10214]="VideoLowAgeT",e[e.VideoFirstReviewUnshelve=10217]="VideoFirstReviewUnshelve",e[e.VideoPrivateByUser=10216]="VideoPrivateByUser",e[e.VideoGeofenceBlock=10231]="VideoGeofenceBlock",e[e.VideoPhoto=10239]="VideoPhoto",e[e.VideoFriendsOnly=10240]="VideoFriendsOnly",e[e.VideoDeleted=10241]="VideoDeleted",e[e.VideoUserBlockedByAuthor=10242]="VideoUserBlockedByAuthor",e[e.HashtagNotExist=10205]="HashtagNotExist",e[e.HashtagUnshelve=10212]="HashtagUnshelve",e[e.HashtagSensitivityWord=10211]="HashtagSensitivityWord",e[e.HashtagBlackList=10209]="HashtagBlackList",e[e.UserInboxFollowBan=24]="UserInboxFollowBan",e[e.UserNotExist=10202]="UserNotExist",e[e.UserBan=10221]="UserBan",e[e.UserPrivate=10222]="UserPrivate",e[e.UserNotLogin=10102]="UserNotLogin",e[e.UserFtc=10223]="UserFtc",e[e.UserUniqueSensitivity=10225]="UserUniqueSensitivity",e[e.QuestionNotAvailable=10236]="QuestionNotAvailable",e[e.MusicNotExist=10203]="MusicNotExist",e[e.MusicUnshelve=10218]="MusicUnshelve",e[e.MusicNoCopyright=10219]="MusicNoCopyright",e[e.GameNotExist=10224]="GameNotExist",e[e.LiveNotExist=10210]="LiveNotExist",e[e.GoLiveRoomBaned=10018]="GoLiveRoomBaned",e[e.GoLiveBaned=4003035]="GoLiveBaned",e[e.LiveRoomPrepare=30019]="LiveRoomPrepare",e[e.LiveRoomEnd=30003]="LiveRoomEnd",e[e.LiveRoomBan=30012]="LiveRoomBan",e[e.LiveNoGatedAuth=4003043]="LiveNoGatedAuth",e[e.LiveNoAgeGatedAuth=4003110]="LiveNoAgeGatedAuth",e[e.LiveSuicideCase=2403]="LiveSuicideCase",e[e.LiveSensitiveTitle=50004]="LiveSensitiveTitle",e[e.LiveRoomBaned=10018]="LiveRoomBaned",e[e.LiveEnterRoomNeedLogin=20003]="LiveEnterRoomNeedLogin",e[e.LiveAccountUnderRiskControl=20063]="LiveAccountUnderRiskControl",e[e.LiveHitBanStrategy=30009]="LiveHitBanStrategy",e[e.LiveOBSAccessRecalled=4003105]="LiveOBSAccessRecalled",e[e.EffectNotExist=10208]="EffectNotExist",e[e.PlaylistNotExist=10233]="PlaylistNotExist",e[e.PlaylistInTrill=10234]="PlaylistInTrill",e[e.VideoPlaylistUnavailable=10243]="VideoPlaylistUnavailable",e[e.VideoPlaylistIsEmpty=10244]="VideoPlaylistIsEmpty",e[e.PrivateAccountLimitByBC=3026002]="PrivateAccountLimitByBC"}(Ct||(Ct={})),function(e){e.Trending="homepage_hot",e.Discover="discovery",e.Inbox="homepage_message",e.Profile="personal_homepage",e.User="others_homepage",e.Music="single_song",e.Challenge="challenge",e.Video="video_detail",e.Setting="setting",e.Report="report",e.Error="page_404",e.Analytics="insight_page",e.Following="homepage_follow",e.Feedback="feedback",e.FeedbackReport="feedback_report",e.FeedbackHistory="feedback_history",e.AgeVerification="AGE_VERIFICATION",e.Topics="topic",e.Live="live_detail",e.LiveEmbedDetail="live_embed_detail",e.GoLive="live_take",e.LiveDiscover="live_discover",e.LiveReferralHost="live_referral_host",e.LiveReferralHostLogin="live_referral_host_login",e.LiveReferralHostAccept="live_referral_host_accept",e.LiveReferralHostWrong="live_referral_host_wrong",e.LiveReferralHostFaq="live_referral_host_faq",e.LiveEvent="live_event",e.SearchReflow="search_reflow",e.SharingVideo="reflow_video",e.SharingMusic="reflow_music",e.SharingChallenge="reflow_challenge",e.SharingSticker="reflow_sticker",e.SharingUser="reflow_user",e.SharingGroup="reflow_group",e.QADetail="qa_detail",e.QADetailReflow="reflow_qa_detail",e.VideoPlaylist="reflow_video_playlist",e.GeneralSearch="general_search",e.SearchUser="search_user",e.SearchVideo="search_video",e.SuicidePrevention="suicide_prevention",e.Messages="messages",e.Recharge="live_recharge",e.RechargeCashier="live_recharge_cashier",e.Expansion="discover_kw",e.Playlist="music_playlist",e.StudioDownload="studio_download",e.Subscription="subscription",e.VideoTT4D="video_tt4d",e.Login="login",e.Signup="signup"}(jt||(jt={}));const St=1988;let Lt=class{constructor(e){this.fetch=e,this.initTargetIdcRequest=()=>this.fetch.get("/passport/web/account/info/",{baseUrlType:2,query:{aid:1459}})}getAppContext(e){return this.fetch.get("/node-webapp/api/app-context",{query:{lang:e},baseUrlType:2})}checkTTwid(){return(0,x.__awaiter)(this,void 0,void 0,(function*(){const e=new N.t({aid:St,service:"www.tiktok.com",union:!1,unionHost:""});try{yield e.checkWebId()}catch(e){console.error(e)}}))}};Lt=(0,x.__decorate)([(0,U.G)(),(0,x.__metadata)("design:paramtypes",[ft])],Lt);var Pt=i(73566),At=i(48185),Tt=i(19630),Ot=i(8741),Mt=i(11348),Rt=i(58569),Ft=i(20948),Et=i(10026),It=i(5549),Dt=i(28210);const zt={[-1]:-1,0:0,1:1,2:2,4:3},Bt=Object.freeze({});function Nt(e){return null!=e?e:Bt}var Ut=i(45966);let Ht=class{setLanguage$(e){return new $.y((t=>{var i;r.ZP.setLang(null!==(i=window._I18N_LANG_)&&void 0!==i?i:e,(e=>{e?t.error(e):(t.next(),t.complete())}))}))}loadStarling$(e){const{teaDomain:t,domain:i,lang:o,namespace:n="Webapp"}=e;return(0,V.D)(new Ut.Z({namespace:n,api_key:Dt.API_KEY,locale:o||"en",zoneHost:i,timeout:1e4,TEAChannelDomain:t}).load())}registerTranslationData({lang:e,namespace:t="Webapp",data:i}){r.ZP.addResourceBundle(e,t,i,!0)}hasLoaded(e,t){return r.ZP.i18nInstance.instance.hasResourceBundle(e,t)}};function Wt(e){return!e.loaded}Ht=(0,x.__decorate)([(0,U.G)()],Ht);let Gt=class extends Pt.D{constructor(e,t){super(),this.service=e,this.slardar=t,this.defaultState={lang:"en",translations:{}}}setLang(e,t){e.lang=t}setTranslation(e,{lang:t,namespace:i,data:o}){e.translations[t]||(e.translations[t]={}),e.translations[t][i]=(0,Ot.vV)(o)}loadData(e){return e.pipe((0,Q.z)((e=>this.loadData$(e))))}loadData$(e){const{lang:t,namespaces:i}=e,o=(0,x.__rest)(e,["lang","namespaces"]);return(0,Le.D)(i.map((e=>this.service.hasLoaded(t,e)?(0,q.of)({loaded:!0}):this.service.loadStarling$(Object.assign({lang:t,namespace:e},o)).pipe((0,Te.b)((i=>{this.service.registerTranslationData({lang:t,namespace:e,data:i})})),(0,Me.U)((t=>({loaded:!1,namespace:e,data:t}))),(0,Oe.K)((i=>(console.error(i),this.slardar.reportI18nLoadedFailed(e,t),Mt.E))))))).pipe((0,Q.z)((e=>(0,q.of)(...e.filter(Wt).map((({namespace:e,data:i})=>this.getActions().setTranslation({lang:t,namespace:e,data:i})))))))}init$(e){const{lang:t,namespaces:i}=e;return this.service.setLanguage$(t).pipe((0,Q.z)((()=>(0,Rt.T)((0,q.of)(this.getActions().setLang(t)),this.loadData$(Object.assign(Object.assign({},e),{namespaces:i}))))))}};(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,String]),(0,x.__metadata)("design:returntype",void 0)],Gt.prototype,"setLang",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],Gt.prototype,"setTranslation",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],Gt.prototype,"loadData",null),Gt=(0,x.__decorate)([(0,Tt.Y)("I18n"),(0,x.__metadata)("design:paramtypes",[Ht,at])],Gt);let Zt=class extends Pt.D{constructor(e,t){super(),this.service=e,this.i18n=t,this.defaultState={appContext:null,initialized:!1,lang:"en",sideNavActive:!1}}setSideNavActive(e,t){e.sideNavActive=t}toggleSideNav(e){return e.pipe((0,Ft.M)(this.state$),(0,Me.U)((([e,t])=>this.getActions().setSideNavActive(!t.sideNavActive))))}setAppContext(e,t){var{statusCode:i}=t,o=(0,x.__rest)(t,["statusCode"]);0===i&&(e.appContext=(0,Ot.vV)(Object.assign({isAndroid:!1,isIOS:!1},o)))}setInitialized(e,t){e.initialized=t}setLang(e,t){e.lang=t}init(e){return e.pipe((0,Ft.M)(this.state$),(0,Ae.z)((([{starlingNs:e,lang:t},{initialized:i}])=>i?Mt.E:this.service.getAppContext(t).pipe((0,Q.z)((i=>{const{domains:o}=i,{starling:n,tea:a}=Nt(o);return(0,Rt.T)((0,q.of)(this.getActions().setAppContext(i),this.getActions().setLang(t)),this.i18n.init$({lang:t,namespaces:e,domain:n,teaDomain:a}))})),(0,Et.O)(this.getActions().setInitialized(!1)),(0,It.l)(this.getActions().setInitialized(!0),this.terminate())))))}};(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Boolean]),(0,x.__metadata)("design:returntype",void 0)],Zt.prototype,"setSideNavActive",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],Zt.prototype,"toggleSideNav",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],Zt.prototype,"setAppContext",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Boolean]),(0,x.__metadata)("design:returntype",void 0)],Zt.prototype,"setInitialized",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,String]),(0,x.__metadata)("design:returntype",void 0)],Zt.prototype,"setLang",null),(0,x.__decorate)([(0,At.Qm)({payloadGetter:1}),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],Zt.prototype,"init",null),Zt=(0,x.__decorate)([(0,Tt.Y)("AppContext"),(0,x.__metadata)("design:paramtypes",[Lt,Gt])],Zt);const qt=(e="Webapp")=>{const t=(0,u.useContext)(y).t;return(0,u.useCallback)(((i,o,n)=>t(i,Object.assign({ns:e},o),n)),[e,t])},Vt=u.useLayoutEffect,$t=(0,u.createContext)({counterRef:{current:0},scrollWidthRef:{current:0},subscribeRef:{current:[]},setCounter:ge(),setScrollWidth:ge(),subscribeModalChange:()=>ge()});const Qt={kyc:"/kyc",recharge:"/recharge",rechargePayment:"/recharge/cashier",rechargePaymentCode:"/recharge/payment-code",rechargePaymentResult:"/recharge/payment-result",rechargeTransactions:"/recharge/transaction-history",rechargeUnavailable:"/recharge/unavailable",rechargeTerms:"/recharge/legal/terms-of-purchase-for-coins",rechargeTransactionsDetail:"/recharge/transaction-history/detail",rechargeCardManagement:"/recharge/card-management",rechargeExchange:"/recharge/exchange",coin:"/coin",coinPayment:"/coin/cashier",coinPaymentCode:"/coin/payment-code",coinPaymentResult:"/coin/payment-result",coinTransactions:"/coin/transaction-history",coinUnavailable:"/coin/unavailable",coinTerms:"/coin/legal/terms-of-purchase-for-coins",coinTransactionsDetail:"/coin/transaction-history/detail",coinCardManagement:"/coin/card-management",coinExchange:"/coin/exchange",liveDiscover:"/live",liveGoLive:"/live/producer",liveRoom:"/@:uniqueId/live",liveEvent:"/live/event/:eventId",liveRoomEmbed:"/embed/@:uniqueId/live",rechargeBindInfo:"/recharge/bind-info",coinBindInfo:"/coin/bind-info",rechargeWithHash:"/recharge/:refhash",rechargenWithUser:"/recharge/@:uniqueId",rechargeWithHashAndUser:"/recharge/:refhash/@:uniqueId",coinWithHash:"/coin/:refhash",coinWithUser:"/coin/@:uniqueId",coinWithHashAndUser:"/coin/:refhash/@:uniqueId",studioLogin:"/studio/login",studioDownload:"/studio/download",studioFaq:"/studio/faq",liveReferralHost:"/live/referral/host",liveReferralHostFaq:"/live/referral/host/faq",liveSubscription:"/live/subscription",liveSubscriptionGuide:"/live/subscription/guide",liveSubscriptionBadgeSetting:"/live/subscription/badge-setting",liveSubscriptionEmoteSetting:"/live/subscription/emote-setting",liveSubscriptionComplete:"/live/subscription/complete",liveSubscriptionSetting:"/live/subscription/setting",liveSubscriptionMysubsription:"/live/subscription/my-subscription"};ie(Qt),ie({kyc:"/kyc",recharge:"/recharge",rechargePayment:"/recharge/cashier",rechargePaymentCode:"/recharge/payment-code",rechargePaymentResult:"/recharge/payment-result",rechargeTransactions:"/recharge/transaction-history",rechargeUnavailable:"/recharge/unavailable",rechargeTerms:"/recharge/legal/terms-of-purchase-for-coins",rechargeTransactionsDetail:"/recharge/transaction-history/detail",rechargeCardManagement:"/recharge/card-management",rechargeExchange:"/recharge/exchange",coin:"/coin",coinPayment:"/coin/cashier",coinPaymentCode:"/coin/payment-code",coinPaymentResult:"/coin/payment-result",coinTransactions:"/coin/transaction-history",coinUnavailable:"/coin/unavailable",coinTerms:"/coin/legal/terms-of-purchase-for-coins",coinTransactionsDetail:"/coin/transaction-history/detail",coinCardManagement:"/coin/card-management",coinExchange:"/coin/exchange",liveDiscover:"/live",liveGoLive:"/live/producer",liveRoom:"/@:uniqueId/live",liveEvent:"/live/event/:eventId",liveRoomEmbed:"/embed/@:uniqueId/live",rechargeBindInfo:"/recharge/bind-info",coinBindInfo:"/coin/bind-info",rechargeWithHash:"/recharge/:refhash",rechargenWithUser:"/recharge/@:uniqueId",rechargeWithHashAndUser:"/recharge/:refhash/@:uniqueId",coinWithHash:"/coin/:refhash",coinWithUser:"/coin/@:uniqueId",coinWithHashAndUser:"/coin/:refhash/@:uniqueId",studioLogin:"/studio/login",studioDownload:"/studio/download",studioFaq:"/studio/faq",liveReferralHost:"/live/referral/host",liveReferralHostFaq:"/live/referral/host/faq",liveSubscription:"/live/subscription",liveSubscriptionGuide:"/live/subscription/guide",liveSubscriptionBadgeSetting:"/live/subscription/badge-setting",liveSubscriptionEmoteSetting:"/live/subscription/emote-setting",liveSubscriptionComplete:"/live/subscription/complete",liveSubscriptionSetting:"/live/subscription/setting",liveSubscriptionMysubsription:"/live/subscription/my-subscription"});var Kt=i(13597),Yt=i.n(Kt);const Jt={Primary:"rgba(255, 59, 92, 1.0)",Primary2:"rgba(255, 255, 255, 0.9)",Secondary:"rgba(32, 213, 236, 1.0)",Secondary2:"rgba(0, 198, 233, 1.0)",Link:"rgba(255, 59, 92, 1.0)",Link2:"rgba(255, 59, 92, 1.0)",Link3:"rgba(255, 59, 92, 1.0)",Positive:"rgba(11, 224, 155, 1.0)",Negative:"rgba(255, 76, 58, 1.0)",ToastDefault:"rgba(84, 84, 84, 0.92)",ToastNegative:"rgba(255, 76, 58, 0.92)",TextPrimary:"rgba(255, 255, 255, 0.9)",TextSecondary:"rgba(255, 255, 255, 0.75)",TextTertiary:"rgba(255, 255, 255, 0.5)",TextTertiary2:"rgba(255, 255, 255, 0.75)",TextQuaternary:"rgba(255, 255, 255, 0.34)",TextReverse:"rgba(255, 255, 255, 0.9)",TextReverse2:"rgba(255, 255, 255, 0.75)",TextReverse3:"rgba(255, 255, 255, 0.5)",TextReverse4:"rgba(255, 255, 255, 0.34)",ConstTextInverse:"rgba(255, 255, 255, 1.0)",ConstTextInverse2:"rgba(255, 255, 255, 0.9)",ConstTextInverse3:"rgba(255, 255, 255, 0.75)",ConstTextInverse4:"rgba(255, 255, 255, 0.5)",ConstTextInverse5:"rgba(255, 255, 255, 0.34)",BGPrimary:"rgba(18, 18, 18, 1.0)",BGPrimary2:"rgba(255, 255, 255, 0.04)",BGSecondary2:"rgba(255, 255, 255, 0.08)",BGSecondary:"rgba(37, 37, 37, 1.0)",BGTertiary:"rgba(46, 46, 46, 1.0)",BGTertiary2:"rgba(255, 255, 255, 0.12)",BGQuaternary:"rgba(56, 56, 56, 1.0)",BGInput:"rgba(255, 255, 255, 0.12)",BGInput2:"rgba(255, 255, 255, 0.08)",BGPlaceholderDefault:"rgba(255, 255, 255, 0.08)",BGPlaceholderOpaque:"rgba(37, 37, 37, 1.0)",BGView:"rgba(255, 255, 255, 0.04)",BGView2:"rgba(255, 255, 255, 0.0)",BGCreation:"rgba(18, 18, 18, 1.0)",BGCreation2:"rgba(27, 27, 27, 1.0)",BGCreation3:"rgba(18, 18, 18, 1.0)",ConstBGInverse:"rgba(0, 0, 0, 1.0)",ConstBGInverse2:"rgba(0, 0, 0, 0.6)",BGInverse3:"rgba(37, 37, 37, 0.6)",ConstBGContainer:"rgba(255, 255, 255, 0.12)",ConstBGContainer2:"rgba(255, 255, 255, 0.08)",ConstBGContainer3:"rgba(255, 255, 255, 0.04)",BGReverse:"rgba(18, 18, 18, 1.0)",BGBrand:"rgba(254, 44, 85, 0.34)",BGReverse2:"rgba(18, 18, 18, 0.9)",SDPrimary:"rgba(0, 0, 0, 0.8)",SDSecondary:"rgba(0, 0, 0, 0.68)",SDTertiary:"rgba(0, 0, 0, 0.5)",ShadowPrimary:"rgba(0, 0, 0, 0.12)",ShadowSecondary:"rgba(0, 0, 0, 0.06)",LineInput:"rgba(255, 255, 255, 0.5)",LinePrimary:"rgba(255, 255, 255, 0.0)",LinePrimary2:"rgba(255, 255, 255, 0.2)",LineSecondary:"rgba(255, 255, 255, 0.12)",LineSecondary2:"rgba(255, 255, 255, 0.0)",LineSecondary3:"rgba(255, 255, 255, 0.0)",LineReverse2:"rgba(255, 255, 255, 0.12)",LineReverse3:"rgba(255, 255, 255, 0.0)",LineInverse:"rgba(255, 255, 255, 0.0)",ConstLineInverse:"rgba(255, 255, 255, 0.2)",ConstLineInverse2:"rgba(255, 255, 255, 0.12)",TagGreenText:"rgba(178, 255, 217, 1.0)",TagGreenBG:"rgba(89, 128, 102, 1.0)",TagPurpleText:"rgba(255, 178, 217, 1.0)",TagPurpleBG:"rgba(128, 89, 108, 1.0)",TagBrownText:"rgba(255, 179, 179, 1.0)",TagBrownBG:"rgba(128, 89, 89, 1.0)",LiveColorStart:"rgba(255, 23, 100, 1.0)",LiveColorEnd:"rgba(237, 52, 149, 1.0)",ConstSecondary:"rgba(32, 213, 236, 1)",ConstSecondary2:"rgba(16, 162, 197, 1)",AssistColorYellow:"rgba(250, 206, 21, 1)",BGMessageIcon:"rgba(255, 255, 255, 0.08)",BGMessageOperateHover:"rgba(255, 255, 255, 0.12)"},Xt={Proxima:'"IBM Plex Sans", ProximaNova, Arial, Tahoma, PingFangSC, sans-serif',Sofia:'"IBM Plex Sans", SofiaPro, Arial, Tahoma, PingFangSC, sans-serif'},ei={P0:{fontSize:"24px",lineHeight:"32px"},P1:{fontSize:"18px",lineHeight:"25px"},P2:{fontSize:"16px",lineHeight:"22px"},P3:{fontSize:"14px",lineHeight:"20px"},P4:{fontSize:"12px",lineHeight:"17px"},H0:{fontSize:"96px",lineHeight:"115px"},H1:{fontSize:"72px",lineHeight:"86px"},H2:{fontSize:"56px",lineHeight:"68px"},H3:{fontSize:"32px",lineHeight:"38px"},H4:{fontSize:"24px",lineHeight:"28px"},H5:{fontSize:"18px",lineHeight:"22px"},H6:{fontSize:"14px",lineHeight:"17px"}};var ti;!function(e){e[e.Dark=0]="Dark",e[e.Bright=1]="Bright",e[e.System=2]="System"}(ti||(ti={}));const ii={isMobile:!1,direction:"ltr",isDark:!1,colors:{Primary:"rgba(254, 44, 85, 1.0)",Primary2:"rgba(22, 24, 35, 1.0)",Secondary:"rgba(32, 213, 236, 1.0)",Secondary2:"rgba(0, 198, 233, 1.0)",Link:"rgba(254, 44, 85, 1.0)",Link2:"rgba(254, 44, 85, 1.0)",Link3:"rgba(254, 44, 85, 1.0)",Positive:"rgba(11, 224, 155, 1.0)",Negative:"rgba(255, 76, 58, 1.0)",ToastDefault:"rgba(84, 84, 84, 0.92)",ToastNegative:"rgba(255, 76, 58, 0.92)",TextPrimary:"rgba(22, 24, 35, 1.0)",TextSecondary:"rgba(22, 24, 35, 0.75)",TextTertiary:"rgba(22, 24, 35, 0.5)",TextTertiary2:"rgba(22, 24, 35, 0.5)",TextQuaternary:"rgba(22, 24, 35, 0.34)",TextReverse:"rgba(22, 24, 35, 1.0)",TextReverse2:"rgba(22, 24, 35, 0.75)",TextReverse3:"rgba(22, 24, 35, 0.5)",TextReverse4:"rgba(22, 24, 35, 0.34)",ConstTextInverse:"rgba(255, 255, 255, 1.0)",ConstTextInverse2:"rgba(255, 255, 255, 0.9)",ConstTextInverse3:"rgba(255, 255, 255, 0.75)",ConstTextInverse4:"rgba(255, 255, 255, 0.5)",ConstTextInverse5:"rgba(255, 255, 255, 0.34)",BGPrimary:"rgba(255, 255, 255, 1.0)",BGPrimary2:"rgba(255, 255, 255, 1.0)",BGSecondary2:"rgba(255, 255, 255, 1.0)",BGSecondary:"rgba(255, 255, 255, 1.0)",BGTertiary:"rgba(255, 255, 255, 1.0)",BGTertiary2:"rgba(255, 255, 255, 1.0)",BGQuaternary:"rgba(255, 255, 255, 1.0)",BGInput:"rgba(22, 24, 35, 0.06)",BGInput2:"rgba(22, 24, 35, 0.06)",BGPlaceholderDefault:"rgba(22, 24, 35, 0.06)",BGPlaceholderOpaque:"rgba(241, 241, 241, 1.0)",BGView:"rgba(22, 24, 35, 0.03)",BGView2:"rgba(22, 24, 35, 0.03)",BGCreation:"rgba(18, 18, 18, 1.0)",BGCreation2:"rgba(27, 27, 27, 1.0)",BGCreation3:"rgba(248, 248, 248, 1.0)",ConstBGInverse:"rgba(0, 0, 0, 1.0)",ConstBGInverse2:"rgba(0, 0, 0, 0.6)",BGInverse3:"rgba(37, 37, 37, 0.6)",ConstBGContainer:"rgba(255, 255, 255, 0.12)",ConstBGContainer2:"rgba(255, 255, 255, 0.08)",ConstBGContainer3:"rgba(255, 255, 255, 0.04)",BGReverse:"rgba(255, 255, 255, 1.0)",BGBrand:"rgba(254, 44, 85, 0.06)",BGReverse2:"rgba(255, 255, 255, 0.9)",SDPrimary:"rgba(0, 0, 0, 0.8)",SDSecondary:"rgba(0, 0, 0, 0.5)",SDTertiary:"rgba(0, 0, 0, 0.2)",ShadowPrimary:"rgba(0, 0, 0, 0.12)",ShadowSecondary:"rgba(0, 0, 0, 0.06)",LineInput:"rgba(22, 24, 35, 0.5)",LinePrimary:"rgba(22, 24, 35, 0.2)",LinePrimary2:"rgba(22, 24, 35, 0.2)",LineSecondary:"rgba(22, 24, 35, 0.12)",LineSecondary2:"rgba(22, 24, 35, 0.12)",LineSecondary3:"rgba(22, 24, 35, 0.03)",LineReverse2:"rgba(22, 24, 35, 0.12)",LineReverse3:"rgba(22, 24, 35, 0.12)",LineInverse:"rgba(22, 24, 35, 0.2)",ConstLineInverse:"rgba(255, 255, 255, 0.2)",ConstLineInverse2:"rgba(255, 255, 255, 0.12)",TagGreenText:"rgba(89, 128, 108, 1.0)",TagGreenBG:"rgba(239, 245, 242, 1.0)",TagPurpleText:"rgba(128, 89, 121, 1.0)",TagPurpleBG:"rgba(246, 240, 245, 1.0)",TagBrownText:"rgba(128, 89, 89, 1.0)",TagBrownBG:"rgba(245, 240, 240, 1.0)",LiveColorStart:"rgba(255, 23, 100, 1.0)",LiveColorEnd:"rgba(237, 52, 149, 1.0)",ConstSecondary:"rgba(32, 213, 236, 1.0)",ConstSecondary2:"rgba(16, 162, 197, 1.0)",AssistColorYellow:"rgba(250, 206, 21, 1)",BGMessageIcon:"rgb(241, 241, 242)",BGMessageOperateHover:"rgba(196, 196, 196, .425)"},link:{color:"#0078d4",hoverColor:"#004578",activeColor:"#004578",focusColor:"#0078d4",visitedColor:"#0078d4"},selection:{background:"rgba(141, 214, 249, 0.35)"},text:{fontFamily:'"SofiaPro", PingFangSC, sans-serif',fontSize:"14px",color:"#000"},border:{radius:"3px"},boxShadowBase:"0 1.6px 3.6px 0 rgba(0,0,0,.132), 0 0.3px 0.9px 0 rgba(0,0,0,.108)",markdown:{blockquote:{color:"#4e7182",backgroundColor:"#eaf8ff"},inlineCode:{color:"hotpink",background:"rgba(70, 94, 105, 0.05)"}},typography:{P0:{fontSize:"24px",lineHeight:"32px"},P1:{fontSize:"18px",lineHeight:"25px"},P2:{fontSize:"16px",lineHeight:"22px"},P3:{fontSize:"14px",lineHeight:"20px"},P4:{fontSize:"12px",lineHeight:"17px"},H0:{fontSize:"96px",lineHeight:"115px"},H1:{fontSize:"72px",lineHeight:"86px"},H2:{fontSize:"56px",lineHeight:"68px"},H3:{fontSize:"32px",lineHeight:"38px"},H4:{fontSize:"24px",lineHeight:"28px"},H5:{fontSize:"18px",lineHeight:"22px"},H6:{fontSize:"14px",lineHeight:"17px"}},fontFamilies:{Proxima:"ProximaNova, Arial, Tahoma, PingFangSC, sans-serif",Sofia:"SofiaPro, Arial, Tahoma, PingFangSC, sans-serif"},fontWeights:{normal:400,medium:500,semiBold:600,bold:700}};function oi(e,t){var i;const o=Object.create(null);for(const[n,a]of Object.entries(e)){const e=t[n];o[n]="object"==typeof e?oi(a,e):null!==(i=t[n])&&void 0!==i?i:a}return o}function ni(e){const{isDark:t,isMobile:i,lang:o}=e,n={};return t&&(n.colors=Jt,n.isDark=!0),i&&(n.typography=ei),"vi-VN"===o?n.fontFamilies=Xt:"ar"!==o&&"he-IL"!==o&&"ur"!==o||(n.direction="rtl"),n.isMobile=i,oi(ii,n)}const ai=(0,u.createContext)({value:!1,toggle:Yt()}),ri=[{"*, *::before, *::after":{boxSizing:"border-box"},"body,h1,h2,h3,h4,p,figure,blockquote,dl,dd":{margin:0},'ul[role="list"], ol[role="list"]':{listStyle:"none"},"html:focus-within":{scrollBehavior:"smooth"},body:{minHeight:"100vh",textRendering:"optimizeSpeed",lineHeight:1.5},"a:not([class])":{textDecorationSkipInk:"auto"},"img, picture":{maxWidth:"100%",display:"block"},"input,button,textarea,select":{font:"inherit"},"@media (prefers-reduced-motion: reduce)":{"html:focus-within":{scrollBehavior:"auto"},"*,*::before,*::after":{animationDuration:"0.01ms !important",animationIterationCount:"1 !important",transitionDuration:"0.01ms !important",scrollBehavior:"auto !important"}},"@supports (-webkit-touch-callout: none)":{body:{minHeight:"-webkit-fill-available"}}}];var si=i(7998);const li=36,di=(0,F.F4)({"25%":{cx:100,r:1.2*li},"50%":{cx:140,r:li},"75%":{cx:100,r:.6*li},"100%":{cx:60,r:li}}),ci=(0,F.F4)({"25%":{cx:100,r:24},"50%":{cx:60,r:li},"75%":{cx:100,r:1.2*li},"100%":{cx:140,r:li}});var pi;!function(e){e[e.Red=0]="Red",e[e.Green=1]="Green",e[e.Black=2]="Black"}(pi||(pi={}));const gi={strokeWidth:0,r:li,cy:99},mi={0:{fill:"#fe2c55",cx:128,animation:`${ci} 1s cubic-bezier(.05, 0, 1, 1) infinite`},1:{fill:"#3af2ff",cx:60,animation:`${di} 1s cubic-bezier(.05, 0, 1, 1) infinite`},2:{fill:"#0f0f0f",cx:60,animation:`${di} 1s cubic-bezier(.05, 0, 1, 1) infinite`}},ui=(0,si.Z)("circle",{target:"e1ugmybf0"})((({circleType:e,isBlack:t})=>[gi,mi[e],t?{fill:"#000"}:null]),"label:Circle;"),hi=(0,si.Z)("svg",{target:"e1ugmybf1"})({display:"block"},(({center:e})=>e?{margin:"6px auto"}:null),"label:SvgContainer;"),_i={default:48,small:32},vi=(0,u.memo)((0,u.forwardRef)((function(e,t){var{size:i=48,center:n=!1,maskKey:a=Date.now()}=e,r=(0,x.__rest)(e,["size","center","maskKey"]);const s="string"==typeof i?_i[i]:i;return(0,o.jsxs)(hi,Object.assign({center:n,preserveAspectRatio:"none",viewBox:"0 0 200 200",width:s,height:s},r,{ref:t},{children:[(0,o.jsxs)("defs",{children:[(0,o.jsxs)("mask",Object.assign({id:`redhole-${a}`},{children:[(0,o.jsx)("rect",{width:"100%",height:"100%",fill:"white"},void 0),(0,o.jsx)(ui,{circleType:0,isBlack:!0},void 0)]}),void 0),(0,o.jsxs)("mask",Object.assign({id:`greenhole-${a}`},{children:[(0,o.jsx)("rect",{width:"100%",height:"100%",fill:"white"},void 0),(0,o.jsx)(ui,{circleType:1,isBlack:!0},void 0)]}),void 0)]},void 0),(0,o.jsx)(ui,{strokeWidth:2,stroke:"#3AF2FF",circleType:2},void 0),(0,o.jsx)(ui,{circleType:1,mask:`url(#redhole-${a})`},void 0),(0,o.jsx)(ui,{circleType:0,mask:`url(#greenhole-${a})`},void 0)]}),void 0)})));let bi=null;function yi(e){var t;return bi||(bi=document.createElement("div"),bi.style.cssText="display: inline-block; position: fixed; left: calc(50% - 15px); top: 38%;",(e&&null!==(t=document.querySelector(e))&&void 0!==t?t:document.body).appendChild(bi)),bi}var fi=i(66312),xi=i(55602),ki=i(68191);const wi=(0,si.Z)("div",{target:"ef2t4c20"})((({center:e})=>({display:"flex",flexDirection:"column",alignItems:e?"center":"flex-start"})),"label:DivContainer;"),Ci=(0,F.F4)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),ji=(0,si.Z)("svg",{target:"ef2t4c21"})({margin:"0 !important",fill:"none",animation:`${Ci} 1s linear infinite`},"label:SvgBox;"),Si={small:16,medium:18,large:20},Li=(0,u.memo)((function({theme:e="primary",size:t="medium",center:i=!1,style:n={},fill:r=""}){const{colors:s}=(0,a.u)(),l=(0,u.useMemo)((()=>{const{BGCreation:t,BGPrimary:i,Primary:o}=s;return r||{white:t,primary:i,transparent:o}[e]}),[s,r,e]),d="string"==typeof t?Si[t]:t,c=Object.assign(Object.assign({},n),{width:d,height:d});return(0,o.jsx)(wi,Object.assign({center:i,style:c},{children:(0,o.jsx)(ji,Object.assign({width:d,height:d,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg"},{children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",fill:l,d:"M0 9C0 4.02944 4.02944 0 9 0C13.9706 0 18 4.02944 18 9C18 9.82843 17.3284 10.5 16.5 10.5C15.6716 10.5 15 9.82843 15 9C15 5.68629 12.3137 3 9 3C5.68629 3 3 5.68629 3 9C3 12.3137 5.68629 15 9 15C10.415 15 11.7119 14.512 12.7375 13.6941C13.3852 13.1775 14.329 13.2838 14.8455 13.9315C15.3621 14.5792 15.2558 15.5229 14.6081 16.0395C13.0703 17.266 11.1188 18 9 18C4.02944 18 0 13.9706 0 9Z"},void 0)}),void 0)}),void 0)}));var Pi=i(34103);const Ai="rgb(208, 209, 211)",Ti=({theme:e,buttonTheme:t})=>{switch(t){case"default":return{borderWidth:"1px",borderStyle:"solid",borderRadius:"4px",color:e.colors.TextPrimary,borderColor:e.colors.LineSecondary2,backgroundColor:e.colors.BGSecondary2,":hover":{borderColor:Ai,backgroundColor:e.colors.BGCreation3},":active":{borderColor:Ai,backgroundColor:e.colors.BGMessageIcon},":disabled":{borderColor:"rgb(227, 227, 229)",backgroundColor:e.colors.BGSecondary2,color:e.colors.TextQuaternary}};case"line":return{borderWidth:"1px",borderStyle:"solid",borderRadius:"4px",color:e.colors.Primary,borderColor:e.colors.Primary,backgroundColor:e.colors.BGSecondary2,":hover":{backgroundColor:"rgba(254, 44, 85, 0.06)"},":active":{backgroundColor:"rgba(254, 44, 85, 0.16)"},":disabled":{borderColor:e.colors.LineSecondary2,backgroundColor:e.colors.BGSecondary2,color:e.colors.TextQuaternary,pointerEvents:"none"}};case"primary":return{borderRadius:"4px",border:"none",color:e.colors.ConstTextInverse,backgroundColor:e.colors.Primary,":hover":{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.06), rgba(0, 0, 0, 0.06)), #FE2C55"},":active":{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.12), rgba(0, 0, 0, 0.12)), #FE2C55"},":disabled":{border:"none",color:e.colors.TextQuaternary,backgroundColor:e.colors.BGInput2,pointerEvents:"none"}};case"round":return{borderRadius:"52px",border:"none",color:e.colors.ConstTextInverse,backgroundColor:e.colors.ToastDefault,":hover":{},":active":{},":disabled":{}};default:return{":hover":{},":active":{},":disabled":{}}}},Oi="ProximaNova, PingFangSC, sans-serif",Mi="SofiaPro, PingFangSC, sans-serif",Ri={largeNew:{minWidth:"120px",minHeight:"46px",fontSize:"16px",lineHeight:"22px",fontWeight:700,fontFamily:Oi},large:{minWidth:"168px",minHeight:"48px",fontSize:"18px",lineHeight:"25px",fontWeight:600,fontFamily:Mi},medium:{minWidth:"164px",minHeight:"36px",fontSize:"18px",lineHeight:"25px",fontWeight:600,fontFamily:Mi},small:{minWidth:"106px",minHeight:"28px",fontSize:"16px",lineHeight:"22px",fontWeight:600,fontFamily:Oi},tiny:{minWidth:"96px",minHeight:"28px",fontFamily:Oi,fontSize:"14px",lineHeight:"17px",fontWeight:600}},Fi=(0,si.Z)("button",{shouldForwardProp:e=>(0,Pi.Z)(e)&&"loading"!==e,target:"ehk74z00"})((({buttonTheme:e="default",size:t="large",theme:i,loading:o=!1})=>[Ti({theme:i,buttonTheme:e}),Ri[t],{display:"flex",position:"relative",alignItems:"center",justifyContent:"center",padding:"6px 8px",userSelect:"none",cursor:"pointer",boxSizing:"border-box",":focus":{outline:"none"}},Object.assign({},o?{color:"transparent",pointerEvents:"none"}:{})]),"label:Button;"),Ei=(0,u.memo)((function(e){var{buttonTheme:t,size:i,type:n="button",loading:a=!1,loadingTheme:r="primary",loadingSize:s="medium",children:l}=e,d=(0,x.__rest)(e,["buttonTheme","size","type","loading","loadingTheme","loadingSize","children"]);return(0,o.jsxs)(Fi,Object.assign({type:n,buttonTheme:t,loading:a,size:i},d,{children:[l,a&&(0,o.jsx)(Li,{style:{position:"absolute",top:"50%",transform:"translateY(-50%)"},theme:r,size:s},void 0)]}),void 0)})),Ii=(0,ki.Z)("div",{target:"emuynwa0"})((({isFullScreen:e})=>e?{flex:"1 1 auto"}:null),{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",margin:"0 auto"},"label:DivErrorContainer;"),Di={1:"rgba(22, 24, 35, 1.0)",0:"rgba(255, 255, 255, 0.9)"},zi=(0,ki.Z)("p",{target:"emuynwa1"})((({brightness:e=1,theme:{typography:t,fontWeights:i,fontFamilies:o}})=>[t.H4,{fontFamily:o.Sofia,fontWeight:i.bold,color:Di[e],marginTop:"24px"}]),"label:PTitle;"),Bi={1:"rgba(22, 24, 35, 0.75)",0:"rgba(255, 255, 255, 0.5)"},Ni=(0,ki.Z)("p",{target:"emuynwa2"})((({brightness:e=1,theme:{typography:t,fontWeights:i,fontFamilies:o}})=>[t.P2,{fontFamily:o.Proxima,fontWeight:i.normal,color:Bi[e],marginTop:"8px"}]),"label:PDesc;"),Ui=(0,ki.Z)(Ei,{target:"emuynwa3"})({marginTop:"62px"},"label:StyledButton;"),Hi=function(e){const{iconElem:t,title:i,desc:n,buttonText:a,isFullScreen:r,brightness:s=1,e2eTitle:l,e2eDesc:d}=e;return(0,o.jsxs)(Ii,Object.assign({isFullScreen:r},{children:[t,i&&(0,o.jsx)(zi,Object.assign({"data-e2e":l,brightness:s},{children:i}),void 0),n&&(0,o.jsx)(Ni,Object.assign({"data-e2e":d,brightness:s},{children:n}),void 0),Boolean(a)&&(0,o.jsx)(Ui,Object.assign({type:"button",onClick:e.onButtonClick,buttonTheme:"default",size:"large"},{children:a}),void 0)]}),void 0)};var Wi=i(24708);const Gi=(0,Wi.Z)("div",{target:"eyhjz840"})({height:"100vh",display:"flex",flexDirection:"column"},"label:DivErrorBoundaryContainer;");class Zi extends u.Component{constructor(){super(...arguments),this.state={isNetOffline:!1,hasError:!1},this.handleOnlineStatusChange=()=>{this.setState({isNetOffline:!navigator.onLine})}}get iconElem(){const{hasError:e}=this.state;return e?(0,o.jsx)(fi.Z,{width:90,height:90,fill:"rgba(128, 130, 133, 1)"},void 0):(0,o.jsx)(xi.Z,{width:90,height:90,fill:"rgba(128, 130, 133, 1)"},void 0)}get text(){const{hasError:e}=this.state;return e?{title:"Page not available",desc:"server_error_sub",button:"try_again_btn"}:{title:"network_error_title",desc:"network_error_sub",button:"try_again_btn"}}componentDidMount(){window.addEventListener("online",this.handleOnlineStatusChange),window.addEventListener("offline",this.handleOnlineStatusChange)}componentWillUnmount(){window.removeEventListener("online",this.handleOnlineStatusChange),window.removeEventListener("offline",this.handleOnlineStatusChange)}handleRetry(){window.location.reload()}componentDidCatch(e,t){const{onCatchError:i}=this.props;i(e,t),this.setState({hasError:!0})}render(){const{isNetOffline:e,hasError:t}=this.state,{children:i,isMobile:n}=this.props,{t:a}=this.context;if(e||t){const{title:e,desc:t,button:i}=this.text;return n?(0,o.jsx)(Gi,{children:(0,o.jsx)(Hi,{brightness:0,isFullScreen:!0,iconElem:this.iconElem,title:a(e),desc:a(t),buttonText:a(i),onButtonClick:this.handleRetry},void 0)},void 0):(0,o.jsx)(Hi,{isFullScreen:!0,onButtonClick:this.handleRetry,iconElem:this.iconElem,title:a(e),desc:a(t),buttonText:a(i)},void 0)}return i}}Zi.contextType=y;let qi=class{constructor(e){this.fetch=e}reportRenderError(e){return this.fetch.get("/node-webapp/page/error",{query:{page:e}})}};function Vi({children:e,isMobile:t}){var i;const n=(0,m.fz)(Lt),[r,s]=(0,E.b7)(Zt,{selector:e=>({lang:e.lang,appContext:e.appContext&&D()(e.appContext,"statusCode"),initialized:e.initialized}),dependencies:[]}),{pathname:l,search:d}=(0,B.TH)(),c=function(e,t){const{pathname:i,search:o}=(0,B.TH)();return(0,Dt.getI18nNamespace)({isMobile:e,search:o,pathname:i,isSearchbot:t})}(t,null===(i=r.appContext)||void 0===i?void 0:i.isBot);(0,u.useEffect)((()=>{var e,t,i,o,a;const l=null!==(o=null!==(i=null===(t=null===(e=(0,z.parse)(d))||void 0===e?void 0:e.lang)||void 0===t?void 0:t.toString())&&void 0!==i?i:document.documentElement.getAttribute("lang"))&&void 0!==o?o:"en";s.init({lang:l,starlingNs:c}),"others"===(null===(a=r.appContext)||void 0===a?void 0:a.botType)&&n.checkTTwid(),n.initTargetIdcRequest().subscribe()}),[s]);const p=(0,m.fz)(Se);Vt((()=>{r.appContext&&p.setAppContext(r.appContext)}),[p,r.appContext]);const{GlobalModalProvider:g,value:h}=function(){const e=(0,u.useRef)(0),t=(0,u.useRef)(0),i=(0,u.useRef)([]),o=(0,u.useCallback)((t=>{e.current=t}),[]),n=(0,u.useCallback)((e=>{t.current=e}),[]),a=(0,u.useCallback)((e=>(i.current.push(e),()=>{const t=i.current.indexOf(e);i.current.splice(t)})),[]),r=(0,u.useMemo)((()=>({counterRef:e,subscribeRef:i,scrollWidthRef:t,setCounter:o,setScrollWidth:n,subscribeModalChange:a})),[a,o,n]);return{GlobalModalProvider:$t.Provider,value:r}}(),{value:_}=(0,u.useContext)(ai),v=(0,u.useMemo)((()=>ni({isDark:_,isMobile:t,lang:r.lang})),[_,t,r.lang]),b=(w={isDark:_,lang:r.lang,isMobile:t},(0,u.useMemo)((()=>{return e=ni(w),t=w.isMobile,[ri,{body:{fontFamily:e.fontFamilies.Proxima,fontSize:e.text.fontSize,color:e.colors.TextPrimary,backgroundColor:e.colors.BGPrimary,overscrollBehavior:"contain",direction:e.direction,a:{color:e.colors.TextPrimary,transition:"color 250ms",textDecoration:"none",cursor:"pointer"},"a:visited":{color:e.colors.TextPrimary},"a:hover":{color:e.colors.TextPrimary,textDecoration:"underline"},"a:active":{color:e.colors.TextPrimary},"a:focus":{color:e.colors.TextPrimary},input:{"::-ms-clear":{display:"none",width:0,height:0},"::-ms-reveal":{display:"none",width:0,height:0},"::-webkit-search-decoration, ::-webkit-search-cancel-button, ::-webkit-search-results-button, ::-webkit-search-results-decoration":{display:"none"}},"&.hidden":{overflow:"hidden"},WebkitFontSmoothing:"antialiased"}},{"@font-face":{fontFamily:"ProximaNova",src:'local("ProximaNova-Regular"),url(//lf16-tiktok-web.ttwstatic.com/obj/tiktok-web-common-sg/falcon/tiktok_fonts/Proxima-Nova-Regular.woff2) format("woff2"),url(//lf16-tiktok-web.ttwstatic.com/obj/tiktok-web-common-sg/falcon/tiktok_fonts/Proxima-Nova-Regular.woff) format("woff"),url(//lf16-tiktok-web.ttwstatic.com/obj/tiktok-web-common-sg/falcon/tiktok_fonts/Proxima-Nova-Regular.otf) format("opentype")',fontWeight:400,fontStyle:"normal",fontDisplay:"swap"}},{"@font-face":{fontFamily:"ProximaNova",src:'local("ProximaNova-Semibold"),url(./index_files/ProximaNova-Semibold.woff2) format("woff2"),url(./index_files/ProximaNova-Semibold.woff) format("woff"),url(./index_files/ProximaNova-Semibold.otf) format("opentype")',fontWeight:600,fontStyle:"normal",fontDisplay:"swap"}},{"@font-face":{fontFamily:"ProximaNova",src:'local("ProximaNova-Bold"),url(//lf16-tiktok-web.ttwstatic.com/obj/tiktok-web-common-sg/falcon/tiktok_fonts/Proxima-Nova-Bold.woff) format("woff"),url(//lf16-tiktok-web.ttwstatic.com/obj/tiktok-web-common-sg/falcon/tiktok_fonts/Proxima-Nova-Bold.otf) format("opentype")',fontWeight:700,fontStyle:"normal",fontDisplay:"swap"}},{"@font-face":{fontFamily:"SofiaPro",src:'local("SofiaPro-Regular"),url(//lf16-tiktok-web.ttwstatic.com/obj/tiktok-web-common-sg/falcon/tiktok_fonts/sofiapro-regular.woff) format("woff"),url(//lf16-tiktok-web.ttwstatic.com/obj/tiktok-web-common-sg/falcon/tiktok_fonts/sofiapro-regular.otf) format("opentype")',fontWeight:400,fontStyle:"normal",fontDisplay:"swap"}},{"@font-face":{fontFamily:"SofiaPro",src:'local("SofiaPro-Medium"),url(//lf16-tiktok-web.ttwstatic.com/obj/tiktok-web-common-sg/falcon/tiktok_fonts/sofiapro-medium.woff) format("woff"),url(//lf16-tiktok-web.ttwstatic.com/obj/tiktok-web-common-sg/falcon/tiktok_fonts/sofiapro-medium.otf) format("opentype")',fontWeight:500,fontStyle:"normal",fontDisplay:"swap"}},{"@font-face":{fontFamily:"SofiaPro",src:'local("SofiaPro-Semibold"),url(//lf16-tiktok-web.ttwstatic.com/obj/tiktok-web-common-sg/falcon/tiktok_fonts/sofiapro-semibold.otf) format("opentype")',fontWeight:600,fontStyle:"normal",fontDisplay:"swap"}},{"@font-face":{fontFamily:"SofiaPro",src:'local("SofiaPro-Bold"),url(//lf16-tiktok-web.ttwstatic.com/obj/tiktok-web-common-sg/falcon/tiktok_fonts/sofiapro-bold.woff) format("woff"),url(//lf16-tiktok-web.ttwstatic.com/obj/tiktok-web-common-sg/falcon/tiktok_fonts/sofiapro-bold.otf) format("opentype")',fontWeight:700,fontStyle:"normal",fontDisplay:"swap"}},{html:t?{}:{body:{overflowY:"overlay"},"*":{"::-webkit-scrollbar":{borderRadius:"0",width:"8px"},"::-webkit-scrollbar-track":{borderRadius:"0",backgroundColor:"rgba(0, 0, 0, 0)"},"::-webkit-scrollbar-thumb":{borderRadius:"4px",backgroundColor:"rgba(0, 0, 0, .15)"}}}}];var e,t}),[w])),y=(0,m.fz)(at),f=(0,m.fz)(qi),x=(0,u.useMemo)((()=>function(e){return de(e)?"homepage_hot":/^\/@(.*?)\/video\/(.*?)/.test(e)?"video_detail":/^\/@(.*?)\/live\/(.*?)/.test(e)?"live_detail":/^\/@(.*?)/.test(e)?"others_homepage":/^\/music\//.test(e)?"single_song":/^\/tag\//.test(e)?"challenge":/^\/following/.test(e)?"homepage_follow":/^\/discover\/.+/.test(e)?"discover_kw":/^\/discover/.test(e)?"discovery":/^\/profile/.test(e)?"personal_homepage":/^\/topics/.test(e)?`topic_${e.slice(1).split("/")[1]}`:/^\/inbox/.test(e)?"homepage_message":/^\/report/.test(e)?"report":(0,B.LX)(e,{path:ne.searchHome,exact:!0})?"general_search":(0,B.LX)(e,{path:ne.searchUser,exact:!0})?"search_user":(0,B.LX)(e,{path:ne.searchVideo,exact:!0})?"search_video":(0,B.LX)(e,{path:Qt.liveGoLive,exact:!0})?"live_take":(0,B.LX)(e,{path:[Qt.liveReferralHost,Qt.liveReferralHostFaq],exact:!0})?"live_referral_host":(0,B.LX)(e,{path:Qt.liveDiscover,exact:!0})?"live_discover":(0,B.LX)(e,{path:Qt.liveRoomEmbed,exact:!0})?"live_embed_detail":(0,B.LX)(e,{path:Qt.liveRoom,exact:!0})?"live_detail":(0,B.LX)(e,{path:Qt.rechargePayment,exact:!0})||(0,B.LX)(e,{path:Qt.coinPayment,exact:!0})?"live_recharge_cashier":(0,B.LX)(e,{path:re.loginHome,exact:!1})||(0,B.LX)(e,{path:re.oauth,exact:!1})||(0,B.LX)(e,{path:re.oauthLine,exact:!1})?"login":(0,B.LX)(e,{path:re.signupHome,exact:!1})?"signup":(0,B.LX)(e,{path:[Qt.recharge,Qt.rechargePaymentCode,Qt.rechargePaymentResult,Qt.rechargeTransactions,Qt.rechargeUnavailable,Qt.rechargeTerms,Qt.rechargeTransactionsDetail,Qt.rechargeCardManagement,Qt.coin,Qt.coinPaymentCode,Qt.coinPaymentResult,Qt.coinTransactions,Qt.coinUnavailable,Qt.coinTerms,Qt.coinTransactionsDetail,Qt.coinCardManagement],exact:!0})?"live_recharge":"unknown"}(l)),[l]),k=(0,u.useCallback)(((e,t)=>{try{f.reportRenderError(x),y.captureMessage(`Page render Error: ${e.message}`,"fatal",{page:x}),console.info("Error occurs in render time:",e),console.info("Error occurs in component:",t.componentStack)}catch(e){console.error("Error occurs when reporting error:",e)}}),[f,x,y]);var w;return r.initialized?(0,o.jsx)(g,Object.assign({value:h},{children:(0,o.jsx)(a.a,Object.assign({theme:v},{children:(0,o.jsxs)(Zi,Object.assign({onCatchError:k,isMobile:t},{children:[(0,o.jsx)(F.xB,{styles:b},void 0),e]}),void 0)}),void 0)}),void 0):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(F.xB,{styles:{"#app":{justifyContent:"center"}}},void 0),(0,o.jsx)(vi,{center:!0,style:{margin:"auto"}},void 0)]},void 0)}qi=(0,x.__decorate)([(0,U.G)(),(0,x.__metadata)("design:paramtypes",[ft])],qi);var $i=i(6248),Qi=i(98154),Ki=i(4589),Yi=i(34685),Ji=i.n(Yi);function Xi({children:e,supportRoutes:t}){const i=function(e,t){const i=(0,Ki.lX)(t);function o(t){return(o,n)=>{const{pathname:a,href:r}=function(e){var t;if("string"==typeof e){const t=new URL(e,window.location.origin);return{pathname:t.pathname,href:t.href}}return{pathname:null!==(t=e.pathname)&&void 0!==t?t:"",href:`${e.pathname}${e.search}${e.hash}`}}(o);!function(e,t){return t.some((t=>Ji()(t).test(e)))}(a,e)?t?window.location.replace(r):window.location.href=r:t?i.replace(o,n):i.push(o,n)}}return Object.create(i,{push:{enumerable:!0,value:o(!1)},replace:{enumerable:!0,value:o(!0)}})}(t);return(0,o.jsx)(B.F0,Object.assign({history:i},{children:e}),void 0)}function eo({children:e}){const t=(0,B.k6)();return(0,o.jsx)($i.o,Object.assign({history:t},{children:e}),void 0)}function to({children:e}){const t=(0,u.useMemo)((()=>matchMedia("(prefers-color-schema: dark)")),[]),i=(0,u.useMemo)((()=>"1"===z.parse(window.location.search)._r),[]),[n,a]=(0,u.useState)(!i&&t.matches),r=(0,u.useCallback)((e=>{i||a(e.matches)}),[i]);(0,u.useEffect)((()=>(t.addListener(r),()=>{t.removeListener(r)})),[t,r]);const s=(0,u.useMemo)((()=>({value:n,toggle:a})),[n]);return(0,o.jsx)(ai.Provider,Object.assign({value:s},{children:e}),void 0)}const io=({children:e,supportRoutes:t})=>{var i,n,a,r;const s=null!==(r=null!==(a=null===(n=null===(i=window.SIGI_STATE)||void 0===i?void 0:i.I18n)||void 0===n?void 0:n.lang)&&void 0!==a?a:document.documentElement.getAttribute("lang"))&&void 0!==r?r:"en";return(0,u.useEffect)((()=>{(null===history||void 0===history?void 0:history.scrollRestoration)&&(history.scrollRestoration="manual")})),(0,o.jsx)(Qi.B6,{children:(0,o.jsx)(f,Object.assign({lang:s},{children:(0,o.jsx)(u.StrictMode,{children:(0,o.jsx)(Xi,Object.assign({supportRoutes:t},{children:(0,o.jsx)(eo,{children:(0,o.jsx)(to,{children:e},void 0)},void 0)}),void 0)},void 0)}),void 0)},void 0)};var oo=i(89974),no=i.n(oo);function ao(e,t){return(0,E.mp)(Zt,{selector:t=>{const i=t.appContext;return i?no()(i,...e()):i},dependencies:t})}let ro=class{constructor(){this.handlePolicyConfirmOnFYP=e=>{$e.event("tns_web_trending_setting",e)},this.handleAgeGateResponse=(e,t)=>{$e.event("age_gate_response",{enter_type:"click_sign_up",is_success:e?1:0,error_code:t})}}handleUniversalPopShow(e){$e.event("tns_general_dialog_show",e)}handleUniversalPopClick(e){$e.event("qa_tns_general_dialog_click",e)}};ro=(0,x.__decorate)([(0,U.G)()],ro);var so=i(72349),lo=i.n(so);let co=class{constructor(e){this.fetch=e}getComplianceSettings(){return this.fetch.get("/api/compliance/settings/",{query:{aid:1988,fromWeb:1}}).pipe(this.errorHandler)}validateAge(e){return this.fetch.post("https://www.tiktok.com/api/v3/register/verification/age/",{body:lo().stringify({fromWeb:1,source:"web",session_registered:1,birthday:e,tt_csrf_token:this.fetch.csrfToken})}).pipe(this.errorHandler)}errorHandler(e){return e.pipe((0,Oe.K)((e=>(0,q.of)(Object.assign({error_code:e.error_code||-1},e)))))}};var po,go;co=(0,x.__decorate)([(0,U.G)(),(0,x.__metadata)("design:paramtypes",[ft])],co),function(e){e[e.PASS=0]="PASS",e[e.FTC=1]="FTC",e[e.NormalThreshold=2]="NormalThreshold"}(po||(po={})),function(e){e[e.YoungerThan1=3008010]="YoungerThan1",e[e.YoungerThan2=3008012]="YoungerThan2",e[e.YoungerThan3=3008008]="YoungerThan3",e[e.OlderThan123=3008011]="OlderThan123"}(go||(go={}));let mo=class extends Pt.D{constructor(e,t){super(),this.service=e,this.pnsReport=t,this.defaultState={ageGateAction:0,registerLimited:!1,initial:!1,birthday:"",checkAgeLoading:!1,ageEligible:!1}}setYear(e,t){e.year=t}setMonth(e,t){e.month=t}setDate(e,t){e.date=t}setBirthday(e,t){const{year:i,month:o,date:n}=t,a=`${i}-${o<10?`0${o}`:o}-${n<10?`0${n}`:n}`;a!==e.birthday&&(e.birthday=a,e.ageEligible=!1,e.ageErrorMsg="",e.showAgeConfirm=!1,e.showErrorByToast=!1)}setAgeGateSetting(e,t){e.initial=!0,e.ageGateAction=t.action,e.registerLimited=t.registerLimited}setCheckAgeLoading(e,t){e.checkAgeLoading=t}setAgeCheckResult(e,t){e.ageErrorMsg=t.ageErrorMsg,e.ageEligible=t.ageEligible,e.showErrorByToast=Boolean(t.showErrorByToast),e.errorCode=t.errorCode}setShowAgeConfirm(e,t){e.showAgeConfirm=t}getComplianceSettings(e){return e.pipe((0,Q.z)((()=>this.service.getComplianceSettings().pipe((0,Me.U)((e=>{if(0===(null==e?void 0:e.status_code)){const{age_gate_info:t={},device_limit_register_expired:i=!0}=e,{register_age_gate_action:o=2}=t;return this.getActions().setAgeGateSetting({registerLimited:!i,action:o})}return this.noop()}))))))}validateAge(e){return e.pipe((0,Ft.M)(this.state$),(0,Q.z)((([{canSkip:e,checkPassCallback:t},{birthday:i,ageEligible:o,ageGateAction:n}])=>e||o||0===n?(null==t||t(),(0,q.of)(this.getActions().setCheckAgeLoading(!1),this.noop())):this.service.validateAge(i).pipe((0,Me.U)((e=>{const{is_eligible:i,status_code:o,status_msg:n,register_age_gate_post_action:a}=e;if(this.pnsReport.handleAgeGateResponse(i,o),i)return null==t||t(),this.getActions().setAgeCheckResult({ageErrorMsg:"",ageEligible:!0,errorCode:o});if(i||1!==a){const e=[3008010,3008012,3008008,3008011].includes(o);return this.getActions().setAgeCheckResult({ageErrorMsg:n||"Sorry, something went wrong, please try again later",ageEligible:!1,showErrorByToast:e,errorCode:o})}return null==t||t(),this.getActions().setShowAgeConfirm(!0)})),(0,Et.O)(this.getActions().setCheckAgeLoading(!0)),(0,It.l)(this.getActions().setCheckAgeLoading(!1))))))}};(0,x.__decorate)([(0,At.cQ)(),(0,x.__metadata)("design:type",$.y)],mo.prototype,"dispose$",void 0),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],mo.prototype,"setYear",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],mo.prototype,"setMonth",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],mo.prototype,"setDate",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],mo.prototype,"setBirthday",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],mo.prototype,"setAgeGateSetting",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Boolean]),(0,x.__metadata)("design:returntype",void 0)],mo.prototype,"setCheckAgeLoading",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],mo.prototype,"setAgeCheckResult",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Boolean]),(0,x.__metadata)("design:returntype",void 0)],mo.prototype,"setShowAgeConfirm",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],mo.prototype,"getComplianceSettings",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],mo.prototype,"validateAge",null),mo=(0,x.__decorate)([(0,Tt.Y)("AgeGateModule"),(0,x.__metadata)("design:paramtypes",[co,ro])],mo);const uo=function(){return(0,o.jsxs)(Qi.ql,{children:[(0,o.jsx)("meta",{name:"google",content:"notranslate"},"google"),",",(0,o.jsx)("meta",{name:"format-detection",content:"telephone=no"},"format-detection"),",",(0,o.jsx)("link",{rel:"shortcut icon",href:"./index_files/logo_144c91a.png",type:"image/x-icon"},"shortcut")]},void 0)},ho=["//v16.tiktokcdn.com","//p16-va.tiktokcdn.com","//s20.tiktokcdn.com"],_o=function(){return(0,o.jsx)(Qi.ql,{children:ho.map(((e,t)=>(0,o.jsx)("link",{rel:"dns-prefetch",href:e},`prefetch-${t+1}`)))},void 0)},vo=function({appContext:e,slardarBid:t}){const{abTestVersion:i,env:n,botType:a,appType:r,user:s,wid:l,region:d,isMobile:c,domains:p}=null!=e?e:{},g=(0,u.useMemo)((()=>{var e;return Object.assign(Object.assign({region:null!=d?d:"",botType:null!=a?a:"",isMobile:Boolean(c).toString(),isDowngrade:et().toString(),isLogin:Boolean(s).toString()},((e={parameters:{},versionName:""})=>{const t={};try{const i=e.parameters||{};Object.entries(i).forEach((([e,i])=>{t[e]=i.vid}))}catch(e){console.error("Abtest config parse error",e)}return t})(i)),{uid:null!==(e=null==s?void 0:s.uid)&&void 0!==e?e:""})}),[i,a,c,s,d]),m=((e,t={})=>`!function(e,n,r,t,d){if(window[n]&&window[n].config)return;var i=document.createElement(r),s=document.getElementsByTagName(r)[0];i.async=1,i.src=e;var a=s.parentNode;a&&a.insertBefore(i,s);var o=[];function c(){o.push(arguments[0])}window[n]={error:o,config:t,listener:c,sf:d},window.addEventListener("error",c,!0),window.addEventListener("unhandledrejection",c)}("${"t"===e?"./index_files/browser-nocookie.lite.1.1.0.sg.js":"./index_files/browser-nocookie.lite.1.1.0.maliva.js"}","SlardarLite","script",${JSON.stringify(Object.assign(it,t))},0);`)(null!=r?r:"m",{bid:t,userId:l,context:g,env:"boe"===(null==n?void 0:n.type)?"test":"production",domain:null==p?void 0:p.slardar});return(0,o.jsx)(Qi.ql,{children:(0,o.jsx)("script",{children:m},void 0)},void 0)},bo=function({appContext:e,slardarBid:t}){const{language:i,botType:n}=Nt(e),a=t;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Qi.ql,{htmlAttributes:{lang:i}},void 0),(0,o.jsx)(uo,{},void 0),(0,o.jsx)(vo,{appContext:e,slardarBid:a},void 0),(0,o.jsx)(_o,{},void 0)]},void 0)},yo={"#app":{justifyContent:"center"},"#loginContainer":{display:"flex",alignItems:"center",flexDirection:"column"}},fo=e=>({".date-selector .rmc-picker":{height:"250px"},".date-selector .rmc-picker:first-of-type":{position:"absolute",right:e?"unset":0,left:e?"0":"unset",width:"33.3333%"},".date-selector .rmc-picker-indicator":{height:"50px"},".date-selector .rmc-picker-item":{height:"50px",lineHeight:"50px",color:"#161823"},".date-selector":{width:"66%"}});var xo,ko=i(46009),wo=i(56277);function Co({theme:e,typography:t,color:i,fontFamily:o,fontWeight:n,isLink:a=!1}){const r=a&&i?{":hover, :active, :link":{color:e.colors[i]}}:null;return[{color:i&&e.colors[i],fontFamily:o&&e.fontFamilies[o],fontWeight:n&&e.fontWeights[n]},t?e.typography[t]:void 0,r]}!function(e){e[e.Laptop=1920]="Laptop",e[e.HeaderWidth=1080]="HeaderWidth",e[e.NarrowLaptop=1072]="NarrowLaptop",e[e.Pad=768]="Pad",e[e.Phone=480]="Phone"}(xo||(xo={}));const jo={ltr:{end:"right",start:"left",marginEnd:"marginRight",marginStart:"marginLeft",paddingEnd:"paddingRight",paddingStart:"paddingLeft"},rtl:{end:"left",start:"right",marginEnd:"marginLeft",marginStart:"marginRight",paddingEnd:"paddingLeft",paddingStart:"paddingRight"}};function So({direction:e,marginEnd:t,marginStart:i,end:o,start:n,textAlign:a,paddingEnd:r,paddingStart:s}){const l=jo[e],d={};return a&&(d.textAlign=function(e,t){return jo[e][t]}(e,a)),t&&(d[l.marginEnd]=t),i&&(d[l.marginStart]=i),n&&(d[l.start]=n),o&&(d[l.end]=o),r&&(d[l.paddingEnd]=r),s&&(d[l.paddingStart]=s),d}var Lo;!function(e){e[e.None=0]="None",e[e.Outer=1]="Outer",e[e.Inner=2]="Inner",e[e.InnerLarge=3]="InnerLarge"}(Lo||(Lo={}));const Po=(0,ki.Z)("div",{target:"e1gjoq3k0"})({position:"fixed",left:0,top:0,bottom:0,right:0,zIndex:1001,overflow:"auto",outline:"0px",transition:"all 500ms cubic-bezier(.075, .82, .165, 1)"},(({status:e,isShow:t})=>({display:t||e===ko.Ix?"flex":"none",opacity:Number(e!==ko.Ix&&e!==ko.Wj)})),"label:DivModalContainer;"),Ao=(0,ki.Z)("div",{target:"e1gjoq3k1"})((({theme:{colors:e}})=>({background:e.SDSecondary,position:"fixed",left:0,right:0,top:0,bottom:0})),"label:DivModalMask;"),To=(0,ki.Z)("div",{target:"e1gjoq3k2"})({position:"relative",borderRadius:"8px",margin:"auto",transition:"all 300ms cubic-bezier(.075, .82, .165, 1)"},(e=>{var{status:t,theme:{colors:i}}=e,o=e.contentStyle,{transform:n}=o,a=(0,x.__rest)(o,["transform"]);return[{transform:t===ko.Wj||t===ko.Ix?n||"scale(0.1, 0.1)":"none",backgroundColor:i.BGPrimary},a]}),"label:DivContentContainer;"),Oo=(0,ki.Z)(wo.Z,{target:"e1gjoq3k3"})("label:StyledIcon;");function Mo(e){const{closeStyle:t,theme:{colors:i,direction:o}}=e,n=[So({direction:o,end:"24px"})];switch(t){case 2:n.push({width:"24px",height:"24px",background:i.BGView,[`${Oo}`]:{width:"15px",height:"15px"}});break;case 3:n.push({width:"24px",height:"24px",[`${Oo}`]:{width:"24px",height:"24px",fill:"rgba(22, 24, 35, 0.75)"}});break;case 1:n.push({width:"40px",height:"40px",background:i.BGPrimary,[`${Oo}`]:{width:"24px",height:"24px"}})}return n}const Ro=(0,ki.Z)("div",{target:"e1gjoq3k4"})({position:"absolute",top:"24px",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1},Mo,"label:DivCloseWrapper;"),Fo=function({children:e,onClose:t,visible:i,timeout:n,onWheel:a=ge(),closeStyle:r=0,closeStyles:s={},maskCloseable:l=!0,keyboardCloseable:d=!0,zIndex:c=1001,mask:g=!0,fixed:m=!0,contentStyle:h={},maskStyle:_={},e2eData:v="",backgroundColor:b}){const y=(0,u.useRef)(),f=(0,u.useRef)(!!i),{showModal:x,hideModal:k}=function(){const{counterRef:e,setCounter:t,setScrollWidth:i,subscribeRef:o,scrollWidthRef:n,subscribeModalChange:a}=(0,u.useContext)($t),r=(0,u.useCallback)((e=>{o.current.forEach((t=>{t({hasModal:e,scrollWidth:n.current})}))}),[n,o]);return{showModal:(0,u.useCallback)((o=>{if(!(window.innerHeight<document.body.offsetHeight&&"hidden"!==document.body.style.overflow||o))return;const{current:n}=e;if(t(n+1),0===n){const e=window.innerWidth-document.body.offsetWidth;i(e),document.body.style.paddingRight=`${e}px`,document.body.className+=" hidden",r(!0)}}),[e,r,t,i]),hideModal:(0,u.useCallback)((()=>{const{current:o}=e,n=Math.max(0,o-1);t(n),0===n&&(i(0),document.body.className=document.body.className.replace(/\s?hidden/g,""),document.body.style.paddingRight="0px",r(!1))}),[e,r,t,i]),subscribeModalChange:a}}(),[w,C]=(0,u.useState)(!1);(0,u.useEffect)((()=>{i&&g?(x(),n&&(clearTimeout(y.current),y.current=window.setTimeout((()=>{null==t||t(2)}),n))):f.current&&(k(),clearTimeout(y.current)),f.current=!!i}),[i,g]),(0,u.useEffect)((()=>(C(!0),()=>{f.current&&k()})),[]),(0,u.useEffect)((()=>{const e=e=>{i&&d&&27===e.keyCode&&(null==t||t(1))};return i&&window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[d,t,i]);const j=(0,u.useCallback)((()=>{l&&(null==t||t(3))}),[l,t]),S=(0,u.useCallback)((()=>{null==t||t(0)}),[t]),L=(0,u.useRef)(null),P=(0,u.useRef)(null);return w?(0,p.createPortal)((0,o.jsx)(ko.ZP,Object.assign({timeout:300,in:i,nodeRef:L},{children:t=>(0,o.jsxs)(Po,Object.assign({status:t,isShow:i,onWheel:a,ref:L,style:{zIndex:c,position:m?"fixed":"relative"}},{children:[g&&(0,o.jsx)(Ao,Object.assign({style:_,onClick:j},{children:1===r&&(0,o.jsx)(Ro,Object.assign({closeStyle:r,onClick:S,style:s},{children:(0,o.jsx)(Oo,{},void 0)}),void 0)}),void 0),(0,o.jsx)(ko.ZP,Object.assign({timeout:300,in:i,unmountOnExit:!0,nodeRef:P},{children:t=>(0,o.jsxs)(To,Object.assign({"data-e2e":v,status:t,ref:P,contentStyle:h,style:{backgroundColor:b}},{children:[e,(2===r||3===r)&&(0,o.jsx)(Ro,Object.assign({closeStyle:r,onClick:S,"data-e2e":"modal-close-inner-button",style:s},{children:(0,o.jsx)(Oo,{},void 0)}),void 0)]}),void 0)}),void 0)]}),void 0)}),void 0),document.body):null};var Eo=i(35167),Io=i(1394),Do=i.n(Io),zo=i(35435),Bo=i(52500);var No,Uo,Ho;!function(e){e.ClickSignUp="click_sign_up",e.ClickLogin="click_login"}(No||(No={})),function(e){e.Qrcode="QRcode",e.Email="email",e.Username="handle",e.PhonePassword="phone",e.Sms="sms_verification",e.Repeat="repeatLogin",e.TWITTER="twitter",e.GOOGLE="google",e.FACEBOOK="facebook",e.INSTAGRAM="instagram",e.VK="vk",e.KAKAOTALK="kakaotalk",e.LINE="line",e.APPLE="apple"}(Uo||(Uo={})),function(e){e[e.Success=0]="Success",e[e.Failed=1]="Failed",e[e.Cancelled=2]="Cancelled"}(Ho||(Ho={}));let Wo=class{constructor(){this.setPlatform=e=>{this.platform=e},this.event=(e,t)=>{$e.event(e,Object.assign({platform:this.platform},t))},this.loginNotify=()=>{$e.event("login_notify")},this.LoginNotifyClose=e=>{$e.commonParams.enter_from&&"unknown"!==$e.commonParams.enter_from&&$e.config({commonEventParams:{page_name:$e.commonParams.enter_from}}),this.event("login_notify_close",e)},this.loginSubmit=e=>{this.event("login_submit",{enter_type:(null==e?void 0:e.signUp)?"click_sign_up":"click_login"})},this.loginSuccess=e=>{this.event("login_success",{enter_type:e.signUp?"click_sign_up":"click_login",is_register:e.is_register})},this.loginFailure=e=>{this.event("login_failure",{enter_type:e.signUp?"click_sign_up":"click_login",error_code:e.error_code})},this.thirdPartyLoginResult=e=>{this.event("monitor_login_thirdparty",e)},this.ageGateShow=()=>{this.event("age_gate_show",{enter_type:"click_sign_up"})},this.twoStepNotify=e=>{this.event("login_two_step_verification_notify",e)},this.twoStepSubmit=e=>{this.event("login_two_step_verification_submit",e)},this.twoStepResult=e=>{this.event("login_two_step_verification_result",e)},this.forceResetSubmit=()=>{this.event("forced_pwchange_submit")},this.forceResetSuccess=()=>{this.event("forced_pwchange_success")}}};Wo=(0,x.__decorate)([(0,U.G)()],Wo);const Go={1011:"common_login_email_error",1009:"common_login_password_error"},Zo={1002:"common_registration_phone_input_error",1003:"common_registration_phone_input_error",1054:"common_login_reset_phone_input_error"},qo={1011:"common_login_reset_email_input_error",1202:"common_registration_phone_sms_error"},Vo={1039:"login_risk_SMS_1",1091:"passport_uid_banned",1203:"mus_error_code",1054:"common_login_reset_phone_input_error",1051:"common_registration_password_error",1382:"createpw_error_1",8:"login_expired",2027:"login_page_lock",2028:"login_page_lock"},$o=[1203];var Qo,Ko;Qo||(Qo={}),function(e){e[e.NeedTwoStep=2046]="NeedTwoStep",e[e.NeedForceResetPassword=1381]="NeedForceResetPassword",e[e.NeedReactiveCanceledAccount=1075]="NeedReactiveCanceledAccount",e[e.TwoStepBlockResetPassword=1356]="TwoStepBlockResetPassword",e[e.TwoStepBlockLogin=1053]="TwoStepBlockLogin",e[e.NeedSignup=1011]="NeedSignup",e[e.AuthorizationError=1045]="AuthorizationError",e[e.ReactiveAccountError=4]="ReactiveAccountError"}(Ko||(Ko={}));var Yo=i(87837);const Jo={ar:"ar","bn-IN":"bn","ceb-PH":"ceb","cs-CZ":"cs-CZ","de-DE":"de","el-GR":"el-GR",en:"en",es:"es","fil-PH":"fil",fr:"fr","gu-IN":"gu-IN","hi-IN":"hi","hu-HU":"hu-HU","id-ID":"id","it-IT":"it","ja-JP":"ja","jv-ID":"jv","kn-IN":"kn","ko-KR":"ko","ml-IN":"ml-IN","mr-IN":"mr","ms-MY":"ms","my-MM":"my","nl-NL":"nl-NL","or-IN":"or","pa-IN":"pa-IN","pl-PL":"pl","pt-BR":"pt-BR","ro-RO":"ro-RO","ru-RU":"ru","sv-SE":"sv-SE","ta-IN":"ta","te-IN":"te","th-TH":"th","tr-TR":"tr","uk-UA":"uk","vi-VN":"vi","zh-Hans":"zh-Hant","zh-Hant-TW":"zh-Hant"},Xo={ar:{label:"العربية",passportLang:"ar"},"bn-IN":{label:"বাঙ্গালি (ভারত)",passportLang:"bn"},"ceb-PH":{label:"Cebuano (Pilipinas)",passportLang:"ceb"},"cs-CZ":{label:"Čeština (Česká republika)",passportLang:"cs"},"de-DE":{label:"Deutsch (Deutschland)",passportLang:"de"},"el-GR":{label:"Ελληνικά (Ελλάδα)",passportLang:"el"},en:{label:"English",passportLang:"en"},es:{label:"Español",passportLang:"es"},"fi-FI":{label:"Suomi (Suomi)",passportLang:"fi"},"fil-PH":{label:"Filipino (Pilipinas)",passportLang:"fil"},fr:{label:"Français",passportLang:"fr"},"he-IL":{label:"עברית (ישראל)",passportLang:"he"},"hi-IN":{label:"हिंदी",passportLang:"hi"},"hu-HU":{label:"Magyar (Magyarország)",passportLang:"hu"},"id-ID":{label:"Bahasa Indonesia (Indonesia)",passportLang:"id"},"it-IT":{label:"Italiano (Italia)",passportLang:"it"},"ja-JP":{label:"日本語（日本）",passportLang:"ja"},"jv-ID":{label:"Basa Jawa (Indonesia)",passportLang:"jv"},"km-KH":{label:"ខ្មែរ (កម្ពុជា)",passportLang:"km"},"ko-KR":{label:"한국어 (대한민국)",passportLang:"ko"},"ms-MY":{label:"Bahasa Melayu (Malaysia)",passportLang:"ms"},"my-MM":{label:"မြန်မာ (မြန်မာ)",passportLang:"my"},"nl-NL":{label:"Nederlands (Nederland)",passportLang:"nl"},"pl-PL":{label:"Polski (Polska)",passportLang:"pl"},"pt-BR":{label:"Português (Brasil)",passportLang:"pt"},"ro-RO":{label:"Română (Romania)",passportLang:"ro"},"ru-RU":{label:"Русский",passportLang:"ru"},"sv-SE":{label:"Svenska (Sverige)",passportLang:"sv"},"th-TH":{label:"ไทย (ไทย)",passportLang:"th"},"tr-TR":{label:"Türkçe (Türkiye)",passportLang:"tr"},"uk-UA":{label:"Українська (Україна)",passportLang:"uk"},ur:{label:"اردو",passportLang:"ur"},"vi-VN":{label:"Tiếng Việt (Việt Nam)",passportLang:"vi"},"zh-Hans":{label:"简体中文",passportLang:"zh-Hant"},"zh-Hant-TW":{label:"繁體中文",passportLang:"zh-Hant"}};var en,tn,on;!function(e){e[e.TRILL=1180]="TRILL",e[e.MUSICALLY=1233]="MUSICALLY"}(en||(en={})),function(e){e.TWITTER="twitter",e.GOOGLE="google",e.FACEBOOK="facebook",e.INSTAGRAM="instagram",e.VK="vk",e.KAKAOTALK="kakaotalk",e.LINE="line",e.APPLE="apple"}(tn||(tn={})),function(e){e.POPUP="popup",e.PAGE="page",e.NONE="none"}(on||(on={}));const nn={1233:692,1180:747},an={google:395,twitter:396,facebook:397,instagram:398,line:529,vk:528,kakaotalk:99};var rn;!function(e){e[e.Login=0]="Login",e[e.Signup=1]="Signup",e[e.Verify=2]="Verify"}(rn||(rn={}));let sn=class{constructor(e){this.service=e,this.defaultMetrics={count:1},this.currentMethod=null,this.setCurrentRequestMethod=e=>{this.currentMethod=e},this.handleRequestResultReport=e=>{if(!this.currentMethod)return;const{error_code:t=0}=e,i=(0,x.__rest)(e,["error_code"]);this.service.emitEvent(this.currentMethod,this.defaultMetrics,Object.assign(Object.assign({error_code:String(t)},i),{function_type:this.getFunctionType(this.currentMethod,e)}))},this.handleThirdGetToken=e=>{this.currentMethod="thirdGetToken",this.handleRequestResultReport(e)},this.QRCodeShortenFail=e=>{this.service.emitEvent("qrcode_shorten_fail",this.defaultMetrics,e)},this.handleUserRegionEscape=e=>{this.service.emitEvent("userRegionEscape",this.defaultMetrics,e)}}getFunctionType(e,t){switch(e){case"sendPhoneCode":case"smsLogin":case"passwordLogin":case"thirdLogin":case"getQrCodeUrl":case"checkQrconnect":case"getOauthConfig":case"cancelDeleteAccount":case"thirdGetToken":return"login";case"notLoginSendCode":case"smsVerify":case"verifyPwdWithoutLogin":case"thirdVerify":return"verify";case"validateMobileCodeForLogin":case"validateEmailCodeForLogin":case"validateMobileCodeForReset":case"verifySendEmailCode":case"sendEmailCodeForLogin":case"emailCodeLogin":return"twostep";case"sendPhoneCodeWithType":return String(t.type).match(/13|12/)?"twostep":"reset";case"sendPhoneCodeForResetPwd":case"sendEmailCodeForResetPwd":case"resetPwdLoginByEmail":case"changePwdByMobile":return"reset";case"sendEmailCodeForForceResetPwd":case"sendPhoneCodeForForceResetPwd":case"validatePhoneCodeForForceReset":case"validateEmailCodeForForceReset":case"forceResetPwdByMobileTicket":case"forceResetPwdByEmailTicket":return"forcereset";case"sendEmailCodeForSignup":case"smsLoginContinue":case"usernameRegister":case"setAccount":case"emailRegister":return"signup";default:return"ttp"}}};sn=(0,x.__decorate)([(0,U.G)(),(0,x.__metadata)("design:paramtypes",[at])],sn);var ln,dn=i(89464),cn=i(745),pn=i.n(cn);!function(e){e[e.Mobile=1]="Mobile",e[e.Email=2]="Email",e[e.Username=3]="Username",e[e.OpenId=4]="OpenId",e[e.UnionId=5]="UnionId"}(ln||(ln={}));const gn=()=>{return e="#loginContainer",p.render((0,o.jsx)(vi,{size:30},void 0),yi(e));var e},mn=()=>bi?p.unmountComponentAtNode(yi()):void 0,un="https://us.tiktok.com";let hn=class{constructor(e,t){this.fetch=e,this.slardar=t,this.regionCache=new Map,this.userSeverRegion={},this.ttpConfig={},this.isSG=!0,this.phoenix=!1,this.alterRegionParams={},this.authBroadcastParams={},this.requestTime=1}setInitConfig(e){this.ttpConfig=e.ttpConfig,this.isSG=e.isSG,this.phoenix=e.phoenix}getRegionDomain(){return this.currentRegion.domain}getTtWid(){return this.currentRegion.ttWid}get isRetry(){return this.requestTime<=2?{is_retry:0}:{is_retry:1}}set currentRegion(e){this.userSeverRegion=e;const{domain:t}=e,i=t===un?"https://mcs.us.tiktok.com":this.isSG?"https://mcs-sg.tiktok.com":"https://mcs-va.tiktok.com";$e.setDomain(i)}get currentRegion(){return this.userSeverRegion}getUserRegions(e){const{open:t=!1,syncSeverList:i=[]}=this.ttpConfig;if(!t||this.phoenix)return(0,q.of)({error_code:0});const{platform_app_id:o,email:n,mobile:a,openId:r,account:s,triggerPath:l}=e,d=r||n||this.formatMobile(a)||s||"";if(this.twitterRegion(o)||this.LineRegion(o)||this.getCacheRegion(d))return(0,q.of)({error_code:0});const c=(0,dn.sha256)(`${d}aDy0TUhtql92P7hScCs97YWMT-jub2q9`),p=n?ln.Email:r?ln.OpenId:a?ln.Mobile:ln.Username;return(0,q.of)(i).pipe((0,Q.z)((e=>(0,Le.D)(e.map((({domain:e})=>this.fetch.post(`${e}/passport/web/region/`,{body:pn().stringify({hashed_id:c,type:p,platform_app_id:o,aid:1459})})))).pipe((0,Me.U)((e=>{const{maxSameRegion:t,regionResult:i,domains:n}=this.getMaxNumberDomain(e);return 1===t.count&&(this.alterRegionParams={hashed_id:c,type:p,platform_app_id:o,result:JSON.stringify(i)},this.alterUserRegions(),2===Object.keys(n).length)?{error_code:-1}:(this.currentRegion={ttWid:t.ttWid,domain:`https://${t.domain}`},this.authBroadcastParams={hashed_id:c,type:p,platform_app_id:o,pre_path:null!=l?l:"",final_domain:t.domain},this.regionCache.set(d,this.currentRegion),{error_code:0})}))))),(0,Oe.K)((e=>(console.error(e,"get region err"),(0,q.of)({error_code:-1})))))}alterUserRegions(){const{open:e=!1,syncSeverList:t=[]}=this.ttpConfig;return e?(this.requestTime=1,this.slardar.setCurrentRequestMethod("alterUserRegions"),(0,q.of)(t).pipe((0,Q.z)((e=>e.map((({domain:e})=>this.singleRequestHandler({url:`${e}/passport/web/region_alert/`}))))))):(0,q.of)(null)}authBroadcast(e){this.requestTime=1;const{open:t=!1,syncSeverList:i=[]}=this.ttpConfig;return!t||this.phoenix?(0,q.of)(null):(this.slardar.setCurrentRequestMethod("authBroadcast"),gn(),(0,q.of)(i).pipe((0,Q.z)((t=>(0,Le.D)(t.map((({domain:t})=>this.singleRequestHandler({url:`${t}/passport/web/auth_broadcast/`,userInfo:e,isAuth:!0})))).pipe((0,Me.U)((()=>(mn(),null))))))))}twitterRegion(e){if(e===an.twitter)return this.currentRegion={domain:un},!0}LineRegion(e){if(e===an.line)return this.currentRegion={domain:"https://t.tiktok.com"},!0}getCacheRegion(e){if(this.regionCache.get(e))return this.currentRegion=this.regionCache.get(e),!0}getMaxNumberDomain(e){this.slardar.setCurrentRequestMethod("getUserRegion");const t={},i={},{syncSeverList:o=[]}=this.ttpConfig,n={count:0,domain:"",ttWid:""};return e.forEach((({data:e},a)=>{const{domain:r,ttwid_migration_ticket:s,error_code:l}=e;this.slardar.handleRequestResultReport({error_code:l}),i[o[a].domain]=r,t[r]?t[r]=t[r]+1:t[r]=1,n.count<t[r]&&(n.count=t[r],n.domain=r),s&&(n.ttWid=s)})),{regionResult:i,maxSameRegion:n,domains:t}}singleRequestHandler(e){const{url:t,isAuth:i=!0,userInfo:o}=e,n=i?Object.assign(Object.assign({},this.authBroadcastParams),o):this.alterRegionParams;return(0,q.of)(this.isRetry).pipe((0,zo.w)((({is_retry:e})=>this.fetch.post(t,{body:pn().stringify(Object.assign(Object.assign({},n),{is_retry:e,aid:1459}))}).pipe((0,Me.U)((({error_code:e})=>{if(this.slardar.handleRequestResultReport({error_code:e}),-1===e)throw new Error(`${e}`);return{error_code:0}}))))),(0,Yo.X)(2))}formatMobile(e){var t;if(!e)return"";const[i,o]=null!==(t=e.replace("+","").split(" "))&&void 0!==t?t:[];return"86"===i?o:`+${i}${o}`}};hn=(0,x.__decorate)([(0,U.G)(),(0,x.__metadata)("design:paramtypes",[ft,sn])],hn);let _n=class{constructor(e,t){this.userRegion=e,this.slardar=t,this.appContext$=new K.t(1),this.level=null,this.requestInfo={},this.extraParams={aid:1459,is_sso:!1,account_sdk_source:"web",region:"",language:"en"}}setAppContext(e){var t,i;this.appContext$.next(e),this.appContext=e,this.extraParams.region=e.region,this.extraParams.language=(null===(t=Xo[e.language])||void 0===t?void 0:t.passportLang)||"en",an.apple=nn[null!==(i=e.appId)&&void 0!==i?i:1180]}initAccountSdkInstance(){return this.appContext$.pipe((0,Q.z)((e=>{if(this.sdkInstance)return(0,q.of)(this.sdkInstance);const{language:t,appId:o,phoenix:n}=e,a=n?"https://www.tiktok.in":"https://www.tiktok.com";return(0,V.D)(Promise.all([i.e(975),i.e(207),i.e(65),i.e(538),i.e(19)]).then(i.bind(i,54290)).then((({WebInterfaceSdk:e})=>e))).pipe((0,Me.U)((e=>new e({aid:1459,host:a,isOversea:!0,region:1180===o?"sg":"va",printLog:!1,language:Jo[t],mode:515,captchaHost:a,captchaOptions:{fpCookieOption:{domain:n?"www.tiktok.in":".tiktok.com",sameSite:"None",secure:!0}},xhrConfig:{getDynamicConfig:e=>{var t;const i=this.userRegion.getRegionDomain(),o=this.userRegion.getTtWid();this.requestInfo=Object.assign(Object.assign({},e),{baseURL:i});const n={baseURL:i,params:{shark_extra:JSON.stringify(Object.assign(Object.assign({},xe(null!==(t=this.appContext)&&void 0!==t?t:{},!0,!0,this.level)),{app_name:"Tik_Tok_Login",aid:1459}))},headers:{}};return o&&(n.headers={"x-tt-passport-ttwid-ticket":o}),n},cacheRedirectDomain:e=>{this.userRegion.currentRegion={domain:`https://${e}`}}},getDynamicCaptchaConfig:e=>"https://m.tiktok.com"===(e=e.replace("com/","com"))||"https://web-va.tiktok.com"===e?"https://web-va.tiktok.com":"https://t.tiktok.com"===e?"https://web-sg.tiktok.com":e,acrawler:"true",acrawlerUrl:"acrawler",sdi:!0}))),(0,Te.b)((e=>this.sdkInstance=e)),(0,Oe.K)((e=>(console.error(e),(0,Mt.c)()))),(0,Yo.X)(1))})))}getAccountSdk$(e){var t,i,o;const{platform_app_id:n,email:a,mobile:r,account:s,username:l}=null!=e?e:{};return e&&(null!==(o=null!==(i=null!==(t=null!=n?n:a)&&void 0!==t?t:r)&&void 0!==i?i:s)&&void 0!==o?o:l)?this.userRegion.getUserRegions(e).pipe((0,zo.w)((e=>{if(-1===e.error_code)throw new Error(`get user region error, error_code ${e.error_code}`);return this.initAccountSdkInstance().pipe((0,Pe.q)(1))}))):(e&&this.slardar.handleUserRegionEscape(e),this.initAccountSdkInstance().pipe((0,Pe.q)(1)))}sendPhoneCode(e){const{mobile:t}=e;return this.getAccountSdk$({mobile:t,triggerPath:"/passport/web/send_code/"}).pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("sendPhoneCode"))),(0,Q.z)((i=>(0,V.D)(i.login.sendCode({mobile:t,extra_params:Object.assign(Object.assign(Object.assign({},this.extraParams),e),{is6Digits:1})}))))).pipe(this.errorHandler.bind(this))}notLoginSendCode(e){return this.getAccountSdk$({mobile:e.mobile,triggerPath:"/passport/web/send_code/"}).pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("notLoginSendCode"))),(0,Q.z)((t=>(0,V.D)(t.verify.notLoginSendCode({mobile:e.mobile,extra_params:Object.assign(Object.assign({},this.extraParams),{is6Digits:1})}))))).pipe(this.errorHandler.bind(this))}sendPhoneCodeWithType(e){const{type:t,not_login_ticket:i,verify_ticket:o,method:n,mobile:a}=e;return this.getAccountSdk$({mobile:a,triggerPath:"/passport/web/send_code/"}).pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("sendPhoneCodeWithType"))),(0,Q.z)((e=>e.extra.sendCode({type:t,method:n,mobile:a,extra_params:Object.assign(Object.assign({not_login_ticket:i,verify_ticket:o},this.extraParams),{is6Digits:1})})))).pipe(this.errorHandler.bind(this))}sendPhoneCodeForResetPwd(e){const{mobile:t,verify_ticket:i,not_login_ticket:o,type:n}=e;return this.getAccountSdk$({mobile:t,triggerPath:"/passport/web//password/reset_by_ticket/"}).pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("sendPhoneCodeForResetPwd"))),(0,Q.z)((e=>(0,V.D)(e.forgetPwd.sendCode({mobile:t,extra_params:Object.assign(Object.assign({},this.extraParams),{verify_ticket:i,not_login_ticket:o,type:n,is6Digits:1})}))))).pipe(this.errorHandler.bind(this))}sendPhoneCodeForForceResetPwd(e){return this.getAccountSdk$().pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("sendPhoneCodeForForceResetPwd"))),(0,Q.z)((t=>(0,V.D)(t.extra.sendCode({type:13,code:e.code,extra_params:Object.assign(Object.assign({},this.extraParams),{conditional_login_ticket:e.conditional_login_ticket,is6Digits:1})}))))).pipe(this.errorHandler.bind(this))}validatePhoneCodeForReset(e){return this.getAccountSdk$().pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("validatePhoneCodeForReset"))),(0,Q.z)((t=>(0,V.D)(t.forgetPwd.validateCode(Object.assign(Object.assign({},e),{extra_params:Object.assign({},this.extraParams)})))))).pipe(this.errorHandler.bind(this))}validatePhoneCodeForForceReset(e){return this.getAccountSdk$().pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("validatePhoneCodeForForceReset"))),(0,Q.z)((t=>(0,V.D)(t.extra.validateMobile({type:13,code:e.code,extra_params:Object.assign(Object.assign({},this.extraParams),{conditional_login_ticket:e.conditional_login_ticket})}))))).pipe(this.errorHandler.bind(this))}sendEmailCodeForSignup(e){const{email:t="",password:i=""}=e;return this.getAccountSdk$({email:t,triggerPath:"/passport/web/email/send_code/"}).pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("sendEmailCodeForSignup"))),(0,Q.z)((e=>(0,V.D)(e.login.sendEmailCode({email:t,password:i,extra_params:Object.assign(Object.assign({},this.extraParams),{email_logic_type:2})}))))).pipe(this.errorHandler.bind(this))}sendEmailCodeForLogin(e){const{email:t="",extra_params:i={}}=e;return this.getAccountSdk$({email:t,triggerPath:"/passport/web/email/send_code/"}).pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("sendEmailCodeForLogin"))),(0,Q.z)((e=>(0,V.D)(e.login.sendEmailLoginCode({email:t,extra_params:Object.assign(Object.assign({},this.extraParams),i)}))))).pipe(this.errorHandler.bind(this))}verifySendEmailCode(e){const{verify_ticket:t}=e;return this.getAccountSdk$().pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("verifySendEmailCode"))),(0,Q.z)((e=>(0,V.D)(e.verify.sendEmailCode({extra_params:Object.assign(Object.assign({},this.extraParams),{verify_ticket:t})}))))).pipe(this.errorHandler.bind(this))}sendEmailCodeForResetPwd(e){const{email:t="",not_login_ticket:i,email_logic_type:o}=e;return this.getAccountSdk$({email:t,triggerPath:"/passport/web/email/send_code/"}).pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("sendEmailCodeForResetPwd"))),(0,Q.z)((e=>(0,V.D)(e.forgetPwd.sendEmailCode({email:t,extra_params:Object.assign(Object.assign({},this.extraParams),{not_login_ticket:i,email_logic_type:o})}))))).pipe(this.errorHandler.bind(this))}sendEmailCodeForForceResetPwd(e){return this.getAccountSdk$().pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("sendEmailCodeForForceResetPwd"))),(0,Q.z)((t=>(0,V.D)(t.extra.sendEmailCode({type:11,code:e.code,extra_params:Object.assign(Object.assign({},this.extraParams),{conditional_login_ticket:e.conditional_login_ticket})}))))).pipe(this.errorHandler.bind(this))}validateEmailCodeForReset(e){return this.getAccountSdk$().pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("validateEmailCodeForReset"))),(0,Q.z)((t=>(0,V.D)(t.forgetPwd.validateEmail(Object.assign(Object.assign({},e),{extra_params:Object.assign({},this.extraParams)})))))).pipe(this.errorHandler.bind(this))}validateEmailCodeForForceReset(e){return this.getAccountSdk$().pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("validateEmailCodeForForceReset"))),(0,Q.z)((t=>(0,V.D)(t.verify.validateEmail({code:e.code,extra_params:Object.assign(Object.assign({},this.extraParams),{type:11,conditional_login_ticket:e.conditional_login_ticket})}))))).pipe(this.errorHandler.bind(this))}emailCodeLogin(e){const{not_login_ticket:t,verify_ticket:i,code:o,password:n}=e;return this.getAccountSdk$().pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("emailCodeLogin"))),(0,Q.z)((e=>(0,V.D)(e.login.emailCodeLogin({code:o,email:"",extra_params:Object.assign(Object.assign({},this.extraParams),{not_login_ticket:t,verify_ticket:i,password:n,type:13})}))))).pipe(this.errorHandler.bind(this))}smsLogin(e){const{mobile:t="",code:i,login_only:o,birthday:n}=e;return this.getAccountSdk$().pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("smsLogin"))),(0,Q.z)((e=>(0,V.D)(e.login.smsLogin({mobile:t,code:i,login_only:o,extra_params:Object.assign({birthday:n},this.extraParams)}))))).pipe(this.errorHandler.bind(this))}smsVerify(e){return this.getAccountSdk$().pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("smsVerify"))),(0,Q.z)((t=>(0,V.D)(t.verify.notLoginValidateMobile(e))))).pipe(this.errorHandler.bind(this))}smsLoginContinue(e){const{extra_params:t}=e,i=(0,x.__rest)(e,["extra_params"]);return this.getAccountSdk$().pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("smsLoginContinue"))),(0,Q.z)((e=>(0,V.D)(e.login.smsLoginContinue(Object.assign(Object.assign({},i),{extra_params:Object.assign(Object.assign({},this.extraParams),t)})))))).pipe(this.errorHandler.bind(this))}passwordLogin(e){const{password:t,username:i="",extra_params:o,mobile:n,email:a,account:r}=e;return this.getAccountSdk$({username:i,mobile:n,email:a,account:r,triggerPath:"/passport/web/user/login/"}).pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("passwordLogin"))),(0,Q.z)((e=>(0,V.D)(e.login.pwdLogin({username:i,password:t,mobile:n,email:a,account:r,extra_params:Object.assign(Object.assign({},this.extraParams),o)}))))).pipe(this.errorHandler.bind(this))}verifyPwdWithoutLogin(e){const{password:t,username:i="",extra_params:o,mobile:n,email:a,account:r}=e;return this.getAccountSdk$({mobile:n,email:a,account:r,triggerPath:"/passport/web/account/verify_pwd_without_login/"}).pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("verifyPwdWithoutLogin"))),(0,Q.z)((e=>(0,V.D)(e.verify.verifyPwdWithoutLogin({username:i,password:t,mobile:n,email:a,extra_params:Object.assign(Object.assign({account:r},this.extraParams),o)}))))).pipe(this.errorHandler.bind(this))}resetPwdLoginByEmail(e){const{email:t,password:i,code:o="",extra_params:n}=e;return this.getAccountSdk$().pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("resetPwdLoginByEmail"))),(0,Q.z)((e=>(0,V.D)(e.password.resetPwdLoginByEmail({password:i,code:o,email:t,extra_params:Object.assign(Object.assign(Object.assign({},n),this.extraParams),{rules_version:"v2"})}))))).pipe(this.errorHandler.bind(this))}changePwdByMobile(e){const{mobile:t,password:i,code:o}=e;return this.getAccountSdk$({mobile:t,triggerPath:"/passport/web//password/reset_by_ticket/"}).pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("changePwdByMobile"))),(0,Q.z)((e=>(0,V.D)(e.forgetPwd.resetPwdByMobile({password:i,code:o,mobile:t,extra_params:Object.assign(Object.assign({},this.extraParams),{rules_version:"v2"})}))))).pipe(this.errorHandler.bind(this))}validateMobileCodeForLogin(e){const{code:t,verify_ticket:i,not_login_ticket:o}=e;return this.getAccountSdk$().pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("validateMobileCodeForLogin"))),(0,Q.z)((e=>(0,V.D)(e.password.validateMobile({code:t,extra_params:Object.assign(Object.assign({},this.extraParams),{verify_ticket:i,not_login_ticket:o,type:22})}))))).pipe(this.errorHandler.bind(this))}validateEmailCodeForLogin(e){const{code:t,verify_ticket:i,not_login_ticket:o}=e;return this.getAccountSdk$().pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("validateEmailCodeForLogin"))),(0,Q.z)((e=>(0,V.D)(e.verify.notLoginValidateEmail({email:"",code:t,extra_params:Object.assign(Object.assign({},this.extraParams),{verify_ticket:i,not_login_ticket:o,type:6})}))))).pipe(this.errorHandler.bind(this))}validateMobileCodeForReset(e){const{code:t,verify_ticket:i,not_login_ticket:o,password:n}=e;return this.getAccountSdk$().pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("validateMobileCodeForReset"))),(0,Q.z)((e=>(0,V.D)(e.forgetPwd.resetPwdByMobile({code:t,mobile:"",password:n,extra_params:Object.assign(Object.assign({},this.extraParams),{verify_ticket:i,not_login_ticket:o})}))))).pipe(this.errorHandler.bind(this))}getOauthConfig(e){return this.getAccountSdk$().pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("getOauthConfig"))),(0,Q.z)((t=>(0,V.D)(t.account.authConfig(e))))).pipe(this.errorHandler.bind(this))}thirdLogin(e){return this.getAccountSdk$(e.login_only?{openId:e.openid,platform_app_id:e.platform_app_id,triggerPath:"/passport/web/auth/login_only/"}:void 0).pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("thirdLogin"))),(0,Q.z)((t=>(0,V.D)(t.login.authLogin(Object.assign(Object.assign({},e),{extra_params:Object.assign(Object.assign({},this.extraParams),{birthday:e.birthday,platform:e.platform,id_token:e.id_token})})))))).pipe(this.errorHandler.bind(this))}thirdVerify(e){return this.getAccountSdk$({openId:e.openid,platform_app_id:e.platform_app_id,triggerPath:"/passport/web/auth/verify/"}).pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("thirdVerify"))),(0,Q.z)((t=>(0,V.D)(t.verify.authVerify(Object.assign(Object.assign({},e),{extra_params:Object.assign(Object.assign({},this.extraParams),{platform:e.platform,id_token:e.id_token})})))))).pipe(this.errorHandler.bind(this))}resetPwdByEmailTicket(e){return this.getAccountSdk$().pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("resetPwdByEmailTicket"))),(0,Q.z)((t=>(0,V.D)(t.forgetPwd.resetPwdByEmailTicket(Object.assign(Object.assign({},e),{extra_params:Object.assign(Object.assign({},this.extraParams),{rules_version:"v2"})})))))).pipe(this.errorHandler.bind(this))}resetPwdByMobileTicket(e){return this.getAccountSdk$().pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("resetPwdByMobileTicket"))),(0,Q.z)((t=>(0,V.D)(t.forgetPwd.resetPwdByMobileTicket(Object.assign(Object.assign({},e),{extra_params:Object.assign(Object.assign({},this.extraParams),{rules_version:"v2"})})))))).pipe(this.errorHandler.bind(this))}forceResetPwdByMobileTicket(e){return this.getAccountSdk$().pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("forceResetPwdByMobileTicket"))),(0,Q.z)((t=>(0,V.D)(t.forgetPwd.forceResetPwdByMobileTicket(Object.assign(Object.assign({},e),{extra_params:Object.assign(Object.assign({},this.extraParams),{rules_version:"v2"})})))))).pipe(this.errorHandler.bind(this))}forceResetPwdByEmailTicket(e){return this.getAccountSdk$().pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("forceResetPwdByEmailTicket"))),(0,Q.z)((t=>(0,V.D)(t.forgetPwd.forceResetPwdByEmailTicket(Object.assign(Object.assign({},e),{extra_params:Object.assign(Object.assign({},this.extraParams),{rules_version:"v2"})})))))).pipe(this.errorHandler.bind(this))}cancelDeleteAccount(e){return e.extra_params=Object.assign(Object.assign({},this.extraParams),e.extra_params),this.getAccountSdk$().pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("cancelDeleteAccount"))),(0,Q.z)((t=>(0,V.D)(t.cancel.cancelLogin(e))))).pipe(this.errorHandler.bind(this))}setAccount(e){return e.extra_params=Object.assign(Object.assign({},this.extraParams),e.extra_params),this.getAccountSdk$().pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("setAccount"))),(0,Q.z)((t=>(0,V.D)(t.account.setAccount(e))))).pipe(this.errorHandler.bind(this))}getQrCodeUrl(e){return this.getAccountSdk$().pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("getQrCodeUrl"))),(0,Q.z)((t=>(0,V.D)(t.qrcodeLogin.getQrcode(e))))).pipe(this.errorHandler.bind(this))}checkQrconnect(e){return this.getAccountSdk$().pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("checkQrconnect"))),(0,Q.z)((t=>(0,V.D)(t.qrcodeLogin.checkQrconnect(e))))).pipe(this.errorHandler.bind(this))}usernameRegister(e){return e.extra_params=Object.assign(Object.assign({},this.extraParams),e.extra_params),this.getAccountSdk$({username:e.username,triggerPath:"/passport/web/username/register"}).pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("usernameRegister"))),(0,Q.z)((t=>(0,V.D)(t.login.usernameRegister(e))))).pipe(this.errorHandler.bind(this))}emailRegister(e){return e.extra_params=Object.assign(Object.assign({},this.extraParams),e.extra_params),this.getAccountSdk$({email:e.email,triggerPath:"/passport/web/email/register_verify_login"}).pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("emailRegister"))),(0,Q.z)((t=>(0,V.D)(t.login.emailRegister(e))))).pipe(this.errorHandler.bind(this))}checkLogin(){return this.getAccountSdk$().pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("checkLogin"))),(0,Q.z)((e=>(0,V.D)(e.login.checkLogin({}))))).pipe(this.errorHandler.bind(this))}accountVerify(e){return this.getAccountSdk$().pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("accountVerify"))),(0,Q.z)((t=>(0,V.D)(t.verify.accountVerify({account:"",password:e.password,extra_params:Object.assign(Object.assign({},this.extraParams),{verify_ticket:e.verify_ticket})}))))).pipe(this.errorHandler.bind(this))}checkEmailRegistered(e){return this.getAccountSdk$({email:e.email}).pipe((0,Te.b)((()=>this.slardar.setCurrentRequestMethod("checkEmailRegistered"))),(0,Q.z)((t=>(0,V.D)(t.extra.checkEmailRegistered({email:e.email,extra_params:Object.assign({},this.extraParams)}))))).pipe(this.errorHandler.bind(this))}updateUniqueId(e){return this.getAccountSdk$().pipe((0,Q.z)((t=>(0,V.D)(t.account.updateLoginName({login_name:e}))))).pipe(this.errorHandler.bind(this))}errorHandler(e){return e.pipe((0,Te.b)((()=>{var e,t,i,o,n;this.slardar.handleRequestResultReport({url:this.requestInfo.url,type:null!==(i=null===(t=null===(e=this.requestInfo)||void 0===e?void 0:e.data)||void 0===t?void 0:t.type)&&void 0!==i?i:null===(n=null===(o=this.requestInfo)||void 0===o?void 0:o.params)||void 0===n?void 0:n.type,domain:this.requestInfo.baseURL})})),(0,Oe.K)((e=>{var t,i,o,n,a;return this.slardar.handleRequestResultReport({error_code:e.error_code||-1,url:this.requestInfo.url,type:null!==(o=null===(i=null===(t=this.requestInfo)||void 0===t?void 0:t.data)||void 0===i?void 0:i.type)&&void 0!==o?o:null===(a=null===(n=this.requestInfo)||void 0===n?void 0:n.params)||void 0===a?void 0:a.type,domain:this.requestInfo.baseURL}),(0,q.of)(Object.assign({error_code:e.error_code||-1,default_error_msg:"CLOSE_CAPTCHA"===e?"":"Sorry, something went wrong, please try again later"},e))})))}};_n=(0,x.__decorate)([(0,U.G)(),(0,x.__metadata)("design:paramtypes",[hn,sn])],_n);let vn=class{init(e){this.history=e}push(e,t){var i;null===(i=this.history)||void 0===i||i.push(e,t)}};vn=(0,x.__decorate)([(0,U.G)()],vn),i(29985);var bn=i(47883),yn=i(58126);const fn=(0,F.F4)({"0%":{transform:"translateY(0%)",transformOrigin:"0 0",opacity:"1"},"100%":{transform:"translateY(-100%)",transformOrigin:"0 0",opacity:"0"}}),xn=(0,F.F4)({"0%":{transform:"translateY(-100%)",transformOrigin:"0 0",opacity:"0"},"100%":{transform:"translateY(0%)",transformOrigin:"0 0",opacity:"1"}}),kn=(0,yn.iv)({"&-enter":{opacity:"0"},"&-enter-active":{animationName:xn,animationDuration:"0.3s"},"&-leave-active":{animationName:fn,animationDuration:"0.3s"}}),wn=(0,yn.iv)({fontFamily:"ProximaNova, PingFangSC, sans-serif",fontWeight:600,position:"fixed",top:"16px",left:"0px",color:"#fff",zIndex:1002,width:"100%",pointerEvents:"none",userSelect:"none","&-notice":{padding:"8px 0",textAlign:"center",":first-of-type":{marginTop:"-8px"}},"&-notice-content":{backgroundColor:"rgba(84, 84, 84, 0.92)",display:"inline-block",padding:"10px 8px",pointerEvents:"all",maxWidth:"100%",borderRadius:"2px"}}),Cn={auto:{},full:{width:"100vw",borderRadius:"0"},padding:{width:"calc(100vw - 40px)",margin:"0 auto"},half:{width:"50vw"}},jn=(0,si.Z)("div",{target:"e1wz89c90"})((({widthType:e="auto",isRTL:t})=>[Cn[e],{direction:t?"rtl":"ltr"}]),"label:DivMessageContainer;");let Sn,Ln=[],Pn=1;const An={prefixCls:wn,transitionName:kn,style:{top:void 0},getContainer:void 0,maxCount:void 0,type:"default"},Tn={success:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE3Ljg0MDQgNi44NTk4NkMxOC4wMzc3IDYuNjYyMDcgMTguMzU4NyA2LjY2NDI1IDE4LjU1MzMgNi44NjQ3MUwxOS40NTc0IDcuNzk2MjlDMTkuNjQ3NSA3Ljk5MjE3IDE5LjY0NTQgOC4zMDQzMiAxOS40NTI2IDguNDk3NTlMMTAuNTU4MiAxNy40MTYzQzEwLjEwNSAxNy44NzA3IDkuMzczMzMgMTcuODU5NiA4LjkzMzY2IDE3LjM5MTZMNC44MzY4MSAxMy4wMzA2QzQuNjQ5OTEgMTIuODMxNyA0LjY1NzExIDEyLjUxOTYgNC44NTI5OSAxMi4zMjk1TDUuNzgzNzQgMTEuNDI2MUM1Ljk4NDE4IDExLjIzMTUgNi4zMDUxNCAxMS4yMzg5IDYuNDk2MzkgMTEuNDQyNUw5Ljc4MjE0IDE0Ljk0MDFMMTcuODQwNCA2Ljg1OTg2WiIgZmlsbD0iIzBCRTA5QiIvPgo8L3N2Zz4K",fail:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjYiIGhlaWdodD0iMjYiIHZpZXdCb3g9IjAgMCAyNiAyNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTEuNDY4IDEzTDcuMjAwNCA4LjczMjM4QzYuOTg4ODYgOC41MjA4NSA2Ljk4ODg2IDguMTc3ODggNy4yMDA0IDcuOTY2MzVMNy45NjY0MyA3LjIwMDMyQzguMTc3OTcgNi45ODg3OCA4LjUyMDkzIDYuOTg4NzggOC43MzI0NiA3LjIwMDMyTDEzLjAwMDEgMTEuNDY3OUwxNy4yNjc3IDcuMjAwMzJDMTcuNDc5MiA2Ljk4ODc4IDE3LjgyMjIgNi45ODg3OCAxOC4wMzM3IDcuMjAwMzJMMTguNzk5OCA3Ljk2NjM1QzE5LjAxMTMgOC4xNzc4OCAxOS4wMTEzIDguNTIwODUgMTguNzk5OCA4LjczMjM4TDE0LjUzMjEgMTNMMTguNzk5OCAxNy4yNjc2QzE5LjAxMTMgMTcuNDc5MiAxOS4wMTEzIDE3LjgyMjEgMTguNzk5OCAxOC4wMzM3TDE4LjAzMzcgMTguNzk5N0MxNy44MjIyIDE5LjAxMTIgMTcuNDc5MiAxOS4wMTEyIDE3LjI2NzcgMTguNzk5N0wxMy4wMDAxIDE0LjUzMjFMOC43MzI0NiAxOC43OTk3QzguNTIwOTMgMTkuMDExMiA4LjE3Nzk3IDE5LjAxMTIgNy45NjY0MyAxOC43OTk3TDcuMjAwNCAxOC4wMzM3QzYuOTg4ODYgMTcuODIyMSA2Ljk4ODg2IDE3LjQ3OTIgNy4yMDA0IDE3LjI2NzZMMTEuNDY4IDEzWiIgZmlsbD0iI0ZGNEMzQSIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwIj4KPHJlY3Qgd2lkdGg9IjI2IiBoZWlnaHQ9IjI2IiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo="},On={open:function(e){const t=void 0!==e.duration?e.duration:3,i=e.key||Pn++,n=new Promise((n=>{var a;const r={key:i,duration:t,className:e.className,content:(0,o.jsxs)(jn,Object.assign({isRTL:e.isRTL,widthType:e.widthType,style:Object.assign({display:"flex",justifyContent:"center",alignItems:"center"},null!==(a=e.style)&&void 0!==a?a:{})},{children:[e.type&&"default"!==e.type&&(0,o.jsx)("img",{src:Tn[e.type],style:Object.assign({width:"24px",height:"24px"},e.isRTL?{marginLeft:"8px"}:{marginRight:"8px"})},void 0),(0,o.jsx)("span",{children:e.content},void 0)]}),void 0),onClose:()=>("function"==typeof e.onClose&&e.onClose(),n(!0))};var s;e.getContainer?bn.Z.newInstance(Object.assign(Object.assign({},An),{style:{position:"absolute",top:void 0},getContainer:e.getContainer}),(e=>{e.notice(r),Ln.push(e)})):(s=e=>{e.notice(r)},Sn?s(Sn):bn.Z.newInstance(Object.assign({},An),(e=>{Sn?s(Sn):(Sn=e,s(e),Ln.push(e))})))})),a=()=>{Sn&&Sn.removeNotice(i)};return a.then=(e,t)=>n.then(e,t),a.promise=n,a},destroy(){Sn&&(Sn.destroy(),Sn=null),Ln.length>0&&(Ln.forEach((e=>e.destroy())),Ln=[])}},Mn=e=>{On.destroy(),On.open({content:e,duration:3,widthType:"half",style:{minWidth:"300px"}})},Rn=(e,t,i)=>{switch(e){case 1027:case 3250:return"common_registration_username_error_format";case 3251:return"common_registration_username_error_short";case 3252:return"common_registration_username_error_long";case 3253:return"common_registration_username_error_period";case 3254:return"common_registration_username_error_number";case 1024:case 1028:return"common_registration_username_error_ sensitivity";case 0:return;default:return null!=i?i:t?"common_registration_username_error_occupied":"common_registration_username_error_ sensitivity"}},Fn=e=>-1!==[1340,1341].indexOf(e)||-1!==[2020,2025,2032,2033,2031,2046].indexOf(e)||-1!==[1357,1384].indexOf(e),En=[];let In=class extends Pt.D{constructor(e,t,i){super(),this.home=e,this.report=t,this.slardar=i,this.defaultState={isOpen:!1,url:"",closeable:!1,isBannerActive:!1,bannerEnabled:!1,content:{title:"",desc:"",btnOpenText:""},iframeStyle:{},handleDownload:ge(),handleLogin:ge(),closeCallback:ge(),loginModalShow:!1,maskCloseable:!1}}setCloseable(e,t){e.closeable=t}setUrl(e,t){e.url=t}setLoginPath(e,t){e.loginPath=t}setCloseCallback(e,t){e.closeCallback=t}setIsOpen(e,t){e.isOpen=t}setContent(e,t){t&&(e.content=t)}setHandleDownload(e,t){t&&(e.handleDownload=t)}setHandleLogin(e,t){t&&(e.handleLogin=t)}setIframeStyle(e,t){e.iframeStyle=t}setLoginModalShow(e,t){this.slardar.toggleLoginSlardar(t),e.loginModalShow=t}setMaskCloseable(e,t){e.maskCloseable=t}openModal(e){return e.pipe((0,Ft.M)(this.home.state$,this.state$),(0,Q.z)((([{url:e,loginPath:t,isSignup:i,closeable:o=!0,query:n={},iframeStyle:a={},content:r,handleDownload:s,handleLogin:l,maskCloseable:d=!1},{lang:c,appContext:p}])=>{const g=function(e,t){try{return e.parameters[t].vid}catch(e){return void(-1===En.indexOf(t)&&($e.event("abtest_vid_failed",{experiment_name:t}),En.push(t)))}}(null==p?void 0:p.abTestVersion,"login_refactor_test"),m=null!=t?t:"/"+(i?"signup":"login"),u=null!=e?e:(0,z.stringifyUrl)({url:m,query:Object.assign(Object.assign({lang:c,is_modal:1,hide_close_btn:1,event_name:i?"enter_sign_up":null,type:-1!==(window.location.pathname+window.location.search).indexOf("recharge")?"recharge":"",enter_from:$e.commonParams.page_name},n),{no_refactor:(null==p?void 0:p.isMobile)||"v1"!==g?null:"1"})},{skipNull:!0});return"v1"!==g&&u.match(/login|signup/)&&!(null==p?void 0:p.isMobile)?(0,q.of)(this.getActions().setLoginModalShow(!0),this.getActions().setUrl(u),this.getActions().setCloseable(o)):(0,q.of)(this.getActions().setUrl(u),this.getActions().setCloseable(o),this.getActions().setIsOpen(!0),this.getActions().setContent(r),this.getActions().setHandleDownload(s),this.getActions().setHandleLogin(l),this.getActions().setIframeStyle(a),this.getActions().setMaskCloseable(d))})))}closeModal(e){return e.pipe((0,Ft.M)(this.state$),(0,Te.b)((([{enter_method:e,disableReport:t},i])=>{t||this.report.LoginNotifyClose({enter_method:e})})),(0,Q.z)((([e,{closeCallback:t=ge()}])=>{const i=[this.getActions().setIsOpen(!1)];return t(),(0,q.of)(...i)})))}setIsBannerActive(e,t){e.isBannerActive=t}};var Dn;(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Boolean]),(0,x.__metadata)("design:returntype",void 0)],In.prototype,"setCloseable",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,String]),(0,x.__metadata)("design:returntype",void 0)],In.prototype,"setUrl",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,String]),(0,x.__metadata)("design:returntype",void 0)],In.prototype,"setLoginPath",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Function]),(0,x.__metadata)("design:returntype",void 0)],In.prototype,"setCloseCallback",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Boolean]),(0,x.__metadata)("design:returntype",void 0)],In.prototype,"setIsOpen",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],In.prototype,"setContent",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],In.prototype,"setHandleDownload",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],In.prototype,"setHandleLogin",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],In.prototype,"setIframeStyle",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Boolean]),(0,x.__metadata)("design:returntype",void 0)],In.prototype,"setLoginModalShow",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],In.prototype,"setMaskCloseable",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],In.prototype,"openModal",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],In.prototype,"closeModal",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Boolean]),(0,x.__metadata)("design:returntype",void 0)],In.prototype,"setIsBannerActive",null),In=(0,x.__decorate)([(0,Tt.Y)("LoginModal"),(0,x.__metadata)("design:paramtypes",[Zt,Wo,at])],In),function(e){e.Main="webapp",e.TV="tv",e.AgeVerify="ageVerify",e.DataExport="dataExport",e.Seller="seller",e.Rechange="recharge",e.Search="search",e.DataExportLogin="dataExportLogin",e.TT4DWebView="developer_webview"}(Dn||(Dn={}));const zn={loginTitle:"common_login_panel_title",loginSlogan:"common_login_panel_copy",signUpTitle:"common_registration_panel_title",signUpSlogan:"common_registration_panel_copy",aid:"1459",disableSignup:!1,isSecurityVerification:!1,hideHomePage:!1},Bn={tv:{loginTitle:"tv_login_title",loginSlogan:"tv_login_tiktoktv-desc",signUpTitle:"tv_sign_up_title",signUpSlogan:"tv_login_tiktoktv-desc"},ageVerify:{loginTitle:"age_verify_login_title",loginSlogan:"age_verify_login_intro",disableSignup:!0,isSecurityVerification:!0},dataExport:{loginTitle:"data_export_login_title",loginSlogan:"data_export_login_intro",disableSignup:!0,isSecurityVerification:!0},seller:{aid:"4068"},recharge:{loginTitle:"webapp_coin_recharge_login",signUpTitle:"WebApp_coin_recharge_9"},search:{loginTitle:"login_to_search",signUpTitle:"login_to_search"},developer_webview:{hideHomePage:!0}};var Nn,Un,Hn;!function(e){e.AccountNotExist="inexistent",e.InEligible="ineligible",e.TwoStepBlock="twoStepVerifyBlock",e.TwoStepBlockResetPwd="TwoStepBlockResetPwd",e.Null=""}(Nn||(Nn={})),function(e){e[e.Login=1]="Login",e[e.Reactive=2]="Reactive"}(Un||(Un={})),function(e){e.Phone="phone",e.Email="email"}(Hn||(Hn={}));let Wn=class{constructor(e){this.fetch=e}getUrlParams(e){const t=e?e.split("?")[1]:window.location.search;return(0,z.parse)(t)}getIsPhoenix(){return"www.tiktok.in"===window.location.host}getLoginConfig(){return this.fetch.get("/node-webapp/api/login-config",{baseUrlType:2})}};Wn=(0,x.__decorate)([(0,U.G)(),(0,x.__metadata)("design:paramtypes",[ft])],Wn);let Gn=class{constructor(e){this.service=e,this.getLoginType=e=>{var t;const i=null!==(t=null==e?void 0:e.type)&&void 0!==t?t:null==e?void 0:e.enter_method;if(!i)return"webapp";const o=Array.isArray(i)?i[0]:i;return Bn[o]?i:"webapp"},this.getShowAlertMessageType=(e,t)=>{const{message:i}=t;if(!i)return;const o=Array.isArray(i)?i[0]:i;return"ageVerify"!==e||"ineligible"!==o&&"inexistent"!==o?void 0:o}}getLoginContext(e){var t;const i=this.service.getUrlParams(e),o=this.getLoginType(i),n=this.getShowAlertMessageType(o,i),a=null!==(t=Bn[o])&&void 0!==t?t:{},{redirect_url:r=""}=i;return this.service.getLoginConfig().pipe((0,Q.z)((e=>{if(0!==e.statusCode)throw new Error("get api error");return(0,q.of)(Object.assign({},e.config))})),(0,Oe.K)((()=>(0,q.of)({emailSuffixConfig:[],platformConfig:{show_num:3,order:"FACEBOOK,GOOGLE,TWITTER,INSTAGRAM"},disableSignup:!1,forceLogin:!1,emailConsent:!1,phoenix:this.service.getIsPhoenix(),ttpConfig:{open:!0,syncSeverList:[{name:"global",domain:"https://m.tiktok.com"},{name:"ttp",domain:"https://us.tiktok.com"}]}})))).pipe((0,Me.U)((e=>Object.assign(Object.assign(Object.assign(Object.assign({},zn),a),{loginType:o,phoenix:this.service.getIsPhoenix(),showAlertMessageType:n,redirectUrl:Array.isArray(r)?r[0]:null!=r?r:""}),e))))}};Gn=(0,x.__decorate)([(0,U.G)(),(0,x.__metadata)("design:paramtypes",[Wn])],Gn);let Zn=class extends Pt.D{constructor(e,t){super(),this.service=e,this.modalLogin=t,this.defaultState={initialized:!1,phoenix:!1,platformConfig:{order:""},emailSuffixConfig:[]}}setContext(e,t){for(const i in t)e[i]=t[i]}setInitialized(e,t){e.initialized=t}setShowAlertMessageType(e,t){e.showAlertMessageType=t}init(e){return e.pipe((0,Ft.M)(this.modalLogin.state$),(0,Q.z)((([e,{url:t,loginModalShow:i}])=>this.service.getLoginContext(i?t:void 0).pipe((0,Ae.z)((e=>(0,q.of)(this.getActions().setContext(e),this.getActions().setInitialized(!0)))),(0,It.l)(this.terminate())))))}};(0,x.__decorate)([(0,At.cQ)(),(0,x.__metadata)("design:type",$.y)],Zn.prototype,"dispose$",void 0),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],Zn.prototype,"setContext",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Boolean]),(0,x.__metadata)("design:returntype",void 0)],Zn.prototype,"setInitialized",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,String]),(0,x.__metadata)("design:returntype",void 0)],Zn.prototype,"setShowAlertMessageType",null),(0,x.__decorate)([(0,At.Qm)({ssr:!0}),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],Zn.prototype,"init",null),Zn=(0,x.__decorate)([(0,Tt.Y)("LoginContextModule"),(0,x.__metadata)("design:paramtypes",[Gn,In])],Zn);const qn=[{label:"A",lists:[{name:"Afghanistan",shortname:"AF",code:93,key:"afghanistan"},{name:"Åland Islands",shortname:"AX",code:35818,key:"åland_islands"},{name:"Albania",shortname:"AL",code:355,key:"albania"},{name:"Algeria",shortname:"DZ",code:213,key:"algeria"},{name:"American Samoa",shortname:"AS",code:1684,key:"american_samoa"},{name:"Andorra",shortname:"AD",code:376,key:"andorra"},{name:"Angola",shortname:"AO",code:244,key:"angola"},{name:"Anguilla",shortname:"AI",code:1264,key:"anguilla"},{name:"Antigua & Barbuda",shortname:"AG",code:1268,key:"antigua_and_barbuda"},{name:"Argentina",shortname:"AR",code:54,key:"argentina"},{name:"Armenia",shortname:"AM",code:374,key:"armenia"},{name:"Aruba",shortname:"AW",code:297,key:"aruba"},{name:"Ascension Island",shortname:"SH",code:247,key:"ascension"},{name:"Australia",shortname:"AU",code:61,key:"australia"},{name:"Austria",shortname:"AT",code:43,key:"austria"},{name:"Azerbaijan",shortname:"AZ",code:994,key:"azerbaijan"}]},{label:"B",lists:[{name:"Bahamas",shortname:"BS",code:1242,key:"bahamas"},{name:"Bahrain",shortname:"BH",code:973,key:"bahrain"},{name:"Bangladesh",shortname:"BD",code:880,key:"bangladesh"},{name:"Barbados",shortname:"BB",code:1246,key:"barbados"},{name:"Barbuda",shortname:"AG",code:1268,key:"barbuda"},{name:"Belarus",shortname:"BY",code:375,key:"belarus"},{name:"Belgium",shortname:"BE",code:32,key:"belgium"},{name:"Belize",shortname:"BZ",code:501,key:"belize"},{name:"Benin",shortname:"BJ",code:229,key:"benin"},{name:"Bermuda",shortname:"BM",code:1441,key:"bermuda_island"},{name:"Bhutan",shortname:"BT",code:975,key:"bhutan"},{name:"Bolivia",shortname:"BO",code:591,key:"bolivia"},{name:"Bosnia & Herzegovina",shortname:"BA",code:387,key:"bosnia_and_herzegovina"},{name:"Botswana",shortname:"BW",code:267,key:"botswana"},{name:"Brazil",shortname:"BR",code:55,key:"brazil"},{name:"British Indian Ocean Territory",shortname:"IO",code:246,key:"british_indian_ocean_territory"},{name:"British Virgin Islands",shortname:"VG",code:1284,key:"british_virgin_islands"},{name:"Brunei",shortname:"BN",code:673,key:"brunei"},{name:"Bulgaria",shortname:"BG",code:359,key:"bulgaria"},{name:"Burkina-faso",shortname:"BF",code:226,key:"burkina_faso"},{name:"Burundi",shortname:"BI",code:257,key:"burundi"}]},{label:"C",lists:[{name:"Cameroon",shortname:"CM",code:237,key:"cameroon"},{name:"Canada",shortname:"CA",code:1,key:"canada"},{name:"Cape Verde",shortname:"CV",code:238,key:"cape_verde"},{name:"Caribbean Netherlands",shortname:"BQ",code:5997,key:"caribbean_netherlands"},{name:"Cayman Is.",shortname:"KY",code:1345,key:"cayman_islands"},{name:"Central African Republic",shortname:"CF",code:236,key:"central_african_republic"},{name:"Chad",shortname:"TD",code:235,key:"chad"},{name:"Chile",shortname:"CL",code:56,key:"chile"},{name:"China mainland",shortname:"CN",code:86,key:"china_mainland"},{name:"Christmas Island",shortname:"CX",code:61,key:"christmas_island"},{name:"Cocos (Keeling) Islands",shortname:"CC",code:61,key:"cocos_keeling_islands"},{name:"Colombia",shortname:"CO",code:57,key:"colombia"},{name:"Comoros",shortname:"KM",code:269,key:"comoros"},{name:"Congo - Brazzaville",shortname:"CG",code:242,key:"congo"},{name:"Congo - Kinshasa",shortname:"CD",code:243,key:"congo_kinshasa"},{name:"Cook Is.",shortname:"CK",code:682,key:"cook_islands"},{name:"Costa Rica",shortname:"CR",code:506,key:"costa_rica"},{name:"Croatia",shortname:"HR",code:385,key:"croatia"},{name:"Curaçao",shortname:"CW",code:5999,key:"curaçao"},{name:"Cyprus",shortname:"CY",code:357,key:"cyprus"},{name:"Czechia",shortname:"CZ",code:420,key:"czech_republic"}]},{label:"D",lists:[{name:"Denmark",shortname:"DK",code:45,key:"denmark"},{name:"Diego Garcia",shortname:"DG",code:246,key:"diego_garcia"},{name:"Djibouti",shortname:"DJ",code:253,key:"djibouti"},{name:"Dominica",shortname:"DM",code:1767,key:"dominica"},{name:"Dominican Republic",shortname:"DO",code:1,key:"dominican_republic"}]},{label:"E",lists:[{name:"EI Salvador",shortname:"SV",code:503,key:"el_salvador"},{name:"Ecuador",shortname:"EC",code:593,key:"ecuador"},{name:"Egypt",shortname:"EG",code:20,key:"egypt"},{name:"Equatorial Guinea",shortname:"GQ",code:240,key:"equatorial_guinea"},{name:"Eritrea",shortname:"ER",code:291,key:"eritrea"},{name:"Estonia",shortname:"EE",code:372,key:"estonia"},{name:"Eswatini",shortname:"SZ",code:268,key:"eswatini"},{name:"Ethiopia",shortname:"ET",code:251,key:"ethiopia"}]},{label:"F",lists:[{name:"Falkland Islands",shortname:"FK",code:500,key:"falkland_islands"},{name:"Faroe Islands",shortname:"FO",code:298,key:"faroe_islands"},{name:"Fiji",shortname:"FJ",code:679,key:"fiji"},{name:"Finland",shortname:"FI",code:358,key:"finland"},{name:"France",shortname:"FR",code:33,key:"france"},{name:"French Guiana",shortname:"GF",code:594,key:"french_guiana"},{name:"French Polynesia",shortname:"PF",code:689,key:"french_polynesia"}]},{label:"G",lists:[{name:"Gabon",shortname:"GA",code:241,key:"gabon"},{name:"Gambia",shortname:"GM",code:220,key:"gambia"},{name:"Georgia",shortname:"GE",code:995,key:"georgia"},{name:"Germany",shortname:"DE",code:49,key:"germany"},{name:"Ghana",shortname:"GH",code:233,key:"ghana"},{name:"Gibraltar",shortname:"GI",code:350,key:"gibraltar"},{name:"Greece",shortname:"GR",code:30,key:"greece"},{name:"Greenland",shortname:"GL",code:299,key:"greenland"},{name:"Grenada",shortname:"GD",code:1473,key:"grenada"},{name:"Guadeloupe",shortname:"GP",code:590,key:"guadeloupe"},{name:"Guam",shortname:"GU",code:1671,key:"guam"},{name:"Guatemala",shortname:"GT",code:502,key:"guatemala"},{name:"Guernsey",shortname:"GG",code:44,key:"guernsey"},{name:"Guinea",shortname:"GN",code:224,key:"guinea"},{name:"Guinea-Bissau",shortname:"GW",code:245,key:"guinea_bissau"},{name:"Guyana",shortname:"GY",code:592,key:"guyana"}]},{label:"H",lists:[{name:"Haiti",shortname:"HT",code:509,key:"haiti"},{name:"Honduras",shortname:"HN",code:504,key:"honduras"},{name:"Hongkong",shortname:"HK",code:852,key:"hongkong"},{name:"Hungary",shortname:"HU",code:36,key:"hungary"}]},{label:"I",lists:[{name:"Iceland",shortname:"IS",code:354,key:"iceland"},{name:"India",shortname:"IN",code:91,key:"india"},{name:"Indonesia",shortname:"ID",code:62,key:"indonesia"},{name:"Iraq",shortname:"IQ",code:964,key:"iraq"},{name:"Ireland",shortname:"IE",code:353,key:"ireland"},{name:"Israel",shortname:"IL",code:972,key:"israel"},{name:"Isle of Man",shortname:"IM",code:44,key:"region_isle_of_man"},{name:"Italy",shortname:"IT",code:39,key:"italy"},{name:"Ivory Coast",shortname:"CI",code:225,key:"côte_d_ivoire"}]},{label:"J",lists:[{name:"Jamaica",shortname:"JM",code:1876,key:"jamaica"},{name:"Japan",shortname:"JP",code:81,key:"japan"},{name:"Jersey",shortname:"JE",code:44,key:"jersey"},{name:"Jordan",shortname:"JO",code:962,key:"jordan"}]},{label:"K",lists:[{name:"Kampuchea (Cambodia )",shortname:"KH",code:855,key:"cambodia"},{name:"Kazakhstan",shortname:"KZ",code:76,key:"kazakhstan"},{name:"Kazakhstan",shortname:"KZ",code:77,key:"kazakhstan"},{name:"Kenya",shortname:"KE",code:254,key:"kenya"},{name:"Kiribati",shortname:"KI",code:686,key:"kiribati"},{name:"Korea",shortname:"KR",code:82,key:"south_korea"},{name:"Kosovo",shortname:"XK",code:383,key:"region_kosovo"},{name:"Kuwait",shortname:"KW",code:965,key:"kuwait"},{name:"Kyrgyzstan",shortname:"KG",code:996,key:"kyrgyzstan"}]},{label:"L",lists:[{name:"Laos",shortname:"LA",code:856,key:"laos"},{name:"Latvia",shortname:"LV",code:371,key:"latvia"},{name:"Lebanon",shortname:"LB",code:961,key:"lebanon"},{name:"Lesotho",shortname:"LS",code:266,key:"lesotho"},{name:"Liberia",shortname:"LR",code:231,key:"liberia"},{name:"Libya",shortname:"LY",code:218,key:"libya"},{name:"Liechtenstein",shortname:"LI",code:423,key:"liechtenstein"},{name:"Lithuania",shortname:"LT",code:370,key:"lithuania"},{name:"Luxembourg",shortname:"LU",code:352,key:"luxembourg"}]},{label:"M",lists:[{name:"Macao",shortname:"MO",code:853,key:"macao"},{name:"Madagascar",shortname:"MG",code:261,key:"madagascar"},{name:"Malawi",shortname:"MW",code:265,key:"malawi"},{name:"Malaysia",shortname:"MY",code:60,key:"malaysia"},{name:"Maldives",shortname:"MV",code:960,key:"maldives"},{name:"Mali",shortname:"ML",code:223,key:"mali"},{name:"Malta",shortname:"MT",code:356,key:"malta"},{name:"Marshall Islands",shortname:"MH",code:692,key:"marshall_islands"},{name:"Martinique",shortname:"MQ",code:596,key:"martinique"},{name:"Mauritania",shortname:"MR",code:222,key:"mauritania"},{name:"Mauritius",shortname:"MU",code:230,key:"mauritius"},{name:"Mayotte",shortname:"YT",code:262,key:"mayotte"},{name:"Mexico",shortname:"MX",code:52,key:"mexico"},{name:"Micronesia",shortname:"FM",code:691,key:"micronesia"},{name:"Moldova, Republic of",shortname:"MD",code:373,key:"republic_of_moldova"},{name:"Monaco",shortname:"MC",code:377,key:"monaco"},{name:"Mongolia",shortname:"MN",code:976,key:"mongolia"},{name:"Montenegro",shortname:"ME",code:382,key:"montenegro"},{name:"Montserrat",shortname:"MS",code:1664,key:"montserrat"},{name:"Morocco",shortname:"MA",code:212,key:"morocco"},{name:"Mozambique",shortname:"MZ",code:258,key:"mozambique"},{name:"Myanmar (Burma)",shortname:"MY",code:95,key:"myanmar_burma"}]},{label:"N",lists:[{name:"Namibia",shortname:"NA",code:264,key:"namibia"},{name:"Nauru",shortname:"NR",code:674,key:"nauru"},{name:"Nepal",shortname:"NP",code:977,key:"nepal"},{name:"Netherlands",shortname:"NL",code:31,key:"netherlands"},{name:"New Caledonia",shortname:"NC",code:687,key:"new_caledonia"},{name:"New Zealand",shortname:"NZ",code:64,key:"new_zealand"},{name:"Nicaragua",shortname:"NI",code:505,key:"nicaragua"},{name:"Niger",shortname:"NE",code:227,key:"niger"},{name:"Nigeria",shortname:"NG",code:234,key:"nigeria"},{name:"Niue",shortname:"NU",code:683,key:"niue"},{name:"Norfolk Island",shortname:"NF",code:672,key:"norfolk_island"},{name:"North Macedonia",shortname:"MK",code:389,key:"macedonia"},{name:"Northern Mariana Islands",shortname:"MP",code:1670,key:"northern_mariana_islands"},{name:"Norway",shortname:"NO",code:47,key:"norway"}]},{label:"O",lists:[{name:"Oman",shortname:"OM",code:968,key:"oman"}]},{label:"P",lists:[{name:"Pakistan",shortname:"PK",code:92,key:"pakistan"},{name:"Palau",shortname:"PW",code:680,key:"palau"},{name:"Palestinian Territories",shortname:"PS",code:970,key:"palestinian_territories"},{name:"Panama",shortname:"PA",code:507,key:"panama"},{name:"Papua New Cuinea",shortname:"PG",code:675,key:"papua_new_guinea"},{name:"Paraguay",shortname:"PY",code:595,key:"paraguay"},{name:"Peru",shortname:"PE",code:51,key:"peru"},{name:"Philippines",shortname:"PH",code:63,key:"philippines"},{name:"Pitcairn Islands",shortname:"PN",code:64,key:"pitcairn_islands"},{name:"Poland",shortname:"PL",code:48,key:"poland"},{name:"Portugal",shortname:"PT",code:351,key:"portugal"},{name:"Puerto Rico",shortname:"PR",code:1787,key:"puerto_rico"},{name:"Puerto Rico",shortname:"PR",code:1939,key:"puerto_rico"}]},{label:"Q",lists:[{name:"Qatar",shortname:"QA",code:974,key:"qatar"}]},{label:"R",lists:[{name:"Réunion",shortname:"RE",code:262,key:"reunion"},{name:"Romania",shortname:"RO",code:40,key:"romania"},{name:"Russia",shortname:"RU",code:7,key:"russia"},{name:"Rwanda",shortname:"RW",code:250,key:"rwanda"}]},{label:"S",lists:[{name:"Samoa",shortname:"WS",code:685,key:"samoa"},{name:"San Marino",shortname:"SM",code:378,key:"san_marino"},{name:"Sao Tome and Principe",shortname:"ST",code:239,key:"sao_tome_and_principe"},{name:"Saudi Arabia",shortname:"SA",code:966,key:"saudi_arabia"},{name:"Senegal",shortname:"SN",code:221,key:"senegal"},{name:"Serbia",shortname:"RS",code:381,key:"serbia"},{name:"Seychelles",shortname:"SC",code:248,key:"seychelles"},{name:"Sierra Leone",shortname:"SL",code:232,key:"sierra_leone"},{name:"Singapore",shortname:"SG",code:65,key:"singapore"},{name:"Sint Maarten",shortname:"SX",code:1721,key:"sint_maarten"},{name:"Slovakia",shortname:"SK",code:421,key:"slovakia"},{name:"Slovenia",shortname:"SI",code:386,key:"slovenia"},{name:"Solomon Is",shortname:"SB",code:677,key:"solomon_islands"},{name:"Somali",shortname:"SO",code:252,key:"somalia"},{name:"South Africa",shortname:"ZA",code:27,key:"south_africa"},{name:"So. Georgia & So. Sandwich  Isl.",shortname:"GS",code:500,key:"south_georgia_and_south_sandwich_islands"},{name:"South Sudan",shortname:"SS",code:211,key:"south_sudan"},{name:"Spain",shortname:"ES",code:34,key:"spain"},{name:"Sri Lanka",shortname:"LK",code:94,key:"sri_lanka"},{name:"St. Barthélemy",shortname:"BL",code:590,key:"st_barthélemy"},{name:"St. Helena",shortname:"SH",code:290,key:"st_helena"},{name:"St. Kitts & Nevis",shortname:"KN",code:1869,key:"st_kitts_and_nevis"},{name:"St. Martin",shortname:"MF",code:590,key:"st_martin_france"},{name:"St. Pierre & Miquelon",shortname:"PM",code:508,key:"st_pierre_and_miquelon"},{name:"St.Lucia",shortname:"LC",code:1758,key:"saint_lucia"},{name:"St. Vincent & Grenadines",shortname:"VC",code:1784,key:"st.vincent"},{name:"Sudan",shortname:"SD",code:249,key:"sudan"},{name:"Suriname",shortname:"SR",code:597,key:"suriname"},{name:"Svalbard & Jan Mayen",shortname:"SJ",code:4779,key:"svalbard_and_jan_mayen"},{name:"Sweden",shortname:"SE",code:46,key:"sweden"},{name:"Switzerland",shortname:"CH",code:41,key:"switzerland"}]},{label:"T",lists:[{name:"Taiwan",shortname:"TW",code:886,key:"taiwan"},{name:"Tajikstan",shortname:"TJ",code:992,key:"tajikistan"},{name:"Tanzania",shortname:"TZ",code:255,key:"tanzania"},{name:"Thailand",shortname:"TH",code:66,key:"thailand"},{name:"Timor-Leste",shortname:"TL",code:670,key:"east_timor"},{name:"Togo",shortname:"TG",code:228,key:"togo"},{name:"Tokelau",shortname:"TK",code:690,key:"tokelau"},{name:"Tonga",shortname:"TO",code:676,key:"tonga"},{name:"Trinidad & Tobago",shortname:"TT",code:1868,key:"trinidad_and_tobago"},{name:"Tunisia",shortname:"TN",code:216,key:"tunisia"},{name:"Turkey",shortname:"TR",code:90,key:"turkey"},{name:"Turkmenistan",shortname:"TM",code:993,key:"turkmenistan"},{name:"Turks & Caicos Islands",shortname:"TC",code:1649,key:"turks_and_caicos_islands"},{name:"Tuvalu",shortname:"TV",code:688,key:"tuvalu"}]},{label:"U",lists:[{name:"U.S. Virgin Islands",shortname:"VI",code:1340,key:"u_s_virgin_islands"},{name:"Uganda",shortname:"UG",code:256,key:"uganda"},{name:"Ukraine",shortname:"UA",code:380,key:"ukraine"},{name:"United Arab Emirates",shortname:"AE",code:971,key:"united_arab_emirates"},{name:"United Kingdom",shortname:"UK",code:44,key:"united_kingdom"},{name:"United States",shortname:"US",code:1,key:"united_states"},{name:"Uruguay",shortname:"UY",code:598,key:"uruguay"},{name:"Uzbekistan",shortname:"UZ",code:998,key:"uzbekistan"}]},{label:"V",lists:[{name:"Vanuatu",shortname:"VU",code:678,key:"vanuatu"},{name:"Vatican City",shortname:"VA",code:379,key:"vatican_city"},{name:"Vatican City",shortname:"VA",code:3906698,key:"vatican_city"},{name:"Venezuela",shortname:"VE",code:58,key:"venezuela"},{name:"Vietnam",shortname:"VN",code:84,key:"vietnam"}]},{label:"W",lists:[{name:"Wallis & Futuna",shortname:"WF",code:681,key:"wallis_and_futuna"},{name:"Western Sahara",shortname:"EH",code:212,key:"region_western_sahara"}]},{label:"Y",lists:[{name:"Yemen",shortname:"YE",code:967,key:"yemen"}]},{label:"Z",lists:[{name:"Zambia",shortname:"ZM",code:260,key:"zambia"},{name:"Zimbabwe",shortname:"ZW",code:263,key:"zimbabwe"}]}],Vn=e=>/^\w+([\.\-\+]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e);let $n=class extends Pt.D{constructor(){super(...arguments),this.defaultState={area:"",phone:"",phoneCode:"",searchText:"",showAreaCodeSelector:!1,mobile:"",mobileOpenId:""}}setShowAreaCodeSelector(e,t){e.showAreaCodeSelector=t}setAreaCode(e,t){const{code:i,area:o}=t;e.areaCode=i,e.area=o,this.setMobileInfo(e,{areaCode:i,phone:e.phone})}setPhoneNumber(e,t){e.phone=t,this.setMobileInfo(e,{areaCode:e.areaCode,phone:t})}setErrorMsg(e,t){e.phoneErrorMsg=t}setAreaSearchText(e,t){if(e.searchText=t,!t)return void(e.matchSearchArea=void 0);const i=RegExp(t.replace("+","\\+"),"ig");e.matchSearchArea=qn.reduce(((e,{lists:t})=>e.concat(t)),[]).find((({name:e,code:t,shortname:o})=>e.match(i)||`${t}`.match(i)||o.match(i)))}setPhoneCode(e,t){e.phoneCode=t}toggleAreaCodeSelector(e){return e.pipe((0,Ft.M)(this.state$),(0,Q.z)((([,{showAreaCodeSelector:e}])=>(0,q.of)(this.getActions().setShowAreaCodeSelector(!e)))))}selectAreaCode(e){return e.pipe((0,Q.z)((({code:e,area:t})=>(0,q.of)(this.getActions().setAreaCode({area:t,code:e}),this.getActions().setShowAreaCodeSelector(!1)))))}checkPhoneNumberFormat(e){return e.pipe((0,Q.z)((({phone:e})=>{const t=(e=>e&&/[^\d]+/.test(e))(e);return(0,q.of)(this.getActions().setPhoneNumber(e),this.getActions().setErrorMsg(t?"common_registration_phone_input_error":""))})))}setMobileInfo(e,t){const{phone:i,areaCode:o}=t;if(!i||!o)return e.mobile="",void(e.mobileOpenId="");e.mobile=`+${o} ${i}`,e.mobileOpenId=86===o?i:`+${o}${i}`}};(0,x.__decorate)([(0,At.cQ)(),(0,x.__metadata)("design:type",$.y)],$n.prototype,"dispose$",void 0),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Boolean]),(0,x.__metadata)("design:returntype",void 0)],$n.prototype,"setShowAreaCodeSelector",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],$n.prototype,"setAreaCode",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,String]),(0,x.__metadata)("design:returntype",void 0)],$n.prototype,"setPhoneNumber",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,String]),(0,x.__metadata)("design:returntype",void 0)],$n.prototype,"setErrorMsg",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,String]),(0,x.__metadata)("design:returntype",void 0)],$n.prototype,"setAreaSearchText",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,String]),(0,x.__metadata)("design:returntype",void 0)],$n.prototype,"setPhoneCode",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],$n.prototype,"toggleAreaCodeSelector",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],$n.prototype,"selectAreaCode",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],$n.prototype,"checkPhoneNumberFormat",null),$n=(0,x.__decorate)([(0,Tt.Y)("PhoneNumberModule")],$n);let Qn=class extends Pt.D{constructor(e,t){super(),this.appContext=e,this.history=t,this.defaultState={}}setErrorCode(e,t){e.errorCode=t}setShowInstagramCantLoginModal(e,t){e.showInstagramRisk=t}setShowRiskModal(e,t){e.showRiskModal=t}handleRiskError(e){return e.pipe((0,Ft.M)(this.appContext.state$),(0,Q.z)((([{errorCode:e},{appContext:t}])=>(null==t?void 0:t.isMobile)?(0,q.of)(this.getActions().setShowRiskModal(!0),this.getActions().setErrorCode(e)):(this.history.push(re.loginDownloadApp),(0,q.of)(this.noop())))))}};var Kn,Yn;(0,x.__decorate)([(0,At.cQ)(),(0,x.__metadata)("design:type",$.y)],Qn.prototype,"dispose$",void 0),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Number]),(0,x.__metadata)("design:returntype",void 0)],Qn.prototype,"setErrorCode",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Boolean]),(0,x.__metadata)("design:returntype",void 0)],Qn.prototype,"setShowInstagramCantLoginModal",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Boolean]),(0,x.__metadata)("design:returntype",void 0)],Qn.prototype,"setShowRiskModal",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],Qn.prototype,"handleRiskError",null),Qn=(0,x.__decorate)([(0,Tt.Y)("RiskErrorModule"),(0,x.__metadata)("design:paramtypes",[Zt,vn])],Qn),function(e){e.SendSms="send_sms",e.SendMail="send_mail",e.SendSmsResult="monitor_send_sms",e.SendMailResult="monitor_send_email_code"}(Kn||(Kn={})),function(e){e.Click="user_click",e.Resend="resend",e.ForgotPwd="forgot_password",e.TwoStep="2sv",e.ForceReset="force_reset",e.Delete="delete"}(Yn||(Yn={}));const Jn=e=>{$e.event("send_sms",e)},Xn=e=>{$e.event("send_mail",e)},ea=(e,t=!1)=>{const i=_e(`sms_code_count_down${t?"_email":""}_${e}`),o=+i-Date.now();return"number"!=typeof o||o<0?{hasSent:Boolean(i),countDownSecond:0}:{hasSent:Boolean(i),countDownSecond:Math.round(o/1e3)}};let ta=class extends Pt.D{constructor(e,t){super(),this.service=e,this.history=t,this.defaultState={}}setEmail(e,t){e.email=t}setEmailErrorMsg(e,t){e.emailErrorMsg=t}setSuggestEmailSuffixConfig(e,t){var i,o;e.email=(null!==(o=null===(i=e.email)||void 0===i?void 0:i.split("@")[0])&&void 0!==o?o:"")+t,e.emailErrorMsg=void 0}setLoading(e,t){e.checkEmailLoading=t}setEmailInfo(e){return e.pipe((0,Q.z)((({email:e,valid:t})=>(0,q.of)(this.getActions().setEmail(e),this.getActions().setEmailErrorMsg(t||!e?"":"common_registration_email_input_error")))))}checkEmailRegistered(e){return e.pipe((0,Ft.M)(this.state$),(0,Q.z)((([e,{email:t=""}])=>Vn(t)?this.service.checkEmailRegistered({email:t}).pipe((0,Me.U)((e=>{const{error_code:t,description:i,is_registered:o}=e;if(t)return this.getActions().setEmailErrorMsg(i);{const e=o?re.loginWithSignedEmail:re.signupEmailCreatePassword;return this.history.push(e),this.noop()}})),(0,Et.O)(this.getActions().setLoading(!0)),(0,It.l)(this.getActions().setLoading(!1))):(0,q.of)(this.getActions().setEmailErrorMsg("common_registration_email_input_error")))))}};(0,x.__decorate)([(0,At.cQ)(),(0,x.__metadata)("design:type",$.y)],ta.prototype,"dispose$",void 0),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,String]),(0,x.__metadata)("design:returntype",void 0)],ta.prototype,"setEmail",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,String]),(0,x.__metadata)("design:returntype",void 0)],ta.prototype,"setEmailErrorMsg",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,String]),(0,x.__metadata)("design:returntype",void 0)],ta.prototype,"setSuggestEmailSuffixConfig",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Boolean]),(0,x.__metadata)("design:returntype",void 0)],ta.prototype,"setLoading",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],ta.prototype,"setEmailInfo",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],ta.prototype,"checkEmailRegistered",null),ta=(0,x.__decorate)([(0,Tt.Y)("EmailModule"),(0,x.__metadata)("design:paramtypes",[_n,vn])],ta);let ia=class extends Pt.D{constructor(e,t,i,o,n,a,r){super(),this.contextModule=e,this.service=t,this.ageGate=i,this.phone=o,this.email=n,this.history=a,this.riskError=r,this.defaultState={sendCodeLoading:!1,code:""},this.sendReason="user_click",this.isEmail=!1}setCode(e,t){const i=(e=>Boolean(e&&(/[^\d]+/.test(e)||6!==e.length)))(t);e.codeFormatError=i?"common_login_reset_email_verify_title":"",e.code=t}setTicket(e,t){e.ticket=t}setSendCodeLoading(e,t){t&&(e.getCodeErrorMsg=""),e.sendCodeLoading=t}clearGetCodeError(e){e.getCodeErrorMsg="",e.emailRegistered=void 0}setErrorMsg(e,t){const{description:i,emailRegistered:o}=t;e.emailRegistered=o,e.getCodeErrorMsg=i}sendPhoneCodeForVerify(e){return e.pipe((0,Te.b)((({mobile:e})=>this.reportSendCode({reason:"user_click",cacheKey:e}))),(0,Q.z)((({mobile:e})=>this.service.notLoginSendCode({mobile:e}).pipe(this.sendCodeHandler({cacheKey:e})))))}sendPhoneCodeForLogin(e){return e.pipe((0,Te.b)((({mobile:e})=>this.reportSendCode({reason:"user_click",cacheKey:e}))),(0,zo.w)((e=>{const{isSignUp:t,mobile:i}=e;return this.ageGate.validateAge((0,q.of)({canSkip:!t})).pipe((0,Bo.T)(1),(0,Q.z)((({payload:t})=>"boolean"==typeof t?(0,q.of)(this.ageGate.getActions().setShowAgeConfirm(t)):(null==t?void 0:t.ageEligible)||null===t?this.service.sendPhoneCode(e).pipe(this.sendCodeHandler({cacheKey:i,agePayload:null!=t?t:void 0,nextUrl:e.nextUrl})):(0,q.of)(this.ageGate.getActions().setAgeCheckResult(t)))),(0,Et.O)(this.getActions().setSendCodeLoading(!0)),(0,It.l)(this.getActions().setSendCodeLoading(!1)))})))}sendPhoneCodeForResetPwd(e){return e.pipe((0,Te.b)((({mobile:e,verify_ticket:t})=>{var i;return this.reportSendCode({reason:"forgot_password",cacheKey:null!==(i=null!=e?e:t)&&void 0!==i?i:""})})),(0,Te.b)((()=>Jn({send_reason:"forgot_password"}))),(0,Q.z)((({mobile:e,verify_ticket:t,not_login_ticket:i,nextUrl:o})=>{var n;return this.service.sendPhoneCodeWithType({mobile:e,type:4,method:"GET",verify_ticket:t,not_login_ticket:i}).pipe(this.sendCodeHandler({cacheKey:null!==(n=null!=e?e:t)&&void 0!==n?n:"",nextUrl:o}))})))}sendPhoneCodeForTwoStep(e){return e.pipe((0,Te.b)((e=>this.reportSendCode({reason:"2sv",cacheKey:e.verify_ticket}))),(0,Q.z)((({verify_ticket:e,not_login_ticket:t,mobile:i})=>this.service.sendPhoneCodeWithType({verify_ticket:e,not_login_ticket:t,type:t?13:22,method:"GET",mobile:i}).pipe(this.sendCodeHandler({cacheKey:e})))))}sendPhoneCodeForForceResetPwd(e){return e.pipe((0,Te.b)((e=>this.reportSendCode({reason:"force_reset",cacheKey:e.conditional_login_ticket}))),(0,Ft.M)(this.state$),(0,Q.z)((([{conditional_login_ticket:e},{code:t}])=>this.service.sendPhoneCodeForForceResetPwd({code:t,conditional_login_ticket:e}).pipe(this.sendCodeHandler({cacheKey:e})))))}sendEmailCodeForForceResetPwd(e){return e.pipe((0,Te.b)((e=>this.reportSendCode({reason:"force_reset",cacheKey:e.conditional_login_ticket,isEmail:!0}))),(0,Ft.M)(this.state$),(0,Q.z)((([{conditional_login_ticket:e},{code:t}])=>this.service.sendEmailCodeForForceResetPwd({code:t,conditional_login_ticket:e}).pipe(this.sendCodeHandler({email:!0,cacheKey:e})))))}sendEmailCodeForLogin(e){return e.pipe((0,Te.b)((e=>this.reportSendCode({reason:"2sv",cacheKey:`${e.verify_ticket}`,isEmail:!0}))),(0,Te.b)((()=>Xn({send_reason:"user_click"}))),(0,Q.z)((({email:e,not_login_ticket:t,verify_ticket:i})=>this.service.sendEmailCodeForLogin({email:null!=e?e:"",extra_params:{not_login_ticket:t,verify_ticket:i}}).pipe(this.sendCodeHandler({email:!0,cacheKey:i})))))}sendEmailCodeForVerify(e){return e.pipe((0,Te.b)((e=>this.reportSendCode({reason:"2sv",cacheKey:`${e.verify_ticket}`,isEmail:!0}))),(0,Q.z)((e=>this.service.verifySendEmailCode(e).pipe(this.sendCodeHandler({email:!0,cacheKey:`${e.verify_ticket}`})))))}sendEmailCodeForSignup(e){return e.pipe((0,Te.b)((e=>this.reportSendCode({reason:"user_click",cacheKey:`${e.email}`,isEmail:!0}))),(0,Q.z)((e=>this.ageGate.validateAge((0,q.of)({canSkip:!1})).pipe((0,Bo.T)(1),(0,Q.z)((({payload:t})=>"boolean"==typeof t?(0,q.of)(this.ageGate.getActions().setShowAgeConfirm(t)):(null==t?void 0:t.ageEligible)||null===t?this.service.sendEmailCodeForSignup(e).pipe((0,Te.b)((e=>{1023===e.error_code&&(e.emailRegistered=!0)})),this.sendCodeHandler({email:!0,agePayload:null!=t?t:void 0,cacheKey:`${e.email}`})):(0,q.of)(this.ageGate.getActions().setAgeCheckResult(t)))),(0,Et.O)(this.getActions().setSendCodeLoading(!0)),(0,It.l)(this.getActions().setSendCodeLoading(!1))))))}sendEmailCodeForReset(e){return e.pipe((0,Te.b)((e=>{var t;return this.reportSendCode({reason:"forgot_password",cacheKey:`${null!==(t=e.email)&&void 0!==t?t:e.verify_ticket}`,isEmail:!0})})),(0,Q.z)((e=>{var t;return this.service.sendEmailCodeForResetPwd(e).pipe(this.sendCodeHandler({email:!0,cacheKey:`${null!==(t=e.email)&&void 0!==t?t:`${e.verify_ticket}`}`,nextUrl:e.nextUrl}))})))}reportSendCode(e){const{cacheKey:t,reason:i,isEmail:o}=e;this.sendReason=i,this.isEmail=Boolean(o);const{hasSent:n}=ea(t);o?Xn({is_retry:n,send_reason:i}):Jn({is_retry:n,send_reason:i})}reportSendCodeResult(e){const{error_code:t,"x-tt-logid":i,message:o,description:n}=e,a={status:t?1:0,error_code:t,error_desc:o||n,type:this.sendReason,logid:i};var r;this.isEmail?(r=a,$e.event("monitor_send_email_code",r)):(e=>{$e.event("monitor_send_sms",e)})(a)}sendCodeHandler({cacheKey:e,agePayload:t,email:i,nextUrl:o}){return n=>n.pipe((0,Te.b)((e=>this.reportSendCodeResult(e))),(0,Q.z)((n=>{var a;const{retry_time:r=60,emailRegistered:s,ticket:l,error_code:d}=n;return d||(((e,t,i)=>{ve(`sms_code_count_down${i?"_email":""}_${e}`,`${Date.now()+1e3*t}`)})(e,r,i),o&&this.history.push(o)),Fn(d)?(0,q.of)(this.riskError.getActions().handleRiskError({errorCode:d})):1356===d?(0,q.of)(this.contextModule.getActions().setShowAlertMessageType("TwoStepBlockResetPwd")):l?(0,q.of)(this.getActions().setTicket(l)):Zo[d]?(0,q.of)(this.phone.getActions().setErrorMsg(Zo[d]),t?this.ageGate.getActions().setAgeCheckResult(t):this.noop()):qo[d]?(0,q.of)(this.email.getActions().setEmailErrorMsg(qo[d]),t?this.ageGate.getActions().setAgeCheckResult(t):this.noop()):(0,q.of)(this.getActions().setErrorMsg({description:s||!d?"":null!==(a=n.description)&&void 0!==a?a:"Sorry, something went wrong, please try again later",emailRegistered:s}),t?this.ageGate.getActions().setAgeCheckResult(t):this.noop())})),(0,Et.O)(this.getActions().setSendCodeLoading(!0)),(0,It.l)(this.getActions().setSendCodeLoading(!1)))}};(0,x.__decorate)([(0,At.cQ)(),(0,x.__metadata)("design:type",$.y)],ia.prototype,"dispose$",void 0),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,String]),(0,x.__metadata)("design:returntype",void 0)],ia.prototype,"setCode",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,String]),(0,x.__metadata)("design:returntype",void 0)],ia.prototype,"setTicket",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Boolean]),(0,x.__metadata)("design:returntype",void 0)],ia.prototype,"setSendCodeLoading",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object]),(0,x.__metadata)("design:returntype",void 0)],ia.prototype,"clearGetCodeError",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],ia.prototype,"setErrorMsg",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],ia.prototype,"sendPhoneCodeForLogin",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],ia.prototype,"sendPhoneCodeForResetPwd",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],ia.prototype,"sendPhoneCodeForTwoStep",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],ia.prototype,"sendPhoneCodeForForceResetPwd",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],ia.prototype,"sendEmailCodeForForceResetPwd",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],ia.prototype,"sendEmailCodeForLogin",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],ia.prototype,"sendEmailCodeForVerify",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],ia.prototype,"sendEmailCodeForSignup",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],ia.prototype,"sendEmailCodeForReset",null),ia=(0,x.__decorate)([(0,Tt.Y)("SendCode"),(0,x.__metadata)("design:paramtypes",[Zn,_n,mo,$n,ta,vn,Qn])],ia);let oa=class{constructor(e){this.service=e,this.defaultMetrics={count:1},this.handleSyncKrPolicyApprove=e=>{this.service.emitEvent("SyncKrPolicyApprove",this.defaultMetrics,e)}}};oa=(0,x.__decorate)([(0,U.G)(),(0,x.__metadata)("design:paramtypes",[at])],oa);let na=class{constructor(e){this.fetch=e}getUniversalPopConfig(e){return this.fetch.get("/api/policy/notice/",{query:e})}setUniversalPopOperation(e){return this.fetch.post("https://www.tiktok.com/api/policy/notice/approve/",{body:(0,z.stringify)(e)})}getPolicyContent(e){return this.fetch.get("https://www.tiktok.com/web/api/v2/project/articleContent/",{query:e})}};na=(0,x.__decorate)([(0,U.G)(),(0,x.__metadata)("design:paramtypes",[ft])],na);let aa=class extends Pt.D{constructor(e,t,i,o){super(),this.pnsSlardar=e,this.pnsReport=t,this.service=i,this.appContext=o,this.defaultState={krPolicySelection:[],termsDomContent:"",privacyDomContent:""}}setKrPolicySelection(e,t){e.krPolicySelection=t}setTermsDomContent(e,t){e.termsDomContent=t}setPrivacyDomContent(e,t){e.privacyDomContent=t}requestPolicyContent(e){return e.pipe((0,Ft.M)(this.appContext.state$),(0,Q.z)((([{articleKeys:e},{appContext:t}])=>(0,Le.D)(e.map((e=>{var i;return this.service.getPolicyContent({lang:null!==(i=null==t?void 0:t.language)&&void 0!==i?i:"en",project_key:"legal",article_key:e})})))))).pipe((0,Q.z)((e=>(0,q.of)(this.getActions().setTermsDomContent(e[0].body.article_content),this.getActions().setPrivacyDomContent(e[1].body.article_content)))))}syncKrPolicyApprove(){var e;const{krPolicySelection:t}=this.state,{region:i}=null!==(e=this.appContext.state.appContext)&&void 0!==e?e:{};if("KR"!==i||!t.length)return(0,q.of)(null);const o=-1!==t.indexOf("push-policy");return this.pnsReport.handlePolicyConfirmOnFYP({trending:o?"on":"off"}),this.service.setUniversalPopOperation({business:"kr_consent_market_message",policy_version:"v20200629",style:"bottom",operation:-1!==t.indexOf("push-policy")?"2":"1",aid:1988}).pipe((0,Me.U)((({status_code:e})=>{if(this.pnsSlardar.handleSyncKrPolicyApprove({error_code:`${e}`}),0!==e)throw new Error(`sync kr policy error, error_code: ${e}`);return(0,q.of)(null)})),(0,Oe.K)((e=>(console.error(e),(0,q.of)({status_code:-1})))),(0,Yo.X)(1))}};(0,x.__decorate)([(0,At.cQ)(),(0,x.__metadata)("design:type",$.y)],aa.prototype,"dispose$",void 0),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Array]),(0,x.__metadata)("design:returntype",void 0)],aa.prototype,"setKrPolicySelection",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,String]),(0,x.__metadata)("design:returntype",void 0)],aa.prototype,"setTermsDomContent",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,String]),(0,x.__metadata)("design:returntype",void 0)],aa.prototype,"setPrivacyDomContent",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],aa.prototype,"requestPolicyContent",null),aa=(0,x.__decorate)([(0,Tt.Y)("PolicyModule"),(0,x.__metadata)("design:paramtypes",[oa,ro,na,Zt])],aa);let ra=class{constructor(e){this.fetch=e,this.postPrivateBannerAck=()=>this.fetch.post("/api/private_banner/ack/")}getVideoPrivateSetting(){return this.fetch.get("/api/compliance/settings/",{baseUrlType:2})}};ra=(0,x.__decorate)([(0,U.G)(),(0,x.__metadata)("design:paramtypes",[ft])],ra);let sa=class extends Pt.D{constructor(e,t,i){super(),this.fetch=e,this.complianceService=t,this.t=i,this.defaultState={isRegisterWithPrivateOn:!1}}setIsRegisterWithPrivateOn(e,t){e.isRegisterWithPrivateOn=t}handlePrivateConfirm(e){return e.pipe((0,Ae.z)((()=>this.complianceService.postPrivateBannerAck())),(0,Me.U)((()=>this.getActions().setIsRegisterWithPrivateOn(!1))),(0,Oe.K)((e=>(console.error(e),On.open({content:this.t("Sorry, something went wrong, please try again later"),duration:2e3}),(0,q.of)(this.noop())))))}getIsRegisterPrivateAccount(){return this.fetch.get("/api/user/detail/self/",{query:{tt_csrf_token:this.fetch.csrfToken}}).pipe((0,Me.U)((({statusCode:e,userInfo:t})=>{var i,o;if(0!==e&&10222!==e)throw new Error(`getIsRegisterPrivateAccount error, error_code ${e}`);return null!==(o=null===(i=null==t?void 0:t.user)||void 0===i?void 0:i.showPrivateBanner)&&void 0!==o&&o})),(0,Oe.K)((e=>(console.error(e),(0,q.of)(!1)))),(0,Yo.X)(1))}};var la;(0,x.__decorate)([(0,At.cQ)(),(0,x.__metadata)("design:type",$.y)],sa.prototype,"dispose$",void 0),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Boolean]),(0,x.__metadata)("design:returntype",void 0)],sa.prototype,"setIsRegisterWithPrivateOn",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],sa.prototype,"handlePrivateConfirm",null),sa=(0,x.__decorate)([(0,Tt.Y)("RegisterPrivateAccount"),(0,x.__param)(2,(0,Eo.t)(_)),(0,x.__metadata)("design:paramtypes",[ft,ra,Function])],sa),function(e){e.ShowConsentCheckBox="show_button_consent_check_box",e.ClickConsentCheckBox="click_button_consent_check_box",e.RegisterClick="register_click_next"}(la||(la={}));let da=class{constructor(e){this.fetch=e}validateUsername(e){return this.fetch.get("https://www.tiktok.com/api/uniqueid/check/",{query:{unique_id:e,fromWeb:1,aid:1180}}).pipe(this.errorHandler)}validateFTCUsername(e){return this.fetch.get("https://www.tiktok.com/api/register/check/login/name/",{query:{login_name:e}}).pipe(this.errorHandler)}syncEmailConsentInfo(){return this.fetch.post("https://www.tiktok.com/api/privacy/agreement/record/agree/v1",{body:pn().stringify({record_name:"email_consent",tt_csrf_token:this.fetch.csrfToken||"IQodDvCCo34LIXpe5ArEKd-S"})})}errorHandler(e){return e.pipe((0,Oe.K)((e=>(0,q.of)(Object.assign({error_code:e.error_code||-1},e)))))}};var ca;da=(0,x.__decorate)([(0,U.G)(),(0,x.__metadata)("design:paramtypes",[ft])],da),function(e){e.Third="Third",e.Phone="Phone"}(ca||(ca={}));let pa=class extends Pt.D{constructor(e,t,i,o,n,a,r,s,l,d){super(),this.service=e,this.policy=t,this.registerPrivateAccount=i,this.ageGate=o,this.accountService=n,this.loginReport=a,this.t=r,this.regionService=s,this.history=l,this.riskError=d,this.defaultState={username:"",signupLoading:!1}}setSuccess(e){e.success=!0}setEmailConsent(e,t){e.emailConsent=t}setErrorMsg(e,t){e.errorMsg=t}setLoading(e,t){e.signupLoading=t}setCheckNameLoading(e,t){e.checkNameLoading=t}setUsername(e,t){e.username=t}setUsernameInfo(e,t){e.usernameInfo=t}setFromNotRegisterLogin(e,t){e.fromNotRegisterLogin=t}cacheSmsCodeKey(e,t){e.phoneNotRegistered=t,e.fromNotRegisterLogin="Phone"}cacheThirdNotRegistered(e,t){e.thirdPlatformNotRegistered=t,e.fromNotRegisterLogin="Third"}clearSignUpResult(e){e.errorMsg=""}registerThirdPlatform(e){return e.pipe((0,Ft.M)(this.ageGate.state$),(0,Q.z)((([{platform:e,profileKey:t,rrc:i,ageCheckDone:o},{ageGateAction:n,birthday:a}])=>0===n||1===n&&-1!==["facebook","google"].indexOf(e)||o?this.accountService.thirdLogin({platform_app_id:an[e],platform:e,profile_key:t,rrc:i,login_only:!1,birthday:a}).pipe((0,Me.U)((t=>(t.fromThird=!0,this.loginReport.setPlatform(e),t.platform=e,this.getActions().handleSignupResult(t)))),(0,Et.O)(this.getActions().setLoading(!0)),(0,It.l)(this.getActions().setLoading(!1))):(this.history.push(re.signupAgeGate),(0,q.of)(this.getActions().cacheThirdNotRegistered({platform:e,profileKey:t}))))))}registerPhone(e){return e.pipe((0,Te.b)((()=>{this.loginReport.setPlatform("sms_verification"),this.loginReport.loginSubmit({signUp:!0})})),(0,Ft.M)(this.state$,this.ageGate.state$),(0,Q.z)((([{ageCheckDone:e},{phoneNotRegistered:t},{ageGateAction:i,birthday:o}])=>{var n,a;return i&&!e?(this.history.push(re.signupAgeGate),(0,q.of)(this.noop())):this.accountService.smsLoginContinue({mobile:null!==(n=null==t?void 0:t.mobile)&&void 0!==n?n:"",sms_code_key:null!==(a=null==t?void 0:t.smsCodeKey)&&void 0!==a?a:"",extra_params:{birthday:o}}).pipe((0,Me.U)((e=>(e.platform="sms_verification",this.getActions().handleSignupResult(e)))),(0,Et.O)(this.getActions().setLoading(!0)),(0,It.l)(this.getActions().setLoading(!1)))})))}syncUserInfos(e){return e.pipe((0,Ft.M)(this.state$),(0,Q.z)((([{fromThird:e,fromEmail:t,fromFTC:i},{emailConsent:o}])=>(0,Le.D)([this.policy.syncKrPolicyApprove(),this.syncEmailConsent(o),this.registerPrivateAccount.getIsRegisterPrivateAccount()]).pipe((0,zo.w)((o=>{const[,,n]=o,a=e||t?re.signupCreateUsername:re.signupCreatePassword;return i||this.history.push(a),(0,q.of)(this.getActions().setLoading(!1),this.registerPrivateAccount.getActions().setIsRegisterWithPrivateOn(n),i?this.getActions().setSuccess():this.noop())}))))))}validateUsername(e){return e.pipe((0,Q.z)((({name:e,fromThird:t})=>e?this.service.validateUsername(e).pipe((0,Q.z)((i=>{const{status_code:o,recommended_unique_ids:n,is_valid:a,status_msg:r}=i,s=!a&&t?null==n?void 0:n[0]:e;return t&&!s?(0,q.of)(this.noop()):(0,q.of)(this.getActions().setUsernameInfo({value:s,isValid:a,suggestList:n,errorMsg:t?"":Rn(o,Boolean(n),r)}))})),(0,Et.O)(this.getActions().setCheckNameLoading(!0)),(0,It.l)(this.getActions().setCheckNameLoading(!1))):(0,q.of)(this.getActions().setUsernameInfo(void 0)))))}validateFTCUsername(e){return e.pipe((0,Q.z)((({name:e})=>e?this.service.validateFTCUsername(e).pipe((0,Me.U)((t=>{const{valid:i}=t;return this.getActions().setUsernameInfo({value:e,isValid:i,errorMsg:i?"":"common_registration_username_error_ sensitivity"})})),(0,Et.O)(this.getActions().setCheckNameLoading(!0)),(0,It.l)(this.getActions().setCheckNameLoading(!1))):(0,q.of)(this.getActions().setUsernameInfo(void 0)))))}usernameRegister(e){return e.pipe((0,Te.b)((()=>{this.loginReport.setPlatform("handle"),this.loginReport.loginSubmit({signUp:!0})})),(0,Ft.M)(this.state$,this.ageGate.state$),(0,Q.z)((([{password:e},{username:t},{birthday:i}])=>this.accountService.usernameRegister({password:e,username:t,extra_params:{birthday:i}}).pipe((0,Me.U)((e=>(e.fromFTC=!0,this.getActions().handleSignupResult(e)))),(0,Et.O)(this.getActions().setLoading(!0)),(0,It.l)(this.getActions().setLoading(!1))))))}emailRegister(e){return e.pipe((0,Ft.M)(this.ageGate.state$,this.state$),(0,Te.b)((([,,{emailConsent:e}])=>{var t;this.loginReport.setPlatform("email"),this.loginReport.loginSubmit({signUp:!0}),t=void 0===e?{}:{status:e?"checked":"unchecked",text_type:"long_version"},$e.event("register_click_next",t)})),(0,Q.z)((([{password:e,code:t,email:i},{birthday:o}])=>this.accountService.emailRegister({password:e,code:t,email:i,ifLogin:!0,extra_params:{birthday:o,email_logic_type:e?2:1}}).pipe((0,Me.U)((e=>(e.fromEmail=!0,this.getActions().handleSignupResult(e)))),(0,Et.O)(this.getActions().setLoading(!0)),(0,It.l)(this.getActions().setLoading(!1))))))}handleSignupResult(e){return e.pipe((0,Q.z)((e=>{const{error_code:t,errorMsg:i,description:o,error_msg:n,fromThird:a,fromFTC:r,fromEmail:s,name:l,screen_name:d,sec_user_id:c,default_error_msg:p}=e;if(!t)return this.loginReport.loginSuccess({is_register:1}),this.regionService.authBroadcast({screen_name:d,sec_uid:c}).pipe((0,Q.z)((()=>(0,q.of)(this.getActions().syncUserInfos({fromThird:a,fromEmail:s,fromFTC:r}),a?this.getActions().validateUsername({name:l,fromThird:a}):this.noop()))));if(this.loginReport.loginFailure({error_code:t,signUp:!0}),Fn(t))return(0,q.of)(this.riskError.getActions().handleRiskError({errorCode:t}));const g=i||n||o||p;return a?(Mn(this.t(g)),(0,q.of)(this.noop())):(0,q.of)(this.getActions().setErrorMsg(g))})))}syncEmailConsent(e){return e?this.service.syncEmailConsentInfo().pipe((0,Me.U)((()=>(0,q.of)(null))),(0,Oe.K)((e=>(console.error(e),(0,q.of)({status_code:-1}))))):(0,q.of)(null)}};(0,x.__decorate)([(0,At.cQ)(),(0,x.__metadata)("design:type",$.y)],pa.prototype,"dispose$",void 0),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object]),(0,x.__metadata)("design:returntype",void 0)],pa.prototype,"setSuccess",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Boolean]),(0,x.__metadata)("design:returntype",void 0)],pa.prototype,"setEmailConsent",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,String]),(0,x.__metadata)("design:returntype",void 0)],pa.prototype,"setErrorMsg",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Boolean]),(0,x.__metadata)("design:returntype",void 0)],pa.prototype,"setLoading",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Boolean]),(0,x.__metadata)("design:returntype",void 0)],pa.prototype,"setCheckNameLoading",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,String]),(0,x.__metadata)("design:returntype",void 0)],pa.prototype,"setUsername",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],pa.prototype,"setUsernameInfo",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,String]),(0,x.__metadata)("design:returntype",void 0)],pa.prototype,"setFromNotRegisterLogin",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],pa.prototype,"cacheSmsCodeKey",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],pa.prototype,"cacheThirdNotRegistered",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object]),(0,x.__metadata)("design:returntype",void 0)],pa.prototype,"clearSignUpResult",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],pa.prototype,"registerThirdPlatform",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],pa.prototype,"registerPhone",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],pa.prototype,"syncUserInfos",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],pa.prototype,"validateUsername",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],pa.prototype,"validateFTCUsername",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],pa.prototype,"usernameRegister",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],pa.prototype,"emailRegister",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],pa.prototype,"handleSignupResult",null),pa=(0,x.__decorate)([(0,Tt.Y)("SignupModule"),(0,x.__param)(6,(0,Eo.t)(_)),(0,x.__metadata)("design:paramtypes",[da,aa,sa,mo,_n,Wo,Function,hn,vn,Qn])],pa);let ga=class extends Pt.D{constructor(e,t,i,o,n,a,r,s,l,d,c,p){super(),this.appContext=e,this.contextModule=t,this.signupModule=i,this.service=o,this.regionService=n,this.ageGate=a,this.loginReport=r,this.sendCode=s,this.phone=l,this.t=d,this.history=c,this.riskError=p,this.defaultState={errorMsg:"",showReactiveModal:!1,loginLoading:!1}}setLoginSuccess(e,t){e.success=null!=t?t:1}setErrorMsg(e,t){e.errorMsg=t}setErrorCode(e,t){e.errorCode=t}setTwoStepVerifyRes(e,t){e.twoStepResponse=t}setNeedForceResetPassword(e,t){const i=t.otp_type.match("email")?"email":"phone";this.history.push("email"===i?re.loginForgetEmailPassword:re.loginForgetPhonePassword),e.forceResetResponse=Object.assign(Object.assign({},t),{type:i})}clearForceResetRes(e){e.forceResetResponse=void 0}setShowReactiveModal(e,t){e.showReactiveModal=t.show,e.inCancellationResponse=t.res}setLoginLoading(e,t){e.loginLoading=t}setPhoneNotRegistered(e,t){e.phoneNotRegistered=t}clearLoginResult(e){e.errorMsg="",e.phoneNotRegistered=!1,e.twoStepResponse=void 0}cancelDeleteAccount(e){return e.pipe((0,Ft.M)(this.state$),(0,Q.z)((([e,t])=>{var i;const o=null===(i=t.inCancellationResponse)||void 0===i?void 0:i.token;return this.service.cancelDeleteAccount({token:o,type:0}).pipe((0,Q.z)((e=>(e.successType=2,(0,q.of)(this.getActions().setShowReactiveModal({show:!1}),this.getActions().handleLoginResult(e))))))})))}handleForceResetPwdByEmail(e){return e.pipe((0,Q.z)((e=>this.service.validateEmailCodeForForceReset(e).pipe((0,zo.w)((t=>{const{error_code:i,ticket:o}=t;return i?(0,q.of)(this.getActions().handleLoginResult(t)):this.service.forceResetPwdByEmailTicket(Object.assign(Object.assign({},e),{ticket:o})).pipe((0,Me.U)((t=>(t.password=e.password,this.getActions().handleLoginResult(t)))),(0,Et.O)(this.getActions().setLoginLoading(!0)),(0,It.l)(this.getActions().setLoginLoading(!1)))})),(0,Et.O)(this.getActions().setLoginLoading(!0)),(0,It.l)(this.getActions().setLoginLoading(!1))))))}handleForceResetPwdByPhone(e){return e.pipe((0,Q.z)((e=>this.service.validatePhoneCodeForForceReset(e).pipe((0,Q.z)((t=>{const{error_code:i,ticket:o}=t;return i?(0,q.of)(this.getActions().handleLoginResult(t)):this.service.forceResetPwdByMobileTicket(Object.assign(Object.assign({},e),{ticket:o})).pipe((0,Me.U)((t=>(t.password=e.password,this.getActions().handleLoginResult(t)))),(0,Et.O)(this.getActions().setLoginLoading(!0)),(0,It.l)(this.getActions().setLoginLoading(!1)))})),(0,Et.O)(this.getActions().setLoginLoading(!0)),(0,It.l)(this.getActions().setLoginLoading(!1))))))}handleForceResetPwd(e){return e.pipe((0,Q.z)((e=>{var{type:t}=e,i=(0,x.__rest)(e,["type"]);return("email"===t?this.service.forceResetPwdByEmailTicket(i):this.service.forceResetPwdByMobileTicket(i)).pipe((0,Me.U)((e=>(e.password=i.password,this.getActions().handleLoginResult(e)))),(0,Et.O)(this.getActions().setLoginLoading(!0)),(0,It.l)(this.getActions().setLoginLoading(!1)))})))}handlePasswordLogin(e){return e.pipe((0,Ft.M)(this.contextModule.state$),(0,Q.z)((([e,{isSecurityVerification:t}])=>(t?this.service.verifyPwdWithoutLogin(e):this.service.passwordLogin(e)).pipe((0,Me.U)((t=>{var i;const{verify_ticket:o}=null!==(i=e.extra_params)&&void 0!==i?i:{};return o&&this.loginReport.twoStepResult({error_code:t.error_code,result:t.error_code?"fail":"success",verification_method:"password"}),t.accountQuery=e,Go[t.error_code]&&e.mobile&&(t.errorMsg=Go[t.error_code]),this.getActions().handleLoginResult(t)})),(0,Et.O)(this.getActions().setLoginLoading(!0)),(0,It.l)(this.getActions().setLoginLoading(!1))))))}changePwdByEmail(e){return e.pipe((0,Q.z)((({password:e,email:t,emailCode:i,not_login_ticket:o,verify_ticket:n})=>this.service.resetPwdLoginByEmail({email:t,code:i,password:e,extra_params:{not_login_ticket:o,verify_ticket:n}}).pipe((0,Me.U)((t=>(n&&this.loginReport.twoStepResult({verification_method:"email",error_code:t.error_code,result:t.error_code?"fail":"success"}),t.error_code&&(t.password=e,1011===t.error_code&&(t.errorMsg="common_login_reset_email_input_error")),this.getActions().handleLoginResult(t)))),(0,Et.O)(this.getActions().setLoginLoading(!0)),(0,It.l)(this.getActions().setLoginLoading(!1))))))}handleSmsLogin(e){return e.pipe((0,Q.z)((({mobile:e,phoneCode:t,login_only:i,birthday:o})=>this.ageGate.validateAge((0,q.of)({canSkip:i})).pipe((0,Bo.T)(1),(0,Q.z)((({payload:n})=>"boolean"==typeof n?(0,q.of)(this.ageGate.getActions().setShowAgeConfirm(n)):(null==n?void 0:n.ageEligible)||null===n?this.service.smsLogin({mobile:e,code:t,login_only:i,birthday:o}).pipe((0,Q.z)((e=>(e.error_code&&(e.errorMsg=Vo[e.error_code]),(0,q.of)(this.getActions().handleLoginResult(e),n?this.ageGate.getActions().setAgeCheckResult(n):this.noop())))),(0,Et.O)(this.getActions().setLoginLoading(!0)),(0,It.l)(this.getActions().setLoginLoading(!1))):(0,q.of)(this.ageGate.getActions().setAgeCheckResult(n))))))))}handleSmsVerify(e){return e.pipe((0,Q.z)((({mobile:e,phoneCode:t})=>this.service.smsVerify({mobile:e,code:t}).pipe((0,Q.z)((e=>(e.error_code&&(e.errorMsg=Vo[e.error_code]),(0,q.of)(this.getActions().handleLoginResult(e))))),(0,Et.O)(this.getActions().setLoginLoading(!0)),(0,It.l)(this.getActions().setLoginLoading(!1))))))}changePwdByMobile(e){return e.pipe((0,Q.z)((({password:e,mobile:t,phoneCode:i})=>this.service.changePwdByMobile({mobile:t,code:i,password:e}).pipe((0,Me.U)((t=>(t.error_code&&(t.password=e,t.errorMsg=Vo[t.error_code]),this.getActions().handleLoginResult(t)))),(0,Et.O)(this.getActions().setLoginLoading(!0)),(0,It.l)(this.getActions().setLoginLoading(!1))))))}setAccount(e){return e.pipe((0,Q.z)((e=>{var{nextUrl:t}=e,i=(0,x.__rest)(e,["nextUrl"]);return this.service.setAccount(i).pipe((0,Me.U)((e=>{const{error_code:i,description:o}=e;return i?(Mn(this.t(o)),this.noop()):t?(this.history.push(t),this.noop()):this.getActions().setLoginSuccess()})),(0,Et.O)(this.getActions().setLoginLoading(!0)),(0,It.l)(this.getActions().setLoginLoading(!1)))})))}handleChangePwdByTicket(e){return e.pipe((0,Q.z)((e=>{var{type:t}=e,i=(0,x.__rest)(e,["type"]);return("email"===t?this.service.resetPwdByEmailTicket(i):this.service.resetPwdByMobileTicket(i)).pipe((0,Me.U)((e=>(e.error_code&&(e.password=i.password,e.errorMsg=Vo[e.error_code]),this.getActions().handleLoginResult(e)))),(0,Et.O)(this.getActions().setLoginLoading(!0)),(0,It.l)(this.getActions().setLoginLoading(!1)))})))}handleLoginResult(e){return e.pipe((0,Ft.M)(this.contextModule.state$,this.phone.state$,this.appContext.state$),(0,Q.z)((([e,{disableSignup:t,isSecurityVerification:i,phoenix:o},{mobile:n},{appContext:a}])=>{const{error_code:r,errorMsg:s,error_msg:l,description:d,new_user:c,screen_name:p,sec_user_id:g,successType:m,ticket:u,default_error_msg:h}=e;if(mn(),c)return this.loginReport.loginSuccess({is_register:1}),(0,q.of)(this.signupModule.getActions().syncUserInfos({}));if(!r)return this.loginReport.loginSuccess({is_register:0}),i&&this.setTicketIntoCookie(u,o),this.regionService.authBroadcast({screen_name:p,sec_uid:g}).pipe((0,Me.U)((()=>this.getActions().setLoginSuccess(m))));if(this.loginReport.loginFailure({error_code:r}),1381===r)return(0,q.of)(this.getActions().setNeedForceResetPassword(e));if(2046===r)return(0,q.of)(this.getActions().setTwoStepVerifyRes(e));if(1075===r)return(null==a?void 0:a.isMobile)&&this.history.push({pathname:re.accountDeactivate,state:{init:!0}}),(0,q.of)(this.getActions().setShowReactiveModal({show:!0,res:e}));if(1053===r)return(0,q.of)(this.contextModule.getActions().setShowAlertMessageType("twoStepVerifyBlock"));if(1356===r)return(0,q.of)(this.contextModule.getActions().setShowAlertMessageType("TwoStepBlockResetPwd"));if(1011===r&&t||1045===r&&i)return(0,q.of)(this.contextModule.getActions().setShowAlertMessageType("inexistent"));if(1011===r){if(e.sms_code_key)return(0,q.of)(this.getActions().setPhoneNotRegistered(!0),this.signupModule.getActions().cacheSmsCodeKey({smsCodeKey:e.sms_code_key,mobile:n}));if(e.profile_key)return(0,q.of)(this.signupModule.getActions().registerThirdPlatform({profileKey:e.profile_key,platform:e.platform}))}if(Fn(r))return(0,q.of)(this.riskError.getActions().handleRiskError({errorCode:r}));if(Zo[r])return(0,q.of)(this.phone.getActions().setErrorMsg(Zo[r]));const _=Vo[r]||s||l||d||h;return $o.includes(r)?(0,q.of)(this.sendCode.getActions().setErrorMsg({description:_})):(0,q.of)(this.getActions().setErrorMsg(_),this.getActions().setErrorCode(r))})))}setTicketIntoCookie(e,t){const i=new Date;i.setTime((new Date).getTime()+12e5),Do().set("security_verification_ticket",e,{domain:t?"www.tiktok.in":"tiktok.com",secure:!0,expires:i})}};(0,x.__decorate)([(0,At.cQ)(),(0,x.__metadata)("design:type",$.y)],ga.prototype,"dispose$",void 0),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Number]),(0,x.__metadata)("design:returntype",void 0)],ga.prototype,"setLoginSuccess",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,String]),(0,x.__metadata)("design:returntype",void 0)],ga.prototype,"setErrorMsg",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Number]),(0,x.__metadata)("design:returntype",void 0)],ga.prototype,"setErrorCode",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],ga.prototype,"setTwoStepVerifyRes",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],ga.prototype,"setNeedForceResetPassword",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object]),(0,x.__metadata)("design:returntype",void 0)],ga.prototype,"clearForceResetRes",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],ga.prototype,"setShowReactiveModal",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Boolean]),(0,x.__metadata)("design:returntype",void 0)],ga.prototype,"setLoginLoading",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Boolean]),(0,x.__metadata)("design:returntype",void 0)],ga.prototype,"setPhoneNotRegistered",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object]),(0,x.__metadata)("design:returntype",void 0)],ga.prototype,"clearLoginResult",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],ga.prototype,"cancelDeleteAccount",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],ga.prototype,"handleForceResetPwdByEmail",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],ga.prototype,"handleForceResetPwdByPhone",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],ga.prototype,"handleForceResetPwd",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],ga.prototype,"handlePasswordLogin",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],ga.prototype,"changePwdByEmail",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],ga.prototype,"handleSmsLogin",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],ga.prototype,"handleSmsVerify",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],ga.prototype,"changePwdByMobile",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],ga.prototype,"setAccount",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],ga.prototype,"handleChangePwdByTicket",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],ga.prototype,"handleLoginResult",null),ga=(0,x.__decorate)([(0,Tt.Y)("LoginResultDealModule"),(0,x.__param)(9,(0,Eo.t)(_)),(0,x.__metadata)("design:paramtypes",[Zt,Zn,pa,_n,hn,mo,Wo,ia,$n,Function,vn,Qn])],ga);var ma=i(64680);const ua=(0,ma.Z)("div",{target:"esqadv70"})((({theme:e})=>({background:e.colors.BGPrimary,borderRadius:"8px",width:e.isMobile?"300px":"400px",padding:"0 16px 32px"})),"label:DivContainer;"),ha=(0,ma.Z)("h5",{target:"esqadv71"})((({theme:e})=>[Co({theme:e,color:"TextPrimary",fontFamily:"Proxima",fontWeight:"bold"}),{fontSize:"24px",lineHeight:"32px",textAlign:"center",padding:"0 8px"}]),"label:H5Title;"),_a=(0,ma.Z)("p",{target:"esqadv72"})([({theme:e})=>Co({theme:e,color:"TextPrimary",fontFamily:"Proxima"}),{lineHeight:"15px",margin:"24px 8px",textAlign:"center",fontSize:"12px"}],"label:PDesc;"),va=(0,ma.Z)("div",{target:"esqadv73"})({display:"flex"},"label:DivButtonWrapper;"),ba=(0,ma.Z)(Ei,{target:"esqadv74"})({margin:"0 8px",minWidth:"auto",flex:"1"},"label:StyledButton;"),ya=(0,u.memo)((()=>{const e=qt("WebApp_Login"),[{showReactiveModal:t},{setShowReactiveModal:i,cancelDeleteAccount:n}]=(0,E.b7)(ga),a=(0,u.useCallback)((()=>{i({show:!1})}),[i]),r=(0,u.useCallback)((()=>{n()}),[n]);return(0,o.jsx)(Fo,Object.assign({visible:t,maskCloseable:!1,onClose:a},{children:(0,o.jsxs)(ua,{children:[(0,o.jsx)(ha,{children:e("reactivate_h1")},void 0),(0,o.jsx)(_a,{children:e("reactivate_h2")},void 0),(0,o.jsx)(_a,{children:e("reactivate_h3")},void 0),(0,o.jsx)(_a,{children:e("reactivate_h4")},void 0),(0,o.jsxs)(va,{children:[(0,o.jsx)(ba,Object.assign({size:"large",onClick:a},{children:e("common_registration_phone_input_popup_button")}),void 0),(0,o.jsx)(ba,Object.assign({size:"large",buttonTheme:"primary",onClick:r},{children:e("reactivate_btn")}),void 0)]},void 0)]},void 0)}),void 0)}));var fa=i(64236);const xa=(0,ma.Z)("div",{target:"e1lgic6i0"})({display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",marginTop:"40px",fontWeight:600},"label:DivBack;"),ka=(0,u.memo)((function(){const e=qt("WebApp_Login"),{loginModalShow:t}=(0,E.mp)(In),i=(0,B.k6)(),n=(0,B.$B)([re.loginQRcode,re.loginPhoneOrEmail,re.signupPhoneOrEmail]),a=(0,u.useCallback)((()=>{i.goBack()}),[i]);return t||!n?null:(0,o.jsxs)(xa,Object.assign({onClick:a},{children:[(0,o.jsx)(fa.Z,{},void 0),e("common_login_back")]}),void 0)}));let wa=!0;function Ca({pid:e}){const t=(0,m.fz)(at);(0,u.useEffect)((()=>{t.config({pid:e}),t.context({isLandingPage:wa?1:0}),wa=!1}),[e,t])}var ja,Sa=i(24054),La=i(92178);!function(e){e.ClickSignUp="click_sign_up",e.ClickLoginButton="click_login_button",e.EnterSignUp="enter_sign_up"}(ja||(ja={}));var Pa;!function(e){e.ClickQrCcode="click_QR_login",e.ScanQrCode="scan_QR_login"}(Pa||(Pa={}));var Aa=i(59688),Ta=i(39022),Oa=i.n(Ta);function Ma(e,t){return(0,E.mp)(Zn,{selector:t=>{const i=t;return Oa()(i,...e())},dependencies:t})}var Ra=i(38743);const Fa=(0,ma.Z)("a",{target:"e15g97fd0"})((({theme:e})=>[Co({theme:e,fontFamily:"Proxima"}),{height:"18px",fontWeight:600,fontSize:"14px",lineHeight:"17px",display:"flex",alignItems:"center"}]),"label:AHelpTag;"),Ea=(0,ma.Z)(Ra.Z,{target:"e15g97fd1"})((({theme:e})=>({width:"20px",height:"20px",color:e.colors.TextTertiary,transform:"rtl"===e.direction?"rotateY(180deg)":"unset"})),"label:StyledHelpIcon;"),Ia=(0,ma.Z)("span",{target:"e15g97fd2"})({marginInlineStart:"7px",color:"TextQuaternary"},"label:SpanHelpText;");var Da;!function(e){e.ForYou="https://www.tiktok.com/foryou",e.Support="https://support.tiktok.com",e.Feedback="https://www.tiktok.com/feedback"}(Da||(Da={}));const za=(0,u.memo)((function(){var e;const t=qt("WebApp_Login"),{forceLogin:i,phoenix:n}=Ma((()=>["forceLogin","phoenix"]),[]),{isMobile:a,language:r}=Nt(ao((()=>["isMobile","language"]),[])),s=i?`https://support.tiktok.com/${r}`:`https://www.tiktok.com/feedback/?lang=${r}`,l=[re.signupPolicyConfirm,re.signupPrivateOn,re.signupAgeGateConfirm,re.signupCreateAccount];return(null===(e=(0,B.$B)(l))||void 0===e?void 0:e.isExact)||n?null:(0,o.jsxs)(Fa,Object.assign({href:s,target:"_blank",rel:"noopener noreferrer",className:"help-center"},{children:[(0,o.jsx)(Ea,{},void 0),!a&&(0,o.jsx)(Ia,{children:t("common_registration_feedback")},void 0)]}),void 0)})),Ba=(e,t)=>{const i=`https://www.tiktok.com/foryou?lang=${e}`,o=window.decodeURIComponent(null!=t?t:""),n="/"===location.pathname&&o.match(location.origin),a=[/^https?:\/\/([\w\-.]+?\.)?tiktok\.(com|in)(\/.*)?$/].some((e=>new RegExp(e).test(o))),r=n?i:a&&o?o:i;setTimeout((()=>{location.href=r}),1e3)},Na=(0,ma.Z)("header",{target:"e1x3uhsi0"})((({theme:e})=>({position:"fixed",width:"100%",top:0,left:0,height:44,background:`${e.colors.BGPrimary}`,padding:"0 16px",zIndex:2})),"label:HeaderWrapper;"),Ua=(0,ma.Z)("div",{target:"e1x3uhsi1"})((({align:e,theme:t})=>[So({direction:t.direction,start:"left"===e?"16px":"unset",end:"right"===e?"16px":"unset"}),{display:"flex",alignItems:"center",fontSize:"20px",position:"absolute",top:"12px"}]),"label:DivIcon;"),Ha=(0,ma.Z)(fa.Z,{target:"e1x3uhsi2"})((({theme:e})=>({transform:"rtl"===e.direction?"rotateZ(180deg)":"unset"})),"label:StyledBackIcon;"),Wa=(0,ma.Z)("div",{target:"e1x3uhsi3"})((({theme:e})=>[Co({theme:e,fontFamily:"Proxima",color:"TextPrimary"}),{fontSize:"17px",textAlign:"center",lineHeight:"44px",fontWeight:700}]),"label:DivTitle;"),Ga=({title:e,showClose:t,showLeft:i=!0,showRight:n=!0,backIcon:a=!0,LeftIcon:r,onClose:s})=>{const{language:l}=Nt(ao((()=>["language"]),[])),{redirectUrl:d,hideHomePage:c}=Ma((()=>["redirectUrl","hideHomePage"]),[]),p=(0,B.$B)([re.loginPhoneOrEmail])&&c,g=(0,B.k6)(),m=(0,u.useCallback)((()=>{t?s?s():Ba(l,d):g.goBack()}),[g,t,s,l,d]);return(0,o.jsxs)(Na,{children:[!p&&i&&(0,o.jsx)(Ua,Object.assign({align:"left",onClick:m},{children:r?(0,o.jsx)(r,{},void 0):t?(0,o.jsx)(Aa.Z,{},void 0):a?(0,o.jsx)(Ha,{},void 0):null}),void 0),e&&(0,o.jsx)(Wa,{children:e},void 0),!c&&n&&(0,o.jsx)(Ua,Object.assign({align:"right"},{children:(0,o.jsx)(za,{},void 0)}),void 0)]},void 0)},Za=(0,ma.Z)("div",{target:"e1cgu1qo0"})((({theme:e})=>[Co({theme:e,color:"TextPrimary",fontWeight:"semiBold",fontFamily:"Proxima"}),{border:`1px solid ${e.colors.LineSecondary2}`,fontSize:"15px",padding:"0 12px",display:"flex",alignItems:"center",justifyContent:"center",height:"44px",position:"relative",cursor:"pointer",marginBottom:"16px",wordBreak:"keep-all",whiteSpace:"nowrap"}]),"label:DivBoxContainer;"),qa=(0,ma.Z)("div",{target:"e1cgu1qo1"})((({theme:e})=>[So({direction:e.direction,start:"12px"}),{fontSize:"20px",position:"absolute",display:"flex"}]),"label:DivIconContainer;"),Va=e=>{const{text:t,Icon:i}=e;return(0,o.jsxs)(Za,Object.assign({onClick:e.onClick},{children:[(0,o.jsx)(qa,{children:(0,o.jsx)(i,{},void 0)},void 0),t]}),void 0)},$a=(0,ma.Z)("a",{target:"epl6mg0"})((({theme:e,textTheme:t,underline:i=!0})=>[Co({theme:e,color:"primary"===t?"Primary":"TextSecondary",fontWeight:"semiBold"}),{fontSize:"12px","&:hover, &:focus":{textDecoration:i?"underline":"none",textDecorationColor:"primary"===t?e.colors.Primary:e.colors.TextSecondary}}]),"label:ALink;"),Qa=({path:e,text:t,children:i,className:n,replace:a=!1,textTheme:r,underline:s,onClick:l})=>{const d=(0,B.k6)(),c=(0,u.useCallback)((t=>{t.preventDefault(),t.stopPropagation(),null==l||l(),a?d.replace(e):d.push(e)}),[d,e,a,l]);return(0,o.jsxs)($a,Object.assign({onClick:c,href:e,className:n,textTheme:r,underline:s},{children:[t,i]}),void 0)};var Ka=i(99550),Ya=i(42917),Ja=i(94894),Xa=i(11153),er=i(90447),tr=i(97669),ir=i(86668),or=i(91574),nr=i(27137),ar=i(91855);const rr=(e,t)=>{const i=`socialOauth:${e}`,o={timestamp:Number(new Date),timeInterval:6e5},n=Object.assign(Object.assign({},t),{expires:o});ue(i,JSON.stringify(n)),ue(e,JSON.stringify(n))},sr=e=>{const t=me(e);try{return JSON.parse(t)}catch(e){return{}}},lr=e=>{2===Number(null!=e?e:localStorage.getItem("oauthType"))&&(location.href=`${location.href}&no_refactor=1`)},dr="hello_page_login_way",cr=()=>{ue(dr,"1")},pr="webapp_third_auth_page_redirect";var gr=i(15589);let mr=class{constructor(e,t){this.loginReport=e,this.fetch=t}get apple$(){return window.AppleID?(0,q.of)(null):(0,q.of)(null).pipe((0,Q.z)((()=>(0,Le.D)([(0,V.D)(i.e(757).then(i.t.bind(i,57897,23))),this.getAppleConfig()]).pipe((0,Me.U)((([e,{data:t}])=>{const{client_id:i,state:o}=t;e.auth.init({clientId:i,state:o,redirectURI:"https://www.tiktok.com/oauth",scope:"name email",response_mode:"fragment",usePopup:!0}),window.AppleID=e}))))),(0,Oe.K)((()=>(0,q.of)({error_code:-1}))))}login(){return this.apple$.pipe((0,zo.w)((()=>(0,V.D)(window.AppleID.auth.signIn()).pipe((0,zo.w)((e=>this.afterAppleAuthentication(e))),(0,Oe.K)((e=>(this.loginReport.thirdPartyLoginResult(Object.assign(Object.assign({},e),{status:"popup_closed_by_user"===e.error?2:1,error_desc:e.error})),(0,q.of)(Object.assign(Object.assign({error_code:-1},e),{error_msg:"user_trigger_new_signin_flow"===e.error?"":e.error,platform:"apple"})))))))))}afterAppleAuthentication(e){return(0,q.of)(e).pipe((0,Me.U)((e=>{const{authorization:t={}}=e,{id_token:i}=t;return{openid:(0,gr.Z)(i).sub,platform_app_id:an.apple,platform:"apple",id_token:i}})))}getAppleConfig(){return this.fetch.post("https://www.tiktok.com/passport/web/auth/config",{query:{aid:1459,account_sdk_source:"web"},body:pn().stringify({platform_app_id:an.apple,action:"login_only",next:"https://www.tiktok.com/foryou?lang=en"})})}};mr=(0,x.__decorate)([(0,U.G)(),(0,x.__metadata)("design:paramtypes",[Wo,ft])],mr);var ur=i(83157);let hr=class{constructor(e){this.loginReport=e,this.loadSdk=e=>{i.e(400).then(i.t.bind(i,57525,23)).then((({default:t})=>{t.init({facebook:"1862952583919182",google:"1096011445005-sdea0nf5jvj14eia93icpttv27cidkvk.apps.googleusercontent.com",twitter:"rLsbFQ5NHI2IsWZiRc2McRCFc",instagram:"c8785d0dc7df48f298532fddf33d7cb5",vk:"6961453"}),this.helloJS=t,null==e||e()})).catch((t=>{console.error(t),null==e||e()}))}}get helloJS$(){return this.helloJS?(0,q.of)(this.helloJS):new $.y((e=>{this.loadSdk((()=>{e.next(),e.complete()}))}))}login(e){const{platform:t,display:i}=e;return"page"===i&&cr(),this.helloJS$.pipe((0,Q.z)((()=>(0,V.D)(this.helloJS(t).login(e)).pipe((0,zo.w)((e=>this.afterHelloAuthentication(e)))))),(0,Oe.K)((o=>{var n,a,r,s;return this.loginReport.thirdPartyLoginResult(Object.assign(Object.assign({},o.error),{status:"cancelled"===(null===(n=o.error)||void 0===n?void 0:n.code)?2:1,error_desc:null===(a=o.error)||void 0===a?void 0:a.message})),"blocked"===(null===(r=o.error)||void 0===r?void 0:r.code)&&"popup"===i&&(e.display="page",this.helloJS(t).login(e),cr()),(0,q.of)(Object.assign({platform:t,error_code:-1,error_msg:null===(s=o.error)||void 0===s?void 0:s.message},o.error))})))}ListenLogin(){return this.helloJS$.pipe((0,zo.w)((()=>(0,ur.R)(this.helloJS,"auth.login").pipe((0,Pe.q)(1)))),(0,zo.w)((e=>(he(dr),this.afterHelloAuthentication(e[0])))))}afterHelloAuthentication(e){return(0,q.of)(e).pipe((0,zo.w)((e=>{const{network:t,authResponse:i}=e,o="vk"===t?{v:"5.81"}:void 0;return(0,V.D)(this.helloJS(t).api("me",o)).pipe((0,Me.U)((e=>{const{access_token:o="",oauth_token_secret:n=""}=i;return{openid:e.id,access_token:o,access_token_secret:n,platform:t,platform_app_id:an[t]}})))})))}};hr=(0,x.__decorate)([(0,U.G)(),(0,x.__metadata)("design:paramtypes",[Wo])],hr);let _r=class{constructor(e){this.loginReport=e}get Kakao$(){return window.Kakao?(0,q.of)(null):new $.y((e=>{i.e(628).then(i.t.bind(i,44767,23)).then((({default:t})=>{window.Kakao=t,window.Kakao.init("4954e33ea2a4395e59ecbc20761bd889"),e.next(),e.complete()})).catch((t=>{console.error(t),e.next(),e.complete()}))}))}login(){return this.Kakao$.pipe((0,Q.z)((()=>new $.y((e=>{const t=t=>{console.error(t),e.next({error_code:-1,error_msg:t.message,platform:"kakaotalk"}),e.complete()};window.Kakao.Auth.login({success(i){window.Kakao.API.request({url:"/v2/user/me",success:t=>{e.next(Object.assign({openid:t.id,platform_app_id:an.kakaotalk,platform:"kakaotalk"},i)),e.complete()},fail:t})},fail:t})})))),(0,Oe.K)((e=>(this.loginReport.thirdPartyLoginResult(Object.assign(Object.assign({},e),{status:1,error_desc:e.error})),(0,q.of)({error_code:-1,platform:"kakaotalk",error_msg:e.message})))))}};_r=(0,x.__decorate)([(0,U.G)(),(0,x.__metadata)("design:paramtypes",[Wo])],_r);let vr=class extends Pt.D{constructor(e,t,i,o,n,a,r,s,l){super(),this.service=e,this.loginResultDealModule=t,this.app=i,this.contextModule=o,this.helloJS=n,this.kakaoSdk=a,this.appleSdk=r,this.slardar=s,this.loginReport=l,this.defaultState={platform:""}}handleHelloJSAuth(e){return e.pipe((0,Q.z)((e=>this.helloJS.login(e).pipe((0,Te.b)((e=>this.reportThirdGetToken(e))),(0,Me.U)((e=>e.error_code?"cancelled"===e.code?this.noop():this.loginResultDealModule.getActions().handleLoginResult(e):this.getActions().thirdLogin(e)))))))}handleHelloLoginEvent(e){return e.pipe((0,Q.z)((()=>this.helloJS.ListenLogin().pipe((0,Me.U)((e=>e.error_code?this.noop():this.getActions().thirdLogin(e)))))))}handleKakaoLogin(e){return e.pipe((0,Q.z)((()=>this.kakaoSdk.login().pipe((0,Me.U)((e=>(this.reportThirdGetToken(e),this.getActions().thirdLogin(e))))))))}handleAppleLogin(e){return e.pipe((0,Q.z)((({appleToken:e})=>e?this.appleSdk.afterAppleAuthentication(e):this.appleSdk.login()))).pipe((0,Te.b)((e=>this.reportThirdGetToken(e))),(0,Me.U)((e=>e.error_code?"popup_closed_by_user"===e.error?this.noop():this.loginResultDealModule.getActions().handleLoginResult(e):this.getActions().thirdLogin(e))))}handlePopupAuthorize(e){return e.pipe((0,Ft.M)(this.app.state$),(0,Q.z)((([{url:e,platform:t},{appContext:i}])=>{var o;return this.jumpAuthorizationPage({url:e,isSmartPlayer:null===(o=null==i?void 0:i.playerInfo)||void 0===o?void 0:o.isSmartPlayer}).pipe((0,Me.U)((({closeByUser:e})=>{if(e)return this.loginReport.thirdPartyLoginResult({error_code:-1,status:2,error_desc:"user cancel login"}),this.noop();const i=sr(t);if("twitter"===t){const e=JSON.stringify({oauth_token:i.oauth_token,oauth_verifier:i.oauth_verifier});i.code=ar.DS.encode(e)}return this.getActions().thirdLogin(Object.assign({openid:i.user_id,platform_app_id:an[t],platform:t},i))})))})))}authPageGoRedirect(e){return e.pipe((0,Ft.M)(this.contextModule.state$),(0,Me.U)((([{platform:e},{loginType:t,redirectUrl:i}])=>(((e,t)=>{const i=(0,z.stringifyUrl)({url:`${window.location.origin}/login`,query:t});location.href=i,ue(pr,e)})(e,{type:t,redirect_uri:i}),this.noop()))))}dealPageAuthRedirect(e){return e.pipe((0,Me.U)((()=>{const e=me(pr);if(!e)return this.noop();he(pr);const t=sr(e);if("twitter"===e){const e=JSON.stringify({oauth_token:t.oauth_token,oauth_verifier:t.oauth_verifier});t.code=ar.DS.encode(e)}return this.getActions().thirdLogin(Object.assign({platform_app_id:an[e],platform:e},t))})))}thirdLogin(e){return e.pipe((0,Ft.M)(this.contextModule.state$),(0,Q.z)((([e,{isSecurityVerification:t}])=>e.error_code||!e.platform_app_id?(0,q.of)(this.loginResultDealModule.getActions().handleLoginResult(e)):(gn(),(t?this.service.thirdVerify(Object.assign(Object.assign({},e),{login_only:!0})):this.service.thirdLogin(Object.assign(Object.assign({},e),{login_only:!0}))).pipe((0,Me.U)((t=>(t.thirdQuery=Object.assign(Object.assign({},e),{profile_key:t.profile_key}),this.loginReport.setPlatform(e.platform),t.platform=e.platform,this.loginResultDealModule.getActions().handleLoginResult(t)))))))))}jumpAuthorizationPage(e){const{url:t,isSmartPlayer:i}=e;let o="";i||(o="resizable,scrollbars,width=500,height=550,display=popup");const n=window.open(t,"_blank",o);return n?new $.y((e=>{const t=setInterval((()=>{(!n||n.closed||n.authDoneClose)&&(clearInterval(t),e.next({closeByUser:!n.authDoneClose}),n.authDoneClose&&n.close(),e.complete())}),100)})):(0,Mt.c)()}reportThirdGetToken(e){var t;const{error_code:i,code:o,error_msg:n,error:a,platform:r}=e;this.slardar.handleThirdGetToken({error_code:i?-1:0,error_message:null!==(t=null!=o?o:a)&&void 0!==t?t:n,platform:r})}};(0,x.__decorate)([(0,At.cQ)(),(0,x.__metadata)("design:type",$.y)],vr.prototype,"dispose$",void 0),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],vr.prototype,"handleHelloJSAuth",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],vr.prototype,"handleHelloLoginEvent",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],vr.prototype,"handleKakaoLogin",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],vr.prototype,"handleAppleLogin",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],vr.prototype,"handlePopupAuthorize",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],vr.prototype,"authPageGoRedirect",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],vr.prototype,"dealPageAuthRedirect",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],vr.prototype,"thirdLogin",null),vr=(0,x.__decorate)([(0,Tt.Y)("ThirdPlatformModule"),(0,x.__metadata)("design:paramtypes",[_n,ga,Zt,Zn,hr,_r,mr,sn,Wo])],vr);const br=(0,ma.Z)("div",{target:"exattu0"})({display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px"},"label:DivShowMore;"),yr={facebook:{text:"common_login_panel_button_facebook",icon:Ka.Z},google:{text:"common_login_panel_button_google",icon:Ya.Z},twitter:{text:"common_login_panel_button_twitter",icon:Ja.Z},instagram:{text:"common_login_panel_button_instagram",icon:Xa.Z},apple:{text:"common_login_panel_button_apple",icon:er.Z},line:{text:"common_login_panel_button_line",icon:tr.Z},kakaotalk:{text:"common_login_panel_button_kakaotalk",icon:ir.Z},vk:{text:"common_login_panel_button_vk",icon:or.Z}},fr=({signUp:e})=>{const t=(0,m.fz)(Wo),i=qt("WebApp_Login"),n=(0,B.k6)(),{platformConfig:a}=Ma((()=>["platformConfig"]),[]),{isMobile:r,playerInfo:s}=Nt(ao((()=>["isMobile","playerInfo"]),[])),{name:l,isSmartPlayer:d}=Nt(s),{setShowInstagramCantLoginModal:c}=(0,E.qj)(Qn),{handleAppleLogin:p,handlePopupAuthorize:g,handleHelloJSAuth:h,handleHelloLoginEvent:_,handleKakaoLogin:v,dealPageAuthRedirect:b}=(0,E.qj)(vr),[y,f]=(0,u.useState)(!1),x=(e=>{const t={show_num:2,order:"FACEBOOK,GOOGLE,INSTAGRAM,LINE,TWITTER,KAKAOTALK"},{isSignUp:i,platform:o,brandName:n="",platformConfig:a=t,phoenix:r}=e,s=Boolean(n),l=/mercedes/i.test(n),d="FACEBOOK,GOOGLE,TWITTER,APPLE,INSTAGRAM,LINE,KAKAOTALK,VK".toLocaleLowerCase().split(","),c="APPLE,INSTAGRAM".toLocaleLowerCase().split(","),p="LINE,KAKAOTALK,APPLE".toLocaleLowerCase().split(",");s&&(p.push("instagram","vk"),l&&p.push("facebook","twitter"));const g=r?{show_num:4,order:"FACEBOOK,GOOGLE,TWITTER,APPLE"}:a,m={expand:[],fold:[]};if(o){const e=d.find((e=>e===o));return e&&m.expand.push(e),m}const u=g.order.toLocaleLowerCase().split(","),h={expand:[...u.slice(0,g.show_num)],fold:[...u.slice(g.show_num)]};return s&&(h.expand=h.expand.filter((e=>!p.includes(e))),h.fold=h.fold.filter((e=>!p.includes(e)))),i?(h.expand=h.expand.filter((e=>!c.includes(e))),h.fold=h.fold.filter((e=>!c.includes(e)))):h.expand=h.expand.concat(h.fold),h.expand=h.expand.filter((e=>d.includes(e))),h.fold=h.fold.filter((e=>d.includes(e))),h})({platformConfig:a,isSignUp:e,brandName:l}),k=(0,u.useCallback)((()=>{const e=(()=>{const e=(0,z.stringifyUrl)({url:`${window.location.origin}/oauth/?page=new`,query:{platform:["twitter"],oauthType:0,lang:"en"}});return(0,z.stringifyUrl)({url:"https://us.tiktok.com/passport/web/web_login/",query:{platform_app_id:an.twitter,platform:["twitter"],aid:"1459",next:encodeURIComponent(e),action:"login_only"}})})();g({url:e,platform:"twitter"})}),[g]),w=(0,u.useCallback)((()=>{const e=(0,z.stringifyUrl)({url:"https://access.line.me/oauth2/v2.1/authorize",query:{response_type:"code",client_id:"1569196861",redirect_uri:`${window.location.origin}/oauthLine/`,state:"1line",scope:"openid profile"}});g({url:e,platform:"line"})}),[g]),C=(0,u.useCallback)((()=>{const e=(0,z.stringifyUrl)({url:"https://oauth.vk.com/authorize",query:{display:"page",response_type:"token",client_id:"6961453",redirect_uri:"https://www.tiktok.com/login/",scope:"offline, v",state:"vk_authorization"}});g({url:e,platform:"vk"})}),[g]),j=(0,u.useCallback)((()=>{r?c(!0):n.push({pathname:re.loginDownloadApp,state:{fromIns:!0}})}),[r,c,n]),S=(0,u.useCallback)((i=>()=>{var o,n;switch(t.setPlatform(i),t.loginSubmit({signUp:e}),i){case"apple":p({});break;case"twitter":k();break;case"line":w();break;case"facebook":case"google":h({force:!0,platform:i,display:d?"page":"popup",redirect_uri:"https://www.tiktok.com/login/",scope:null!==(n=null===(o=yr[i])||void 0===o?void 0:o.scope)&&void 0!==n?n:""});break;case"vk":C();break;case"kakaotalk":v();break;case"instagram":j()}}),[t,d,e,p,k,w,h,v,j,C]),L=(0,u.useCallback)((()=>{f(!0)}),[]),P=(0,u.useCallback)((e=>()=>{p({appleToken:e})}),[p]);return(0,u.useEffect)((()=>(document.addEventListener("AppleIDSignInOnSuccess",P),()=>{document.removeEventListener("AppleIDSignInOnSuccess",P)})),[P]),(0,u.useEffect)((()=>{(()=>{if(location.hash){const{state:e,access_token:t,user_id:i}=z.parse(location.hash.substr(1));"vk_authorization"===e&&(rr("vk",{access_token:null==t?void 0:t.toString(),user_id:null==i?void 0:i.toString()}),window.authDoneClose=!0)}})(),Boolean(me(dr))&&_()}),[_]),(0,u.useEffect)((()=>{b()}),[b]),(0,o.jsxs)(o.Fragment,{children:[x.expand.map((e=>yr[e]?(0,o.jsx)(Va,{text:i(yr[e].text),Icon:yr[e].icon,onClick:S(e)},e):null)),x.fold.length>0&&e&&!y&&(0,o.jsxs)(br,Object.assign({onClick:L},{children:[" ",(0,o.jsx)(nr.Z,{},void 0)]}),void 0),y&&x.fold.map((e=>yr[e]?(0,o.jsx)(Va,{text:i(yr[e].text),Icon:yr[e].icon,onClick:S(e)},e):null))]},void 0)};function xr(){const{ageGateAction:e}=(0,E.mp)(mo),{region:t,isMobile:i}=Nt(ao((()=>["region","isMobile"]),[]));return i&&0!==e?re.signupAgeGate:"KR"===t?re.signupPolicyConfirm:re.signupPhone}const kr=(0,ma.Z)("div",{target:"exd0a430"})((({isMobile:e})=>({width:"375px",margin:"auto",padding:e?"0 30px":"unset"})),"label:DivLoginContainer;"),wr=(0,ma.Z)("div",{target:"exd0a431"})((({isMobile:e})=>({padding:e?"0 30px":"unset"})),"label:DivHomeContainer;"),Cr=(0,ma.Z)("div",{target:"exd0a432"})((({theme:e})=>[Co({theme:e,color:"TextQuaternary"}),{fontSize:"15px",lineHeight:"18px",margin:"12px 0 32px",textAlign:"center"}]),"label:DivDescriptionContainer;"),jr=(0,ma.Z)("div",{target:"exd0a433"})((({theme:e})=>[Co({theme:e,color:"TextPrimary",fontFamily:"Sofia"}),{fontSize:e.isMobile?"24px":"32px",margin:"16px auto",fontWeight:"bold",textAlign:"center"}]),"label:DivTitle;"),Sr=()=>{const e=qt("WebApp_Login"),{loginModalShow:t}=(0,E.mp)(In),{isMobile:i,playerInfo:n}=Nt(ao((()=>["isMobile","playerInfo"]),[])),{isSmartPlayer:a}=Nt(n),{loginTitle:r,loginSlogan:s,signUpSlogan:l,signUpTitle:d}=Ma((()=>["loginTitle","loginSlogan","signUpSlogan","signUpTitle"]),[]),c=(0,B.k6)(),{pathname:p}=c.location,g=p.startsWith(re.signupHome),m=xr(),h=(0,u.useCallback)((()=>{g?$e.event("click_sign_up"):$e.event("click_login_button")}),[g]),_=(0,u.useCallback)((()=>{$e.event("click_QR_login")}),[]),v=!g&&(!i||a);return(0,o.jsxs)(o.Fragment,{children:[i&&(0,o.jsx)(Ga,{showClose:!0},void 0),(0,o.jsxs)(wr,Object.assign({isMobile:i},{children:[(0,o.jsx)(jr,{children:e(g?d:r)},void 0),!t&&(0,o.jsx)(Cr,{children:e(g?l:s)},void 0),v&&(0,o.jsx)(Qa,Object.assign({path:re.loginQRcode,underline:!1},{children:(0,o.jsx)(Va,{text:e("common_login_panel_button_qrcode"),Icon:Sa.Z,onClick:_},void 0)}),void 0),(0,o.jsx)(Qa,Object.assign({underline:!1,path:g?m:re.loginPhoneOrEmail},{children:(0,o.jsx)(Va,{text:e(g?"common_registration_panel_button_phoneoremail":"common_login_panel_button_phoneoremailorusername"),Icon:La.Z,onClick:h},void 0)}),void 0),(0,o.jsx)(fr,{signUp:g},void 0)]}),void 0)]},void 0)};var Lr=i(40706),Pr=i(81426),Ar=i(54393),Tr=i.n(Ar);const Or=(0,ma.Z)("div",{target:"e1521l5b1"})((({theme:e})=>[Co({theme:e,color:"TextPrimary",fontFamily:"Sofia"}),{fontSize:"32px",margin:"16px auto",fontWeight:"bold",textAlign:"center"}]),"label:DivTitle;"),Mr=(0,ma.Z)("div",{target:"e1521l5b3"})((({theme:e})=>[Co({theme:e,color:"TextPrimary",fontWeight:"semiBold"}),{fontSize:"15px",display:"flex",justifyContent:"space-between",marginBottom:"5px"}]),"label:DivDescription;"),Rr=(0,ma.Z)("div",{target:"e1521l5b4"})((({theme:e})=>[{marginTop:"20px",border:"1px solid",borderColor:e.colors.LineSecondary2,padding:"13px",borderRadius:"2px",width:"100%",position:"relative",":before":{content:'""',height:"16px",position:"absolute",background:e.colors.BGPrimary,width:"16px",top:"-8px",left:"rtl"===e.direction?"unset":"calc(50% - 8px)",right:"rtl"===e.direction?"calc(50% - 8px)":"unset",borderInlineEnd:`1px solid ${e.colors.LineSecondary2}`,borderTop:`1px solid ${e.colors.LineSecondary2}`,transform:"rotateZ(-45deg)"}}]),"label:DivPhoneNotRegistered;"),Fr=(0,ma.Z)("p",{target:"e1521l5b5"})((({theme:e,link:t})=>[{fontSize:"12px",lineHeight:"17px",color:t?e.colors.Primary:e.colors.TextPrimary,fontWeight:600,margin:"0 0 8px",cursor:"pointer"}]),"label:PPhoneNotRegistered;");var Er,Ir=i(95731),Dr=i(59387),zr=i(94328);!function(e){e.Init="init",e.GetCode="new",e.Scanned="scanned",e.Confirmed="confirmed",e.Expired="expired",e.Refused="refuse",e.Error="error"}(Er||(Er={}));let Br=class extends Pt.D{constructor(e,t,i){super(),this.service=e,this.fetch=t,this.loginSlardar=i,this.defaultState={status:"init",inQrcodePage:!1}}setStatus(e,t){e.status=t}setInQRCodePage(e,t){e.inQrcodePage=t,t&&(e.status="init")}setGetQrcodeResutl(e,t){const{qrCodeUrl:i,clientSecret:o,token:n}=t;e.token=n,e.clientSecret=o,e.qrCodeUrl=i,e.status="new"}getQrCodeUrl(e){return e.pipe((0,Q.z)((()=>this.service.getQrCodeUrl({next:"https://www.tiktok.com"}).pipe((0,Q.z)((e=>{const{token:t,qrcode_index_url:i}=e,o=function(e=8){const t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");let i="";for(let o=0;o<e;o++)i+=t[Math.ceil(35*Math.random())];return i}(),n=pn().parse(decodeURIComponent(i).split("?")[1]),{next_url:a}=n,r=(0,x.__rest)(n,["next_url"]),s=`${a}?client_secret=${o}`,l=`${decodeURIComponent(i).split("?")[0]}?${pn().stringify(Object.assign(Object.assign({},r),{next_url:s}))}`;return this.shortenQrUrl(l).pipe((0,Me.U)((e=>{var i;return this.getActions().setGetQrcodeResutl({token:t,clientSecret:o,qrCodeUrl:null!==(i=e.short_url)&&void 0!==i?i:l})})))}))))))}checkQrConnect(e){return e.pipe((0,Ft.M)(this.state$),(0,Q.z)((([{ttpConfig:e,oldStatus:t},{token:i="",clientSecret:o=""}])=>this.checkQrcodeRequest({token:i,clientSecret:o,ttpConfig:e,oldStatus:t}).pipe((0,Me.U)((e=>{const{status:t,error_code:i,description:o}=e;return i?(Mn(o),this.getActions().setStatus("error")):this.getActions().setStatus(t)}))))))}shortenQrUrl(e){return this.fetch.post("https://www.tiktok.com/shorten/",{body:(0,cn.stringify)({belong:"tiktok-webapp-qrcode",persist:0,expired_time:3600,targets:e})}).pipe((0,Me.U)((e=>{var t;return null!==(t=e.data[0])&&void 0!==t?t:{status:"failed",short_url:void 0}})),(0,Oe.K)((e=>(this.loginSlardar.QRCodeShortenFail({code:`${e.code}`}),(0,q.of)({status:"failed",short_url:void 0})))))}checkQrcodeRequest(e){const{token:t,clientSecret:i,ttpConfig:o,oldStatus:n}=e,{open:a,syncSeverList:r}=o||{},s=a?r:[{name:"gloable",domain:""}];return(0,Le.D)(s.map((e=>this.service.checkQrconnect({token:null!=t?t:"",next:"https://www.tiktok.com",baseURL:e.domain})))).pipe((0,Q.z)((e=>{const t=e.find((e=>e.client_secret===i));for(const o of e){const{status:e,client_secret:a,error_code:r,description:s}=t||o;if(this.state.inQrcodePage&&("init"===e||"new"===e||e===n))throw new Error("user not scanned, need check agin");return a===i?(0,q.of)({status:e}):r?(0,q.of)({error_code:r,description:s}):(0,q.of)({status:e})}return(0,q.of)(this.noop())})),(0,Ir.a)((e=>e.pipe((0,Dr.j)((()=>(0,zr.H)(800)))))))}};var Nr;function Ur(){return Ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Ur.apply(this,arguments)}(0,x.__decorate)([(0,At.cQ)(),(0,x.__metadata)("design:type",$.y)],Br.prototype,"dispose$",void 0),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,String]),(0,x.__metadata)("design:returntype",void 0)],Br.prototype,"setStatus",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Boolean]),(0,x.__metadata)("design:returntype",void 0)],Br.prototype,"setInQRCodePage",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],Br.prototype,"setGetQrcodeResutl",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],Br.prototype,"getQrCodeUrl",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],Br.prototype,"checkQrConnect",null),Br=(0,x.__decorate)([(0,Tt.Y)("QRCodeModule"),(0,x.__metadata)("design:paramtypes",[_n,ft,sn])],Br);const Hr=function(e){return u.createElement("svg",Ur({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 48 48",width:"1em",height:"1em"},e),Nr||(Nr=u.createElement("path",{fill:"#0BE09B",fillRule:"evenodd",d:"M42.692 12.722a1 1 0 01-.03 1.414L18.886 36.944a2 2 0 01-2.8-.03L5.294 26.121a1 1 0 010-1.414l1.414-1.414a1 1 0 011.414 0l9.408 9.408 22.365-21.452a1 1 0 011.414.03l1.384 1.443z",clipRule:"evenodd"})))};var Wr=i(34994),Gr=i(24112),Zr=i(11580),qr=i(41137);const Vr=({theme:e,buttonTheme:t})=>{switch(t){case"default":return{borderWidth:"1px",borderStyle:"solid",borderRadius:"2px",color:e.colors.TextPrimary,borderColor:e.colors.LineSecondary2,backgroundColor:e.colors.BGTertiary2,":disabled":{borderColor:"rgb(227, 227, 229)",backgroundColor:e.colors.BGPrimary2,color:e.colors.TextQuaternary}};case"primary":return{borderRadius:"2px",border:"none",color:e.colors.ConstTextInverse,backgroundColor:e.colors.Primary,":disabled":{border:"none",color:e.colors.TextQuaternary,backgroundColor:e.colors.BGInput2}};default:return{":disabled":{}}}},$r={large:{minWidth:"248px",minHeight:"44px",fontSize:"15px",lineHeight:"18px",fontWeight:700},medium:{minWidth:"144px",height:"35px",fontSize:"14px",lineHeight:"17px",fontWeight:700},small:{minWidth:"88px",height:"28px",fontSize:"14px",lineHeight:"17px",fontWeight:700},tiny:{minWidth:"74px",minHeight:"24px",fontSize:"13px",lineHeight:"17px",fontWeight:600}},Qr=(0,si.Z)("button",{target:"e5u1qxo0"})((({buttonTheme:e="default",size:t="medium",theme:i,loading:o=!1})=>[Vr({theme:i,buttonTheme:e}),$r[t],{display:"flex",position:"relative",alignItems:"center",justifyContent:"center",padding:"6px 8px",userSelect:"none",cursor:"pointer",boxSizing:"border-box",fontFamily:"ProximaNova, PingFangSC, sans-serif",":focus":{outline:"none"}},Object.assign({},o?{color:"transparent",pointerEvents:"none"}:{})]),"label:Button;"),Kr=(0,u.memo)((function(e){var{buttonTheme:t,size:i,type:n="button",loading:a=!1,loadingTheme:r="primary",loadingSize:s="medium",children:l}=e,d=(0,x.__rest)(e,["buttonTheme","size","type","loading","loadingTheme","loadingSize","children"]);return(0,o.jsxs)(Qr,Object.assign({type:n,buttonTheme:t,loading:a,size:i},d,{children:[l,a&&(0,o.jsx)(Li,{style:{position:"absolute"},theme:r,size:s},void 0)]}),void 0)})),Yr=(0,ma.Z)("div",{target:"eot7zvz0"})((({theme:e})=>({display:"flex",marginTop:"48px",justifyContent:"space-between",padding:e.isMobile?"0 32px":"unset"})),"label:DivQRContentBody;"),Jr=(0,ma.Z)("div",{target:"eot7zvz1"})({width:"180px"},"label:DivTextContainer;"),Xr=(0,ma.Z)("div",{target:"eot7zvz2"})({width:"180px",height:"180px",position:"relative"},"label:DivCodeImage;"),es=(0,ma.Z)("img",{target:"eot7zvz3"})({width:"180px",height:"180px",borderRadius:"12px",border:"1px solid rgb(242, 242, 242)",margin:"auto"},"label:ImgCode;"),ts=(0,ma.Z)("div",{target:"eot7zvz4"})((({theme:e})=>[So({direction:e.direction}),{position:"absolute",display:"flex",flexDirection:"column",width:"180px",height:"180px",top:0,backgroundColor:"rgba(250, 250, 250, 0.95)",borderRadius:"12px",padding:"0 24px",justifyContent:"center",alignItems:"center"}]),"label:DivCodeMask;"),is=(0,ma.Z)("span",{target:"eot7zvz5"})({fontSize:"42px",height:"30px",marginBottom:"24px"},"label:SpanSuccessIcon;"),os=(0,ma.Z)("p",{target:"eot7zvz6"})((({theme:e})=>[Co({theme:e,fontFamily:"Proxima"}),{fontWeight:600,lineHeight:"20px",fontSize:"14px"}]),"label:PCodeTip;"),ns=(0,ma.Z)("div",{target:"eot7zvz7"})({width:"100%",marginTop:"24px"},"label:DivStepContainer;"),as=(0,ma.Z)("p",{target:"eot7zvz8"})((({theme:e})=>[Co({theme:e,color:"TextPrimary",fontFamily:"Proxima"}),{fontSize:"14px",lineHeight:"20px",marginBottom:"4px",svg:{verticalAlign:"middle"}}]),"label:PStep;"),rs=(0,ma.Z)("img",{target:"eot7zvz9"})((({theme:e})=>({marginInlineStart:e.isMobile?"unset":"20px",height:e.isMobile?"230px":"270px"})),"label:ImgTip;"),ss=(0,ma.Z)(Kr,{target:"eot7zvz10"})({marginTop:"27px",fontSize:"16px"},"label:StyledButtonRefresh;"),ls=(0,ma.Z)(qr.Z,{target:"eot7zvz11"})({transform:"rotateZ(90deg)"},"label:StyledRefreshIcon;"),ds=()=>{const e=qt("WebApp_Login"),t=(0,m.fz)(Wo),{ttpConfig:i}=Ma((()=>["ttpConfig"]),[]),{appId:n,isMobile:a}=Nt(ao((()=>["appId","isMobile"]),[])),[{qrCodeUrl:r,status:s},{getQrCodeUrl:l,checkQrConnect:d,setInQRCodePage:c}]=(0,E.b7)(Br),{handleLoginResult:p}=(0,E.qj)(ga),g=(0,u.useCallback)((()=>{l()}),[l]);return(0,u.useEffect)((()=>(c(!0),g(),()=>{c(!1)})),[]),(0,u.useEffect)((()=>{"scanned"===s&&($e.event("scan_QR_login"),d({ttpConfig:i,oldStatus:"scanned"})),"confirmed"===s&&(t.setPlatform("QRcode"),p({error_code:0}))}),[d,p,t,s,i]),(0,u.useEffect)((()=>{r&&d({ttpConfig:i})}),[d,r,i]),(0,o.jsxs)(o.Fragment,{children:[a?(0,o.jsx)(Ga,{title:e("common_login_qrcode_title")},void 0):(0,o.jsx)(Or,{children:e("common_login_qrcode_title")},void 0),(0,o.jsxs)(Yr,{children:[(0,o.jsxs)(Jr,{children:[(0,o.jsxs)(Xr,{children:[r?(0,o.jsx)(Tr(),{size:180,value:r,style:{padding:"12px",borderRadius:"12px",border:"1px solid #f2f2f2"}},void 0):(0,o.jsx)(es,{src:1233===n?Gr:Zr,alt:"qrcode"},void 0),["scanned","confirmed"].includes(s)&&(0,o.jsxs)(ts,{children:[(0,o.jsx)(is,{children:(0,o.jsx)(Hr,{},void 0)},void 0),(0,o.jsx)(os,{children:e("common_login_qrcode_status_scanned")},void 0)]},void 0),["expired","refuse","error"].includes(s)&&(0,o.jsxs)(ts,{children:[(0,o.jsx)(os,{children:e("common_login_qrcode_status_expired",{refresh_button:""})},void 0),(0,o.jsx)(ss,Object.assign({size:"tiny",onClick:g},{children:(0,o.jsx)(ls,{},void 0)}),void 0)]},void 0),"init"===s&&(0,o.jsx)(ts,{children:(0,o.jsx)(vi,{center:!0,size:"small"},void 0)},void 0)]},void 0),(0,o.jsxs)(ns,{children:[(0,o.jsx)(as,{children:e("common_login_qrcode_copy_1")},1),(0,o.jsxs)(as,{children:[e("common_login_qrcode_copy_2",{addfriends_button:(0,o.jsx)(Lr.Z,{width:"16",height:"16",fill:"black"},void 0)})," "]},2),(0,o.jsx)(as,{children:e("common_login_qrcode_copy_3",{qrscanner_button:(0,o.jsx)(Pr.Z,{width:"16",height:"16",fill:"black"},void 0)})},3)]},void 0)]},void 0),(0,o.jsx)(rs,{src:Wr},void 0)]},void 0)]},void 0)},cs={email_verify:"email",pwd_verify:"password",mobile_sms_verify:"phone"},ps={email:"email_verify",password:"pwd_verify",phone:"mobile_sms_verify"};let gs=class extends Pt.D{constructor(e,t,i,o,n){super(),this.service=e,this.third=t,this.login=i,this.loginReport=o,this.phone=n,this.defaultState={loginLoading:!1}}setTwoStepVerifyRes(e,t){var i;const o=t.verify_ways,n={};o.forEach((({verify_way:e,mobile:t,email:i})=>{n[e]=null!=t?t:i})),e.verifyWays=n,e.type=t.default_verify_way||(null===(i=o[0])||void 0===i?void 0:i.verify_way),e.isTwoStep=Boolean(null==t?void 0:t.default_verify_way),e.thirdQuery=t.thirdQuery,e.accountQuery=t.accountQuery,e.password=t.password,e.verify_ticket=t.verify_ticket,e.not_login_ticket=t.not_login_ticket,e.sms_code_key=t.sms_code_key}setTwoStepType(e,t){e.type=t}setErrorMsg(e,t){e.errorMsg=t}setLoginLoading(e,t){e.loginLoading=t}handlePasswordVerify(e){return e.pipe((0,Ft.M)(this.state$,this.phone.state$),(0,Q.z)((([e,{sms_code_key:t=""},{mobile:i}])=>this.service.accountVerify(e).pipe((0,Te.b)((e=>this.reportTwoStepResult({error_code:e.error_code,type:"password"}))),(0,zo.w)((e=>e.error_code?(0,q.of)(this.getActions().setErrorMsg(e.description)):this.service.smsLoginContinue({mobile:i,sms_code_key:t}).pipe((0,Me.U)((e=>this.login.getActions().handleLoginResult(e))),(0,Et.O)(this.getActions().setLoginLoading(!0)),(0,It.l)(this.getActions().setLoginLoading(!1))))),(0,Et.O)(this.getActions().setLoginLoading(!0)),(0,It.l)(this.getActions().setLoginLoading(!1))))))}handleCodeVerify(e){return e.pipe((0,Ft.M)(this.state$),(0,Q.z)((([e,{type:t="",thirdQuery:i,accountQuery:o}])=>i||o?(t===ps.email?this.service.validateEmailCodeForLogin(e):this.service.validateMobileCodeForLogin(e)).pipe((0,Te.b)((e=>this.reportTwoStepResult({error_code:e.error_code,type:cs[t]}))),(0,zo.w)((e=>e.error_code?(0,q.of)(this.getActions().setErrorMsg(e.description)):i?(0,q.of)(this.third.getActions().thirdLogin(i)):o?(0,q.of)(this.login.getActions().handlePasswordLogin(o)):(0,q.of)(this.noop()))),(0,Et.O)(this.getActions().setLoginLoading(!0)),(0,It.l)(this.getActions().setLoginLoading(!1))):(0,q.of)(this.getActions().handleEmailCodeVerify(e)))))}handleEmailCodeVerify(e){return e.pipe((0,Q.z)((e=>this.service.emailCodeLogin(e).pipe((0,Te.b)((e=>this.reportTwoStepResult({error_code:e.error_code,type:"email"}))),(0,Me.U)((e=>this.login.getActions().handleLoginResult(e))),(0,Et.O)(this.getActions().setLoginLoading(!0)),(0,It.l)(this.getActions().setLoginLoading(!1))))))}handleSmsCodeVerifyReset(e){return e.pipe((0,Q.z)((e=>this.service.validateMobileCodeForReset(e).pipe((0,Te.b)((e=>this.reportTwoStepResult({error_code:e.error_code,type:"phone"}))),(0,Me.U)((e=>this.login.getActions().handleLoginResult(e))),(0,Et.O)(this.getActions().setLoginLoading(!0)),(0,It.l)(this.getActions().setLoginLoading(!1))))))}reportTwoStepResult(e){this.loginReport.twoStepResult({verification_method:e.type,result:e.error_code?"fail":"success",error_code:e.error_code})}};(0,x.__decorate)([(0,At.cQ)(),(0,x.__metadata)("design:type",$.y)],gs.prototype,"dispose$",void 0),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],gs.prototype,"setTwoStepVerifyRes",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],gs.prototype,"setTwoStepType",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,String]),(0,x.__metadata)("design:returntype",void 0)],gs.prototype,"setErrorMsg",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Boolean]),(0,x.__metadata)("design:returntype",void 0)],gs.prototype,"setLoginLoading",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],gs.prototype,"handlePasswordVerify",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],gs.prototype,"handleCodeVerify",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],gs.prototype,"handleEmailCodeVerify",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],gs.prototype,"handleSmsCodeVerifyReset",null),gs=(0,x.__decorate)([(0,Tt.Y)("TwoStepModule"),(0,x.__metadata)("design:paramtypes",[_n,vr,ga,Wo,$n])],gs);const ms=(0,ma.Z)(Ei,{target:"e1w6iovg0"})((({theme:e})=>[{width:"100%",marginTop:e.isMobile?"32px":"21px"}]),"label:StyledButton;"),us=e=>{const{children:t}=e,i=(0,x.__rest)(e,["children"]);return(0,o.jsx)(ms,Object.assign({type:"submit",buttonTheme:"primary",size:"largeNew"},i,{children:t}),void 0)},hs=(0,ma.Z)("div",{target:"e1rj4s2h0"})((({theme:e})=>[_s(e.isMobile)]),"label:DivContainer;"),_s=e=>e?{padding:"0px 32px 32px"}:{},vs=(0,ma.Z)("div",{target:"e1rj4s2h1"})((({theme:e})=>[Co({theme:e,color:"TextPrimary",fontFamily:"Sofia",fontWeight:"bold"}),bs(e.isMobile)]),"label:DivTitleContainer;"),bs=e=>e?{fontSize:"20px",marginTop:"24px"}:{fontSize:"33px"},ys=(0,ma.Z)("p",{target:"e1rj4s2h2"})((({theme:e})=>[Co({theme:e,color:"TextSecondary",fontFamily:"Proxima"}),fs(e.isMobile)]),"label:PDescriptionContainer;"),fs=e=>e?{fontSize:"14px",lineHeight:"17px",margin:"8px 0"}:{fontSize:"16px",lineHeight:"22px",margin:"16px 0"},xs=({theme:{isMobile:e}})=>[ks(e)],ks=e=>e?{position:"absolute",bottom:"28px",left:"32px",right:"32px",width:"auto"}:{},ws=(0,ma.Z)(us,{target:"e1rj4s2h5"})(xs,"label:StyledTwoStepButton;");let Cs=class extends Pt.D{constructor(){super(...arguments),this.defaultState={password:""}}setPassword(e,t){e.password=t}setHasInvalid(e,t){e.hasInvalid=t}setLengthValid(e,t){e.lengthValid=t}setContentValid(e,t){e.contentValid=t}updatePassword(e){return e.pipe((0,Q.z)((({value:e})=>{const{hasInvalid:t,contentValid:i,lengthValid:o}=(e=>{if(!e)return{};const t=/[^\w~!@#$%^&*()+,.:;=<>?/|\-[\]\\]+/,i=/[_~!@#$%^&*()+,.:;=<>?/|\-[\]\\]+/.test(e)&&/[0-9]+/.test(e)&&/[A-Za-z]+/.test(e)&&!t.test(e),o=e.length>=8&&e.length<=20;return{hasInvalid:t.test(e),lengthValid:o,contentValid:i}})(e);return(0,q.of)(this.getActions().setPassword(e),this.getActions().setHasInvalid(t),this.getActions().setLengthValid(o),this.getActions().setContentValid(i))})))}};(0,x.__decorate)([(0,At.cQ)(),(0,x.__metadata)("design:type",$.y)],Cs.prototype,"dispose$",void 0),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,String]),(0,x.__metadata)("design:returntype",void 0)],Cs.prototype,"setPassword",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],Cs.prototype,"setHasInvalid",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],Cs.prototype,"setLengthValid",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],Cs.prototype,"setContentValid",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],Cs.prototype,"updatePassword",null),Cs=(0,x.__decorate)([(0,Tt.Y)("SetPasswordModule")],Cs);let js=class extends Pt.D{constructor(e,t){super(),this.service=e,this.history=t,this.defaultState={checkCodeLoading:!1,ticket:"",type:"phone"}}setErrorMsg(e,t){e.errorMsg=t}setTicket(e,t){e.ticket=t}setType(e,t){e.type=t}setForceResetTicket(e,t){e.conditional_login_ticket=t}setCheckCodeLoading(e,t){e.checkCodeLoading=t}checkEmailCodeForReset(e){return e.pipe((0,Q.z)((e=>this.service.validateEmailCodeForReset(e).pipe((0,Me.U)((e=>(e.resetType="email",this.getActions().handleCheckResult(e)))),(0,Et.O)(this.getActions().setCheckCodeLoading(!0)),(0,It.l)(this.getActions().setCheckCodeLoading(!1))))))}checkPhoneCodeForReset(e){return e.pipe((0,Q.z)((e=>this.service.validatePhoneCodeForReset(e).pipe((0,Me.U)((e=>(e.resetType="phone",this.getActions().handleCheckResult(e)))),(0,Et.O)(this.getActions().setCheckCodeLoading(!0)),(0,It.l)(this.getActions().setCheckCodeLoading(!1))))))}checkCodeForForceReset(e){return e.pipe((0,Q.z)((e=>{var{type:t}=e,i=(0,x.__rest)(e,["type"]);return("email"===t?this.service.validateEmailCodeForForceReset(i):this.service.validatePhoneCodeForForceReset(i)).pipe((0,Me.U)((e=>(e.resetType=t,e.forceTicket=i.conditional_login_ticket,this.getActions().handleCheckResult(e)))),(0,Et.O)(this.getActions().setCheckCodeLoading(!0)),(0,It.l)(this.getActions().setCheckCodeLoading(!1)))})))}handleCheckResult(e){return e.pipe((0,Q.z)((e=>{const{ticket:t,description:i,resetType:o,forceTicket:n}=e;return t?(this.history.push(re.resetPassword),(0,q.of)(this.getActions().setTicket(t),this.getActions().setType(o),this.getActions().setForceResetTicket(n))):(0,q.of)(this.getActions().setErrorMsg(i))})))}};function Ss(e=[]){const[{errorMsg:t},i]=(0,E.b7)(ga),[{errorMsg:o},n]=(0,E.b7)(pa),{phone:a,areaCode:r}=(0,E.mp)($n),{email:s}=(0,E.mp)(ta),[{code:l},{clearGetCodeError:d}]=(0,E.b7)(ia),{password:c}=(0,E.mp)(Cs),[{errorMsg:p},{setErrorMsg:g}]=(0,E.b7)(gs),{setErrorMsg:m}=(0,E.qj)(js),[h,_]=(0,u.useState)(""),v=t||o||p,b=qt("WebApp_Login"),y=(0,B.k6)(),{pathname:f}=y.location;return(0,u.useEffect)((()=>{v&&(f===re.loginHome||f===re.loginHome||f===re.signupAgeGate?Mn(b(v)):_(v))}),[b,y.location,v,f]),(0,u.useEffect)((()=>{i.clearLoginResult(),n.setErrorMsg(""),d(),_(""),m("")}),[a,r,s,l,i,n,c,...e]),(0,u.useEffect)((()=>()=>{i.clearLoginResult(),n.clearSignUpResult(),d(),_(""),g("")}),[]),h}function Ls(){const{phone:e,areaCode:t}=(0,E.mp)($n),{email:i}=(0,E.mp)(ta),[{code:o,getCodeErrorMsg:n},{clearGetCodeError:a}]=(0,E.b7)(ia);return(0,u.useEffect)((()=>{a()}),[e,t,i,o,a]),n}(0,x.__decorate)([(0,At.cQ)(),(0,x.__metadata)("design:type",$.y)],js.prototype,"dispose$",void 0),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,String]),(0,x.__metadata)("design:returntype",void 0)],js.prototype,"setErrorMsg",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,String]),(0,x.__metadata)("design:returntype",void 0)],js.prototype,"setTicket",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,String]),(0,x.__metadata)("design:returntype",void 0)],js.prototype,"setType",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,String]),(0,x.__metadata)("design:returntype",void 0)],js.prototype,"setForceResetTicket",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Boolean]),(0,x.__metadata)("design:returntype",void 0)],js.prototype,"setCheckCodeLoading",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],js.prototype,"checkEmailCodeForReset",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],js.prototype,"checkPhoneCodeForReset",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],js.prototype,"checkCodeForForceReset",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],js.prototype,"handleCheckResult",null),js=(0,x.__decorate)([(0,Tt.Y)("CheckDigitCodeModule"),(0,x.__metadata)("design:paramtypes",[_n,vn])],js);const Ps=(0,u.memo)((function(e){const t=(0,u.useCallback)((t=>{var i;t.preventDefault(),null===(i=e.onSubmit)||void 0===i||i.call(e)}),[e]);return(0,o.jsx)("form",Object.assign({onSubmit:t},{children:e.children}),void 0)}));var As=i(85485);const Ts=(0,ma.Z)("div",{target:"e3v3zbj0"})((({theme:e,type:t})=>[Co({theme:e,fontFamily:"Proxima"}),{fontSize:"12px",lineHeight:"15px",margin:"4px 0",color:"error"===t?e.colors.Negative:"success"===t?e.colors.Positive:e.colors.TextTertiary,display:"flex",svg:{marginInlineEnd:"4px"}}]),"label:DivTextContainer;"),Os=(0,u.memo)((({text:e,type:t="default",children:i,style:n,errorIcon:a})=>(0,o.jsxs)(Ts,Object.assign({type:t,style:n},{children:[a&&(0,o.jsx)(As.Z,{fill:"rgba(254, 44, 85, 1.0)"},void 0),i,e]}),void 0)));var Ms=i(62687);const Rs=(0,ma.Z)("button",{target:"e1gzcpl10"})((({theme:e})=>[Co({color:"TextPrimary",theme:e,fontFamily:"Proxima",fontWeight:"semiBold"}),{margin:0,backgroundColor:e.colors.BGPrimary,borderColor:e.colors.LineSecondary2,borderWidth:1.5,borderStyle:"solid",borderRadius:"rtl"===e.direction?"4px 0 0 4px":"0px 4px 4px 0px",borderInlineStartWidth:1.5,cursor:"pointer",fontSize:"16px",padding:"0px 16px",height:"44px",flexShrink:0,boxSizing:"content-box","&:disabled":{color:e.colors.TextQuaternary,cursor:"not-allowed"},"&:focus-visible":{outline:"none"}}]),"label:ButtonSendCode;"),Fs=(0,ma.Z)(Ms.Z,{target:"e1gzcpl11"})({marginInlineStart:"4px",fontSize:"20px",verticalAlign:"middle",marginTop:"-2px",animation:"loading-circle-anim linear 1s infinite","@keyframes loading-circle-anim":{"0%":{transform:"rotate(0)"},"100%":{transform:"rotate(360deg)"}}},"label:StyledLoadingCircle;"),Es=(0,u.memo)((function(e){const{text:t,disabled:i,countDownSecond:n=0,loading:a}=e;return(0,o.jsxs)(Rs,Object.assign({type:"button",onClick:e.onClick,disabled:!!i||!!n,lo:!0},{children:[t+(n?`: ${n}s`:""),a&&(0,o.jsx)(Fs,{},void 0)]}),void 0)})),Is=(e,t,i)=>{const[o,n]=(0,u.useState)(0),[a,r]=(0,u.useState)(!1),s=(0,u.useRef)({});return(0,u.useEffect)((()=>{const{hasSent:t,countDownSecond:o}=ea(e,i);r(t),n(o)}),[e,i,t]),(0,u.useEffect)((()=>{o>0?(s.current&&clearTimeout(s.current),s.current=setTimeout((()=>{n(o-1)}),1e3)):s.current&&clearTimeout(s.current)}),[o]),{hasSent:a,countDownSecond:o}};var Ds,zs=i(50786);function Bs(){return Bs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Bs.apply(this,arguments)}const Ns=function(e){return u.createElement("svg",Bs({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",width:"1em",height:"1em"},e),Ds||(Ds=u.createElement("g",{stroke:"#161823",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,strokeWidth:1.5,opacity:.5},u.createElement("path",{d:"M2.8 7.8c2.1 1 4.5 1.6 7 1.6s4.9-.6 7-1.6M9.8 9.8v3M5.1 9.2l-1.5 2.6M14.6 9.2l1.5 2.6"}))))};var Us;function Hs(){return Hs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Hs.apply(this,arguments)}const Ws=function(e){return u.createElement("svg",Hs({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",width:"1em",height:"1em"},e),Us||(Us=u.createElement("g",{stroke:"#161823",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,strokeWidth:1.5,opacity:.5},u.createElement("path",{d:"M9.8 4.8c3 0 5.3 1.7 7 5-1.7 3.3-4 5-7 5s-5.3-1.7-7-5c1.6-3.4 4-5 7-5z"}),u.createElement("path",{d:"M9.8 11.8a2 2 0 100-4 2 2 0 000 4z"}))))},Gs=(0,ma.Z)("div",{target:"etcs7ny0"})({position:"relative",marginBottom:"9px"},"label:DivInputContainer;"),Zs=(0,ma.Z)("input",{target:"etcs7ny1"})((({theme:{colors:e,isMobile:t},border:i=!1,errorState:o=!1,hasIconPadding:n})=>[qs(t,i,e),{"::placeholder":{color:e.TextQuaternary},color:o?e.Negative:e.TextPrimary,lineHeight:"100%",outline:"none",fontSize:"16px",height:"44px",caretColor:e.Primary,width:"100%",borderColor:o?e.Negative:e.LineSecondary2,paddingInlineEnd:n?"24px":"unset"}]),"label:InputContainer;"),qs=(e,t,i)=>e?{background:"transparent",border:"none",borderRadius:"0",paddingInlineStart:"0px",borderBottom:t?"1px solid":"none"}:{borderRadius:"2px",backgroundColor:i.BGInput,border:t?"1px solid":"none",paddingInlineStart:"12px"},Vs=(0,ma.Z)("div",{target:"etcs7ny2"})((({theme:e})=>[So({direction:e.direction,end:"0"}),{display:"flex",alignItems:"center",position:"absolute",top:0,height:"44px",paddingInlineEnd:e.isMobile?"4px":"16px"}]),"label:DivIconContainer;"),$s=(0,ma.Z)("i",{target:"etcs7ny3"})({lineHeight:"0",marginInlineStart:"16px",cursor:"pointer",fontSize:"20px"},"label:IPasswordIcon;"),Qs=(0,ma.Z)("i",{target:"etcs7ny4"})((({theme:e})=>[{fontSize:"16px",lineHeight:"0",color:e.colors.LineInverse}]),"label:IDeleteIcon;"),Ks=(0,u.memo)((function(e){const{errorState:t,value:i,placeholder:n,password:a=!1,className:r,border:s=!0,style:l,autocomplete:d,name:c,autoFocus:p,disableDelete:g,readonly:m=!1,onInput:h=(()=>{}),onChange:_=(()=>{})}=e,[v,b]=(0,u.useState)("text"),{isMobile:y}=Nt(ao((()=>["isMobile"]),[]));(0,u.useEffect)((()=>{a&&b("password")}),[a]);const f=(0,u.useCallback)((()=>{b("text")}),[]),x=(0,u.useCallback)((()=>{b("password")}),[]),k=(0,u.useCallback)((()=>{const e={target:{value:""}};_(e),h(e)}),[_,h]),w=(0,u.useCallback)((e=>{_(e)}),[_]),C=Boolean((null==i?void 0:i.length)&&y&&!g),j=a&&(!y||g),S=j||C;return(0,o.jsxs)(Gs,Object.assign({className:r,style:l},{children:[(0,o.jsx)(Zs,{autoFocus:p,value:i,type:v,errorState:t,placeholder:n,onChange:w,onFocus:e.onFocus,onBlur:e.onBlur,onInput:e.onInput,border:s,autoComplete:d,autocomplete:d,name:c,readOnly:m,hasIconPadding:S},void 0),(0,o.jsxs)(Vs,{children:[t&&!y&&(0,o.jsx)(As.Z,{fill:"rgba(254, 44, 85, 1.0)"},void 0),j&&("password"===v?(0,o.jsx)($s,Object.assign({onClick:f},{children:(0,o.jsx)(Ns,{},void 0)}),void 0):(0,o.jsx)($s,Object.assign({onClick:x},{children:(0,o.jsx)(Ws,{},void 0)}),void 0)),C&&(0,o.jsx)(Qs,Object.assign({onClick:k},{children:(0,o.jsx)(zs.Z,{},void 0)}),void 0)]},void 0)]}),void 0)})),Ys=(0,ma.Z)("div",{target:"e2oypfg0"})({transition:"all 0.3s",display:"flex",justifyContent:"space-between"},"label:DivCodeInputContainer;"),Js=(0,ma.Z)(Ks,{target:"e2oypfg1"})((({theme:e})=>({flex:1,width:0,"& > input":{height:"47px",borderInlineEndWidth:"0",borderRadius:"rtl"===e.direction?"0 2px 2px 0":"2px 0px 0px 2px"}})),"label:StyledBaseInput;"),Xs=(0,u.memo)((function(e){const{errorMsg:t,disabled:i,codeFromNumber:n,loading:a,autoSendFirstTime:r,email:s}=e,l=qt("WebApp_Login"),[d,c]=(0,u.useState)(!1),[p,g]=(0,u.useState)(),[{codeFormatError:m,getCodeErrorMsg:h,code:_},{setCode:v}]=(0,E.b7)(ia);(0,u.useEffect)((()=>{g(t)}),[t]),(0,u.useEffect)((()=>{g(h)}),[h]);const{countDownSecond:b,hasSent:y}=Is(n,a,s);(0,u.useEffect)((()=>{if(r){const{countDownSecond:t}=ea(n,s);!t&&e.onClickSendCode()}return()=>{v("")}}),[]);const f=(0,u.useCallback)((()=>{c(!0)}),[]),x=(0,u.useCallback)((()=>{c(!1)}),[]),k=(0,u.useCallback)((e=>{v(e.target.value)}),[v]),w=p||m,C=m?!d:Boolean(w);return(0,o.jsxs)("div",{children:[(0,o.jsxs)(Ys,{children:[(0,o.jsx)(Js,{placeholder:l("common_login_reset_email_verify_title"),onFocus:f,onBlur:x,onChange:k,value:_,className:"code-input",autoComplete:"off",errorState:C},void 0),(0,o.jsx)(Es,{loading:a,onClick:e.onClickSendCode,disabled:!!i||!!b||a,countDownSecond:b,text:l(y?"common_registration_phone_sms_button":"common_registration_phone_input_button")},void 0)]},void 0),C&&w&&(0,o.jsx)(Os,{text:l(w),type:"error"},void 0)]},void 0)})),el=(0,ma.Z)("p",{target:"e17ptbg00"})((({theme:e})=>[Co({theme:e,color:"TextPrimary",fontFamily:"Proxima",fontWeight:"semiBold"}),{fontSize:"20px",lineHeight:"24px",marginTop:"24px",marginBottom:"8px"}]),"label:PTitleContainer;"),tl=(0,ma.Z)("p",{target:"e17ptbg01"})((({theme:e})=>[Co({theme:e,color:"TextTertiary2",fontFamily:"Proxima"}),{fontSize:"14px",lineHeight:"17px",marginBottom:"8px"}]),"label:PDescriptionContainer;"),il=(0,ma.Z)(Ms.Z,{target:"eo6lrdp0"})({marginInlineStart:"4px",fontSize:"20px",verticalAlign:"middle",marginTop:"-2px",animation:"loading-circle-anim linear 1s infinite","@keyframes loading-circle-anim":{"0%":{transform:"rotate(0)"},"100%":{transform:"rotate(360deg)"}}},"label:StyledLoadingCircle;"),ol=(0,ma.Z)("div",{target:"e1ait7k0"})({display:"flex",margin:"20px 0",height:"18px",justifyContent:"space-between"},"label:DivContainer;"),nl=(0,ma.Z)("span",{target:"e1ait7k1"})((({theme:e,disabled:t})=>[Co({theme:e,fontFamily:"Proxima",fontWeight:"semiBold"}),{color:t?e.colors.TextQuaternary:e.colors.TextPrimary,fontSize:"14px",lineHeight:"18px"}]),"label:SpanText;"),al=(0,u.memo)((function(e){const{loading:t,codeFromNumber:i,email:n}=e,{countDownSecond:a}=Is(i,t,n),r=qt("WebApp_Login");return(0,o.jsxs)(ol,{children:[(0,o.jsx)(nl,Object.assign({onClick:e.onClick,disabled:!!a},{children:r("common_registration_phone_sms_button")+(a?`: ${a}s`:"")}),void 0),t&&(0,o.jsx)(il,{},void 0)]},void 0)})),rl=(0,ma.Z)("p",{target:"e1tvj6xp0"})((({theme:e})=>[Co({theme:e,color:"TextTertiary2",fontFamily:"Proxima"}),{fontSize:"14px",lineHeight:"17px",marginBottom:"8px"}]),"label:PDescriptionContainer;"),sl=(0,ma.Z)("div",{target:"e1tvj6xp1"})({height:"48px",display:"flex"},"label:DivInputContainer;"),ll=(0,ma.Z)("input",{target:"e1tvj6xp2"})({opacity:0,position:"absolute",left:"-1000px"},"label:Input;"),dl=(0,ma.Z)("div",{target:"e1tvj6xp3"})((({theme:e,error:t,active:i})=>[Co({theme:e,color:"TextPrimary",fontFamily:"Proxima",fontWeight:"semiBold"}),{position:"relative",fontSize:"20px",flex:"1",borderBottom:"1px solid",borderBottomColor:t?e.colors.Negative:e.colors.LinePrimary2,display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",marginInlineEnd:"10px",":last-child":{marginInlineEnd:"0"},"::before":{content:'""',position:"absolute",height:"16px",width:"2px",background:e.colors.Primary,margin:"auto",display:i?"block":"none",animation:"cursor-animation 1.5s linear infinite"},"@keyframes cursor-animation":{"0%":{opacity:0},"25%":{opacity:0},"50%":{opacity:1},"75%":{opacity:1},"100%":{opacity:0}}}]),"label:DivLabel;"),cl=(0,u.memo)((function(e){const t=qt("WebApp_Login"),{codeFromNumber:i,codeDesc:n,email:a,loading:r,onSubmit:s,showTitle:l=!0,autoSubmit:d=!0,errorMsg:c="",autoSendFirstTime:p}=e,[{code:g,sendCodeLoading:m,getCodeErrorMsg:h=""},{setCode:_}]=(0,E.b7)(ia),v=(0,u.useRef)(null),b=(0,u.useCallback)((()=>{var e;null===(e=v.current)||void 0===e||e.focus()}),[]),y=(0,u.useCallback)((e=>{if(6===g.length&&5===e.target.value.length)_("");else{const t=e.target.value.replace(/[^\d]/g,"");_(t)}}),[_,g]),f=(0,u.useCallback)((e=>{e.persist()}),[]);(0,u.useEffect)((()=>{if(p){const{countDownSecond:t}=ea(i,a);!t&&e.onClickSendCode()}return()=>{_("")}}),[]),(0,u.useEffect)((()=>{6===g.length&&d&&s()}),[g,s,d]);const x=null!=n?n:t("Your code was sent to {code}",{code:i}),k=h||c,w=Boolean(k);return(0,o.jsxs)(o.Fragment,{children:[l&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(el,{children:t("common_login_reset_email_verify_title")},void 0),(0,o.jsx)(rl,{children:x},void 0)]},void 0),(0,o.jsxs)(sl,Object.assign({onClick:b},{children:[(0,o.jsx)(ll,{ref:v,onChange:y,type:"tel",autoFocus:!0,value:g,autoComplete:"one-time-code",onAnimationEnd:f},void 0),Array(6).fill("").map(((e,t)=>(0,o.jsx)(dl,Object.assign({active:g.length===t,error:w},{children:g[t]}),t)))]}),void 0),(0,o.jsx)(Os,{text:t(k),type:"error"},void 0),(0,o.jsx)(al,{codeFromNumber:i,loading:m||r,onClick:e.onClickSendCode,email:a},void 0)]},void 0)})),pl=e=>{const{onSubmit:t}=e,i=(0,x.__rest)(e,["onSubmit"]),{isMobile:n}=Nt(ao((()=>["isMobile"]),[]));return n?(0,o.jsx)(cl,Object.assign({},i,{onSubmit:e.onSubmit,autoSubmit:!1,showTitle:!1}),void 0):(0,o.jsx)(Xs,Object.assign({},i),void 0)},gl=(0,ma.Z)(Qa,{target:"ep888o80"})({fontSize:"12px",display:"inline-block"},"label:StyledLink;"),ml=(0,u.memo)((function(e){const{text:t,path:i,replace:n,textTheme:a}=e;return(0,o.jsx)(gl,{path:i,text:t,replace:n,textTheme:a,onClick:e.onClick},void 0)})),ul=(0,ma.Z)("div",{target:"e1mtjw290"})((({theme:e})=>({background:e.colors.BGPrimary,borderRadius:"8px",padding:"4px 0 0",textAlign:"center",margin:"auto",overflow:"hidden"})),"label:DivContainer;"),hl=(0,ma.Z)("h5",{target:"e1mtjw291"})((({theme:e})=>[Co({theme:e,color:"TextPrimary",fontFamily:"Proxima",fontWeight:"bold"}),{fontSize:"20px",lineHeight:"24px",padding:"24px",margin:"0"}]),"label:H5Title;"),_l=(0,ma.Z)(Kr,{target:"e1mtjw292"})((({theme:e})=>({width:"100%",borderRadius:"0",height:"48px",fontWeight:600,border:"none",borderTop:`1px solid ${e.colors.LineSecondary2}`,"&:last-child":{color:e.colors.TextTertiary2}})),"label:StyledButton;"),vl={width:"80%",maxWidth:"400px",background:"transparent"},bl=(0,u.memo)((({title:e,visible:t,actions:i})=>{const n=qt("WebApp_Login");return(0,o.jsx)(Fo,Object.assign({contentStyle:vl,visible:t,maskCloseable:!1},{children:(0,o.jsxs)(ul,{children:[(0,o.jsx)(hl,{children:n(e)},void 0),i.map((({onClick:e,text:t},i)=>(0,o.jsx)(_l,Object.assign({onClick:e},{children:n(t)}),i)))]},void 0)}),void 0)})),yl=(0,ma.Z)("div",{target:"e8ziav60"})((({theme:e})=>[Co({theme:e,color:"TextPrimary",fontWeight:"semiBold"}),{fontSize:"15px",lineHeight:"18px",margin:"20px 0 -12px 0"}]),"label:DivText;"),fl=(0,u.memo)((function({onClickForgetEmailPwd:e}){const t=(0,B.k6)(),i=qt("WebApp_Login"),[n,a]=(0,u.useState)(!1),r=(0,u.useCallback)((()=>{a(!0)}),[]),s=(0,u.useCallback)((()=>{t.push(re.loginForgetPhonePassword)}),[t]),l=(0,u.useCallback)((()=>{null==e||e(),t.push(re.loginForgetEmailPassword)}),[t,e]),d=(0,u.useMemo)((()=>[{text:"Phone number",onClick:s},{text:"Email",onClick:l},{text:"common_registration_phone_input_popup_button",onClick:()=>a(!1)}]),[l,s]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(yl,Object.assign({onClick:r},{children:[i("forget_password")," "]}),void 0),(0,o.jsx)(bl,{visible:n,actions:d,title:"common_login_reset_popup_title"},void 0)]},void 0)})),xl=(0,u.memo)((function(e){const t=qt("WebApp_Login"),{isMobile:i}=Nt(ao((()=>["isMobile"]),[]));return i?(0,o.jsx)(fl,{onClickForgetEmailPwd:e.onClickForgetEmailPwd},void 0):(0,o.jsx)(ml,{text:t("forget_password"),path:re.loginForgetEmailPassword,onClick:e.onClickForgetEmailPwd},void 0)}));var kl=i(70718);const wl=(0,ma.Z)("span",{target:"eea75y50"})((({theme:e})=>[Co({theme:e,color:"TextPrimary",fontFamily:"Proxima",fontWeight:"bold"}),{display:"inline-block",fontSize:"14px",lineHeight:"17px",margin:"12px 0",paddingInlineEnd:"12px","& + &":{paddingInlineStart:"12px",position:"relative","&::before":Object.assign({content:'""',position:"absolute",height:"12px",width:"1px",top:"2px",background:e.colors.LineSecondary},[So({start:"0",direction:e.direction})])}}]),"label:SpanOptionsText;"),Cl=(0,ma.Z)("span",{target:"eea75y51"})((({theme:e})=>[Co({theme:e,color:"TextPrimary",fontFamily:"Proxima"}),{margin:"12px 0",display:"inline-block",fontSize:"14px",fontWeight:600,zIndex:20}]),"label:SpanChangeWayText;"),jl=(0,ma.Z)(Kr,{target:"eea75y52"})((({theme:e})=>({width:"100%",borderRadius:"0",height:"48px",fontWeight:600,border:"none",borderBottom:`1px solid ${e.colors.LineSecondary2}`,"&:last-child":{color:e.colors.TextTertiary2,marginTop:"8px"}})),"label:StyledButton;"),Sl={[ps.email]:"use email instead",[ps.password]:"use password instead",[ps.phone]:"use SMS instead"},Ll=(0,u.memo)((function(e){const t=qt("WebApp_Login"),{verifyWays:i=[]}=e;return(0,o.jsx)(o.Fragment,{children:i.map((i=>{const n=`/login/2sv/${cs[i]}`;return(0,o.jsx)(wl,Object.assign({onClick:e.onClickType(i)},{children:(0,o.jsx)(kl.rU,Object.assign({to:n},{children:t(Sl[i])}),void 0)}),i)}))},void 0)}));var Pl=i(8274);const Al=(0,ma.Z)("div",{target:"e1pjeozo0"})({position:"fixed",left:0,top:0,bottom:0,right:0,overflow:"auto",outline:"0px",zIndex:12,display:"none",transition:"all 500ms cubic-bezier(.075, .82, .165, 1)","&.enter-active":{display:"block"},"&.enter-done":{display:"block"},"&.exit":{display:"block"},"&.exit-active":{display:"none"}},"label:DivPopup;"),Tl=(0,ma.Z)("div",{target:"e1pjeozo1"})((({theme:e})=>({position:"absolute",width:"100vw",bottom:0,left:0,right:0,background:e.colors.BGPlaceholderOpaque,borderRadius:"8px 8px 0 0",overflow:"hidden",transition:"all 500ms",zIndex:11,"&.enter-active":{opacity:1,transform:"translateY(100%)"},"&.enter-done":{transform:"translateY(0)"}})),"label:DivContent;"),Ol=(0,ma.Z)("div",{target:"e1pjeozo2"})((({theme:{colors:e}})=>({background:e.SDSecondary,position:"absolute",left:0,right:0,top:0,bottom:0})),"label:DivMask;"),Ml=e=>{const{visible:t}=e,i=(0,u.useRef)(null);return(0,o.jsx)(Pl.Z,Object.assign({in:t,timeout:300},{children:(0,o.jsxs)(Al,{children:[(0,o.jsx)(Ol,{},void 0),(0,o.jsx)(Pl.Z,Object.assign({in:t,timeout:100,nodeRef:i},{children:(0,o.jsx)(Tl,Object.assign({ref:i},{children:e.children}),void 0)}),void 0)]},void 0)}),void 0)},Rl={[ps.email]:"login_send_code_email",[ps.phone]:"login_send_code_sms",[ps.password]:"twosv_login_switch_pw"},Fl=(0,u.memo)((function(e){const t=qt("WebApp_Login"),[i,n]=(0,u.useState)(!1),{verifyWays:a=[],onClickType:r}=e,s=(0,u.useCallback)((()=>{n(!0)}),[]),l=(0,u.useCallback)((()=>{n(!1)}),[]),d=(0,u.useCallback)((e=>()=>{r(e)(),n(!1)}),[r]);return a.length?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Ml,Object.assign({visible:i},{children:(0,o.jsxs)("div",{children:[a.map(((e,i)=>(0,o.jsx)(jl,Object.assign({onClick:d(e),loading:!1},{children:t(Rl[e])}),i))),(0,o.jsx)(jl,Object.assign({onClick:l},{children:t("step_verification_cancel")}),void 0)]},void 0)}),void 0),(0,o.jsx)(Cl,Object.assign({onClick:s},{children:t("login_try_another_method")}),void 0)]},void 0):null})),El=(0,u.memo)((function(){const[{verifyWays:e={},type:t},{setTwoStepType:i}]=(0,E.b7)(gs),{isMobile:n}=Nt(ao((()=>["isMobile"]),[])),a=(0,u.useCallback)((e=>()=>{i(e)}),[i]),r=(0,u.useMemo)((()=>({verifyWays:Object.keys(e).filter((e=>e!==t)),onClickType:a})),[t,e,a]);return(0,o.jsxs)(o.Fragment,{children:[n?(0,o.jsx)(Fl,Object.assign({},r),void 0):(0,o.jsx)(Ll,Object.assign({},r),void 0),"pwd_verify"===t&&1===Object.keys(e).length&&(0,o.jsx)(xl,{},void 0)]},void 0)})),Il=()=>{const e=qt("WebApp_Login"),t=(0,m.fz)(Wo),[{sendCodeLoading:i,code:n,codeFormatError:a},{sendEmailCodeForReset:r,sendEmailCodeForLogin:s,sendEmailCodeForVerify:l}]=(0,E.b7)(ia),[{verifyWays:d,not_login_ticket:c,verify_ticket:p,password:g="",loginLoading:h},{handleCodeVerify:_}]=(0,E.b7)(gs),{changePwdByEmail:v}=(0,E.qj)(ga),b=Ss(),y=(0,u.useCallback)((()=>{t.twoStepSubmit({verification_method:"email",forReset:Boolean(g)}),g?v({not_login_ticket:c,verify_ticket:p,emailCode:n,password:g,email:""}):_({code:n,not_login_ticket:c,verify_ticket:p})}),[v,n,_,t,c,g,p]),f=(0,u.useCallback)((()=>{g?r({not_login_ticket:c,verify_ticket:p}):c?s({not_login_ticket:c,verify_ticket:p}):l({verify_ticket:p})}),[g,r,c,s,p,l]);return(0,o.jsxs)(Ps,Object.assign({onSubmit:y},{children:[(0,o.jsx)(ys,{children:e("common_login_reset_email_verify_title")},void 0),(0,o.jsx)(ys,{children:e("common_verify_email_text",{email:null==d?void 0:d.email_verify})},void 0),(0,o.jsx)(pl,{autoSendFirstTime:!0,email:!0,codeFromNumber:p,loading:i,onClickSendCode:f,onSubmit:y,errorMsg:b},void 0),(0,o.jsx)(El,{},void 0),(0,o.jsx)(ws,Object.assign({disabled:Boolean(a)||!n,loading:h},{children:e("login_next")}),void 0)]}),void 0)};var Dl=i(58778);const zl=(0,ma.Z)("div",{target:"e1bi0g3c0"})({marginBottom:"9px"},"label:DivContainer;"),Bl=(0,ma.Z)("p",{target:"e1bi0g3c1"})((({theme:e})=>[Co({theme:e,color:"TextPrimary",fontFamily:"Proxima",fontWeight:"semiBold"}),{margin:"4px 0"}]),"label:PDescriptionTitleContainer;"),Nl=(0,u.memo)((function(e){const{loginErrorText:t="",autoFocus:i,create:n=!0,loginError:a}=e,[{password:r,hasInvalid:s,lengthValid:l,contentValid:d},{updatePassword:c}]=(0,E.b7)(Cs),{isMobile:p}=Nt(ao((()=>["isMobile"]),[])),g=qt("WebApp_Login"),[m,h]=(0,u.useState)(!1),_=(0,u.useCallback)((()=>{h(!0)}),[]),v=(0,u.useCallback)((()=>{h(!1)}),[]),b=(0,u.useCallback)((e=>{c({value:e.target.value})}),[c]);(0,u.useEffect)((()=>()=>{c({value:""})}),[]);const y=n&&(!1===l||!1===d)&&(p||!m),f=(!l||!d)&&r||m||p,x=!1!==l||!p&&m?!0===l?"success":"default":"error",k=!1!==d||!p&&m?!0===d?"success":"default":"error";return(0,o.jsxs)(zl,{children:[(0,o.jsx)(Ks,{autoFocus:i,placeholder:g("Password"),onFocus:_,onBlur:v,onChange:b,value:r,errorState:y||Boolean(t)||a,password:!0,autocomplete:"new-password",disableDelete:n},void 0),Boolean(t)&&(0,o.jsx)(Os,{errorIcon:!0,text:g(t),type:"error"},void 0),s&&(0,o.jsx)(Os,{errorIcon:p,text:g("createpw_error_6"),type:"error"},void 0),f&&n&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Bl,{children:g("common_registration_password_pc_text")},void 0),(0,o.jsx)(Os,Object.assign({text:g("common_registration_password_pc_1"),type:x},{children:(0,o.jsx)(Dl.Z,{fill:"success"===x?"rgba(11, 224, 155, 1.0)":"rgba(22,24,35,.5)"},void 0)}),void 0),(0,o.jsx)(Os,Object.assign({text:g("createpw_helptext_2"),type:k},{children:(0,o.jsx)(Dl.Z,{fill:"success"===k?"rgba(11, 224, 155, 1.0)":"rgba(22,24,35,.5)"},void 0)}),void 0)]},void 0)]},void 0)})),Ul=()=>{const e=qt("WebApp_Login"),t=(0,m.fz)(Wo),{password:i,hasInvalid:n}=(0,E.mp)(Cs),{isMobile:a}=Nt(ao((()=>["isMobile"]),[])),[{verify_ticket:r,loginLoading:s},{handlePasswordVerify:l}]=(0,E.b7)(gs),d=Ss(),c=(0,u.useCallback)((()=>{t.twoStepSubmit({verification_method:"password",forReset:!1}),l({password:i,verify_ticket:r})}),[l,t,i,r]);return(0,o.jsxs)(Ps,Object.assign({onSubmit:c},{children:[(0,o.jsx)(ys,{children:e("common_verify_password_text")},void 0),(0,o.jsx)(Nl,{create:!1,loginError:Boolean(d),loginErrorText:a?d:void 0},void 0),(0,o.jsx)(El,{},void 0),!a&&(0,o.jsx)(Os,{text:e(d),type:"error"},void 0),(0,o.jsx)(ws,Object.assign({disabled:Boolean(n)||!i,loading:s},{children:e("login_next")}),void 0)]}),void 0)},Hl=()=>{const e=qt("WebApp_Login"),t=(0,m.fz)(Wo),[{sendCodeLoading:i,code:n,codeFormatError:a},{sendPhoneCodeForTwoStep:r,sendPhoneCodeForResetPwd:s}]=(0,E.b7)(ia),[{verifyWays:l,verify_ticket:d,not_login_ticket:c,password:p,loginLoading:g,accountQuery:h},{handleCodeVerify:_,handleSmsCodeVerifyReset:v}]=(0,E.b7)(gs),b=Ss(),y=(0,u.useCallback)((()=>{const e={verify_ticket:d,not_login_ticket:c,mobile:null==h?void 0:h.mobile};p?s(e):r(e)}),[null==h?void 0:h.mobile,c,p,s,r,d]),f=(0,u.useCallback)((()=>{t.twoStepSubmit({verification_method:"phone",forReset:Boolean(p)}),p?v({not_login_ticket:c,verify_ticket:d,code:n,password:p}):_({verify_ticket:d,code:n,not_login_ticket:c})}),[n,_,v,t,c,p,d]);return(0,o.jsxs)(Ps,Object.assign({onSubmit:f},{children:[(0,o.jsx)(ys,{children:e("common_login_reset_email_verify_title")},void 0),(0,o.jsx)(ys,{children:e("common_verify_sms_text",{mobile:null==l?void 0:l.mobile_sms_verify})},void 0),(0,o.jsx)(pl,{autoSendFirstTime:!0,codeFromNumber:d,loading:i,onClickSendCode:y,onSubmit:f,errorMsg:b},void 0),(0,o.jsx)(El,{},void 0),(0,o.jsx)(ws,Object.assign({disabled:Boolean(a)||!n,loading:g},{children:e("login_next")}),void 0)]}),void 0)},Wl=()=>{const e=qt("WebApp_Login"),t=(0,m.fz)(Wo),{isMobile:i}=Nt(ao((()=>["isMobile"]),[])),n=(0,B.k6)(),{isTwoStep:a,verifyWays:r,password:s}=(0,E.mp)(gs),{type:l}=(0,B.UO)(),d=ps[l];return(0,u.useEffect)((()=>{d&&(null==r?void 0:r[d])||n.replace(re.loginHome),t.twoStepNotify({verification_method:l,forReset:Boolean(s)})}),[n,t,s,l,r,d]),(0,o.jsxs)(hs,{children:[i&&(0,o.jsx)(Ga,{},void 0),(0,o.jsx)(vs,{children:e(a?"security_step_verification":"common_verify_title")},void 0),l===cs.pwd_verify?(0,o.jsx)(Ul,{},void 0):l===cs.email_verify?(0,o.jsx)(Il,{},void 0):(0,o.jsx)(Hl,{},void 0)]},void 0)};function Gl(e){var t;let i;try{i=JSON.parse(null!==(t=_e(wt))&&void 0!==t?t:"null")||{}}catch(e){i={}}return location.href!==i.href||e!==i.pageName?(ve(wt,JSON.stringify({href:location.href,pageName:e,twoPrev:i.pageName,twoPrevHref:i.href})),i.pageName):i.twoPrev}var Zl,ql;(ql=Zl||(Zl={})).PageView="page_view",ql.ClickToTop="click_to_top",ql.Tap="tap";const Vl={initialized:!1,eventCommonParams:{},init(e){var t;const{enter_from:i,enter_method:o,platform:n}=z.parse(e);this.initialized=!0,this.eventCommonParams={enter_from:null!==(t=null==i?void 0:i.toString())&&void 0!==t?t:"login",enter_method:o,platform:n}}},$l=e=>{const t=(0,B.TH)(),{loginModalShow:i,url:o}=(0,E.mp)(In),{loginType:n}=Ma((()=>["loginType"]),[]);Vl.initialized||Vl.init(i?o.split("?")[1]:t.search),function(e,t,i=[]){const o=ao((()=>["region","user","appId","sgOpen","wid","domains"]),[]),{region:n="",user:a,appId:r,sgOpen:s,wid:l="",domains:d}=null!=o?o:{},c=(0,u.useCallback)((t=>{var i;const o=t;if(_e(kt))o.is_landing_page=0;else{const{page_name:t}=e();o.is_landing_page=1,ve(kt,t)}return o.userAgent=navigator.userAgent,o.previous_page=Gl(o.page_name),o.region=n,o.page_url=null!==(i=o.page_url)&&void 0!==i?i:window.location.href,o}),[n,e]);(0,u.useEffect)((()=>{var t;const p=e();if(!p||!o)return;const{page_name:g,object_id:m,object_type:u}=p;let h=_e("webapp_session_id");h||(h=l+Date.now().toString(),ve("webapp_session_id",h));const _=c(p),v=i.reduce(((e,t)=>(e[t]=_[t],e)),{}),b={is_downgrade:et(),channel_domain:d.tea,id:St,channel:1180===r||s?"sg":"va",region:n,session_id:h,object_id:m,object_type:u,user_unique_id:l,user_id:null!==(t=null==a?void 0:a.uid)&&void 0!==t?t:"",user_is_login:Boolean(a),evtParams:Object.assign({page_name:g},v),"header.custom":{is_kids_mode:(null==a?void 0:a.ftcUser)?1:0,landing_page:_e(kt)||g,user_is_login:a?1:0,region:n}};$e.config({conf:b,commonEventParams:_})}),[o,...t])}((()=>Object.assign({page_name:e,login_type:n},Vl.eventCommonParams)),[n,e]),(0,u.useEffect)((()=>{var e;n&&(e={},$e.event("page_view",e))}),[n])},Ql=()=>{const e=(0,m.fz)(Wo);(0,u.useEffect)((()=>{e.loginNotify()}),[e])},Kl={login:{title:"Log in",description:"Log in or sign up for an account on TikTok. Start watching to discover real people and real videos that will make your day.",keywords:"Log in, Log in to TikTok"},signup:{title:"Sign up",description:"Sign up for an account or log back into TikTok. Create an account to discover real people and real videos that will make your day.",keywords:"Sign up, Sign up for TikTok"}},Yl=(0,u.memo)((({page:e})=>{const t=Kl[e],i=qt("WebApp_Login"),{language:n}=Nt(ao((()=>["language"]),[]));return(0,o.jsxs)(Qi.ql,Object.assign({htmlAttributes:{lang:n}},{children:[(0,o.jsx)("title",{children:i(`${t.title}${t.title.indexOf(" ")<0?"":" | TikTok"}`)},void 0),(0,o.jsx)("meta",{name:"description",content:i(t.description)},void 0),(0,o.jsx)("meta",{name:"keywords",content:t.keywords},void 0)]}),void 0)})),Jl=(0,ma.Z)("div",{target:"e10o7n900"})((({theme:e})=>[Co({theme:e,color:"TextPrimary",fontFamily:"Sofia"}),{fontSize:"24px",lineHeight:"32px",margin:"32px auto 12px",fontWeight:"bold",textAlign:"center"}]),"label:DivTitle;"),Xl=(0,ma.Z)("div",{target:"e10o7n901"})((({theme:e})=>[Co({theme:e,color:"TextPrimary"}),{fontSize:"18px",lineHeight:"25px",display:"flex",justifyContent:"space-between",marginBottom:"40px"}]),"label:DivDescription;"),ed=(0,ma.Z)("img",{target:"e10o7n902"})({width:"80%",margin:"0 auto 16px"},"label:ImgQR;");var td=i(30008);const id=(0,u.memo)((function(){const e=qt("WebApp_Login");return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Xl,{children:e("login_risk_popup_pc_body_2")},void 0),(0,o.jsx)(ed,{src:td},void 0)]},void 0)})),od=(0,u.memo)((function(){const e=qt("WebApp_Login"),t=(0,B.TH)(),{fromIns:i}=t.state||{};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Jl,{children:e(i?"login_new_ins_PC_title":"login_risk_popup_pc_title")},void 0),(0,o.jsx)(id,{},void 0)]},void 0)})),nd=(0,ma.Z)("div",{target:"eop2wpq1"})((({theme:e})=>[Co({theme:e,color:"TextSecondary",fontFamily:"Proxima"}),{marginBottom:"16px",fontSize:"18px",lineHeight:"24px",display:"flex",justifyContent:"space-between"}]),"label:DivDescription;"),ad=()=>{const e=(0,m.fz)(Wo),t=qt("WebApp_Login"),[{forceResetResponse:i,loginLoading:n},{handleForceResetPwdByEmail:a,handleForceResetPwdByPhone:r,clearForceResetRes:s}]=(0,E.b7)(ga),{conditional_login_ticket:l,type:d,email:c,mobile:p}=Nt(i),[{sendCodeLoading:g,ticket:h,code:_,codeFormatError:v},{sendPhoneCodeForForceResetPwd:b,sendEmailCodeForForceResetPwd:y}]=(0,E.b7)(ia),{password:f,contentValid:x,lengthValid:k}=(0,E.mp)(Cs),w=Ss(),C=(0,u.useCallback)((()=>{"email"===d?y({conditional_login_ticket:l}):b({conditional_login_ticket:l})}),[d,y,l,b]),j=(0,u.useCallback)((()=>{const t={code:_,ticket:null!=h?h:"",password:f,conditional_login_ticket:l};e.forceResetSubmit(),"email"===d?a(t):r(t)}),[_,l,a,r,e,f,h,d]),S=!(_&&f&&x&&k&&!v),L="email"===d?t("setting_password_code_email_text",{email:c}):t("setting_password_code_sms_text",{mobile:p}).replace(/(\D{1})(4)(\D{1})/,((e,t,i,o)=>`${t}6${o}`));return(0,u.useEffect)((()=>()=>{s()}),[]),(0,o.jsxs)(Ps,Object.assign({onSubmit:j},{children:[(0,o.jsx)(Or,{children:t("common_login_reset_password_title")},void 0),(0,o.jsx)(nd,{children:t("changepw_banner")},void 0),(0,o.jsx)(Xs,{email:"email"===d,autoSendFirstTime:!0,disabled:!l,codeFromNumber:l,loading:g,onClickSendCode:C},void 0),(0,o.jsx)(Os,{text:L,type:"default"},void 0),(0,o.jsx)(Nl,{loginError:Boolean(w)},void 0),(0,o.jsx)(Os,{text:t(w),type:"error"},void 0),(0,o.jsx)(us,Object.assign({disabled:S,loading:n},{children:t("Login")}),void 0)]}),void 0)},rd=(0,ma.Z)("div",{target:"e1419m800"})({marginBottom:"9px",position:"relative"},"label:DivEmailContainer;"),sd=(0,ma.Z)("ul",{target:"e3y4xh60"})((({theme:e})=>({position:"absolute",top:"44px",borderRadius:"4px",background:e.colors.BGPrimary,border:"1px solid",borderColor:e.colors.LineSecondary,zIndex:2,marginTop:"4px",width:"100%",padding:"0"})),"label:UlList;"),ld=(0,ma.Z)("li",{target:"e3y4xh61"})((({theme:e})=>[Co({theme:e,fontFamily:"Proxima",color:"TextTertiary2"}),{display:"flex",padding:"0 12px",justifyContent:"space-between",alignItems:"center",height:"34px",lineHeight:"34px",fontSize:"13px",cursor:"pointer"},{":hover":{backgroundColor:"rgba(22, 24, 35, .03)"}}]),"label:LiListItem;"),dd=(0,u.memo)((function({focused:e}){const{emailSuffixConfig:t}=Ma((()=>["emailSuffixConfig"]),[]),[{email:i=""},{setSuggestEmailSuffixConfig:n}]=(0,E.b7)(ta),[a,r]=(0,u.useState)(!1);(0,u.useEffect)((()=>{if(e){const e=i.split("@")[1];if(i.includes("@")&&".com"!==e.slice(-4))return void r(!0)}r(!1)}),[e,a,i]);const s=(0,u.useCallback)((e=>()=>{r(!1),n(e)}),[n]);return a?(0,o.jsx)(sd,{children:t.map(((e,t)=>{var n;return(0,o.jsxs)(ld,Object.assign({onClick:s(`@${e}`)},{children:[null!==(n=null==i?void 0:i.split("@")[0])&&void 0!==n?n:"","@",e]}),t)}))},void 0):null})),cd=(0,u.memo)((function(e){const t=qt("WebApp_Login"),{isMobile:i}=Nt(ao((()=>["isMobile"]),[])),{emailRegistered:n,errorMsg:a=""}=e,[{emailErrorMsg:r="",email:s=""},{setEmailInfo:l}]=(0,E.b7)(ta),[d,c]=(0,u.useState)(!1),p=(0,u.useCallback)((()=>{c(!0)}),[]),g=(0,u.useCallback)((()=>{setTimeout((()=>{c(!1)}),300)}),[]),m=(0,u.useCallback)((e=>{const t=e.target.value;l({email:t,valid:!0})}),[l]);(0,u.useEffect)((()=>{if(!d&&!i){const e=Vn(s);l({email:s,valid:e})}}),[i,s,d,l]);const h=(Boolean(r||a)||n)&&(!d||i),_=r||a;return(0,o.jsxs)(rd,{children:[(0,o.jsx)(Ks,{placeholder:t("common_login_reset_email_input_placeholder"),onFocus:p,onBlur:g,onInput:m,value:s,errorState:h,autocomplete:"email",name:"email"},void 0),!i&&(0,o.jsx)(dd,{focused:d},void 0),h&&(0,o.jsx)(Os,{text:t(_),type:"error"},void 0)]},void 0)})),pd=()=>{const e=qt("WebApp_Login"),t=(0,m.fz)(Wo),{emailErrorMsg:i,email:n=""}=(0,E.mp)(ta),[{loginLoading:a},{changePwdByEmail:r}]=(0,E.b7)(ga),[{sendCodeLoading:s,code:l,codeFormatError:d},{sendEmailCodeForReset:c}]=(0,E.b7)(ia),{password:p,lengthValid:g,contentValid:h}=(0,E.mp)(Cs),_=Ss(),v=(0,u.useCallback)((()=>{t.setPlatform("email"),t.loginSubmit(),r({password:p,email:n,emailCode:l})}),[t,r,p,n,l]),b=(0,u.useCallback)((()=>{c({email:n,email_logic_type:2})}),[n,c]),y=!(n&&p&&l&&h&&g&&!d&&!i);return(0,o.jsxs)(Ps,Object.assign({onSubmit:v},{children:[(0,o.jsx)(Or,{children:e("common_login_reset_password_title")},void 0),(0,o.jsxs)(Mr,{children:[e("setting_password_email_verify_title"),(0,o.jsx)(ml,{text:e("forget_password_switch_phone"),path:re.loginForgetPhonePassword,replace:!0},void 0)]},void 0),(0,o.jsx)(cd,{},void 0),(0,o.jsx)(Xs,{email:!0,disabled:Boolean(i)||!n,codeFromNumber:n,loading:s,onClickSendCode:b},void 0),(0,o.jsx)(Nl,{loginError:Boolean(_)},void 0),(0,o.jsx)(Os,{text:e(_),type:"error"},void 0),(0,o.jsx)(us,Object.assign({disabled:y,loading:a},{children:e("Login")}),void 0)]}),void 0)};var gd=i(51877);const md=(0,ma.Z)("ul",{target:"e2hldqz0"})((({theme:e})=>[Co({theme:e,fontFamily:"Proxima",color:"TextPrimary"}),{padding:"0",margin:0}]),"label:UlListContainer;"),ud=(0,ma.Z)("li",{target:"e2hldqz1"})((({theme:e,selected:t})=>[Co({theme:e,fontFamily:"Proxima",color:"TextTertiary2"}),()=>t&&{backgroundColor:"rgba(22, 24, 35, .03)"},{display:"flex",padding:"0 12px",justifyContent:"space-between",alignItems:"center",height:"34px",lineHeight:"34px",fontSize:"13px"},{":hover":{backgroundColor:"rgba(22, 24, 35, .03)"}}]),"label:LiListItem;"),hd=(0,ma.Z)("span",{target:"e2hldqz2"})((({theme:e})=>[Co({theme:e,color:"TextPrimary"}),{paddingInlineEnd:"4px"}]),"label:SpanItemName;"),_d=(0,ma.Z)("span",{target:"e2hldqz3"})((({theme:e})=>[Co({theme:e,color:"TextSecondary"})]),"label:SpanItemCode;"),vd=({filterCountryList:e=[],onSelected:t,searchText:i,currentSelectCode:n,matchSearchArea:a})=>{const{isMobile:r}=Nt(ao((()=>["isMobile"]),[])),s=qt("WebApp_Login"),l=RegExp(i.replace("+","\\+"),"ig"),d=(0,u.useCallback)((({code:e,shortname:i})=>()=>{t({code:e,area:i})}),[t]);return(0,o.jsxs)(md,{children:[qn.map((t=>{const{label:a,lists:s}=t;return(0,o.jsx)("div",Object.assign({id:a},{children:s.map((t=>{const{name:a,code:s,shortname:c}=t;if(-1!==e.indexOf(c))return null;if(i&&!(a.match(l)||`+${s}`.match(l)||c.match(l)))return null;const p=`${n}`==`${s}`;return(0,o.jsx)(ud,Object.assign({selected:p,onClick:d({shortname:c,code:s})},{children:r?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(hd,{children:a},void 0),(0,o.jsx)(_d,{children:`+${s}`},void 0)]},void 0):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(hd,{dangerouslySetInnerHTML:{__html:(g=`${a} +${s}`,i?g=g.replace(l,(e=>`<span style="color: #20D5EC">${e}</span>`)):g)}},void 0),p&&(0,o.jsx)(gd.Z,{width:16,height:16,fill:"#000"},void 0)]},void 0)}),a+s);var g}))}),a)})),Boolean(!a)&&(0,o.jsx)(ud,Object.assign({selected:!1,style:{justifyContent:"center"}},{children:s("registration_phone_search_empty")}),void 0)]},void 0)};var bd=i(5550);const yd=(0,ma.Z)("div",{target:"emwsnhg0"})({top:"45px",height:"35px",width:"326px",boxSizing:"border-box",borderBottom:"1px solid rgba(22, 24, 35, .12)",background:"#fff",marginTop:"4px",display:"flex",justifyContent:"space-between",flexShrink:0},"label:DivSearchContainer;"),fd=(0,ma.Z)("div",{target:"emwsnhg1"})((({theme:e})=>({margin:"0 15px",color:e.colors.LineInput,display:"flex",alignItems:"center"})),"label:DivSearchIcon;"),xd=(0,ma.Z)("input",{target:"emwsnhg2"})((({theme:e})=>({outline:"none",border:"none",flex:"1",caretColor:e.colors.Primary})),"label:InputSearch;"),kd=()=>{const e=qt("WebApp_Login"),{matchSearchArea:t}=(0,E.mp)($n),{setAreaSearchText:i,selectAreaCode:n}=(0,E.qj)($n),a=(0,u.useCallback)((e=>{i(e.target.value)}),[i]),r=(0,u.useCallback)((e=>{13===e.keyCode&&t&&n({code:t.code,area:t.shortname})}),[t,n]);return(0,u.useEffect)((()=>()=>{i("")}),[i]),(0,o.jsxs)(yd,{children:[(0,o.jsx)(fd,{children:(0,o.jsx)(bd.Z,{width:14,height:14},void 0)},void 0),(0,o.jsx)(xd,{autoFocus:!0,maxLength:35,onKeyUp:r,placeholder:e("registration_phone_search_placeholder"),onChange:a},void 0)]},void 0)},wd=(0,ma.Z)("div",{target:"e1llxcni0"})((({theme:e})=>[So({direction:e.direction,start:"0"}),{maxHeight:"320px",background:e.colors.BGPrimary,border:"0.5px solid rgba(22, 24, 35, 0.12)",boxSizing:"border-box",boxShadow:"0px 2px 12px rgba(0, 0, 0, 0.12)",borderRadius:"4px",position:"absolute",top:"54px",display:"flex",flexDirection:"column",zIndex:2}]),"label:DivSelectorContainer;"),Cd=(0,ma.Z)("div",{target:"e1llxcni1"})({flex:"1",overflow:"auto"},"label:DivListWrapper;"),jd=(0,ma.Z)("div",{target:"e1llxcni2"})({position:"fixed",zIndex:11,top:0,bottom:0,left:0,right:0,background:"#fff",overflowY:"auto"},"label:DivPageSelectorContainer;"),Sd=(0,ma.Z)("div",{target:"e1llxcni3"})((({theme:e})=>[So({direction:e.direction,paddingEnd:"32px",paddingStart:"16px"}),{marginTop:"44px",borderTop:`1px solid ${e.colors.LineSecondary}`}]),"label:DivPageSelector;"),Ld=e=>(0,o.jsxs)(wd,{children:[(0,o.jsx)(kd,{},void 0),(0,o.jsx)(Cd,{children:(0,o.jsx)(vd,{matchSearchArea:e.matchSearchArea,filterCountryList:e.filterCountryList,onSelected:e.onSelected,currentSelectCode:e.currentSelectCode,searchText:e.searchText},void 0)},void 0)]},void 0);function Pd(e){const{region:t,appType:i}=Nt(ao((()=>["region","appType"]),[])),[o,n]=(0,E.b7)($n),{areaCode:a}=o;(0,u.useEffect)((()=>{if(!a){let o=!1;if(qn.forEach((({lists:e})=>e.forEach((({code:e,shortname:i})=>{i===t&&(o=!0,n.selectAreaCode({code:e,area:i}))})))),!o){let t="m"===i?{code:1,area:"US"}:{code:81,area:"JP"};(null==e?void 0:e.find((e=>e===t.area)))&&(t={code:1,area:"CA"}),n.selectAreaCode(t)}}}),[i,t,a,n,e])}var Ad=i(1399);const Td=(0,ma.Z)("div",{target:"ewblsjs0"})({marginBottom:"9px"},"label:DivContainer;"),Od=(0,ma.Z)(Ks,{target:"ewblsjs1"})({flex:1,width:0,marginBottom:"0","& > input":{background:"transparent"}},"label:StyledBaseInput;"),Md=(0,ma.Z)("div",{target:"ewblsjs2"})((({theme:{colors:e},errState:t})=>[{background:e.BGInput,border:`1px solid ${e.LineSecondary2}`,transition:"all 0.3s",borderRadius:"4px",display:"flex"},()=>t?{border:`1px solid ${e.Negative}`,input:{color:e.Negative}}:{}]),"label:DivPhoneInputContainer;"),Rd=(0,ma.Z)("div",{target:"ewblsjs3"})({position:"relative",cursor:"pointer"},"label:DivAreaSelectionContainer;"),Fd=(0,ma.Z)("div",{target:"ewblsjs4"})((({theme:{colors:e,direction:t}})=>[{display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative",padding:"12px",height:"44px","::after":{content:'""',width:"1px",height:"30px",background:e.LineSecondary,right:"rtl"===t?"unset":"0",left:"rtl"===t?"0":"unset",position:"absolute"}}]),"label:DivAreaLabelContainer;"),Ed=(0,ma.Z)("span",{target:"ewblsjs5"})((({theme:{colors:e}})=>[{fontSize:"16px",lineHeight:1,color:e.TextPrimary,marginInlineEnd:"12px"}]),"label:SpanLabelContainer;"),Id=(0,ma.Z)(Ad.Z,{target:"ewblsjs7"})((({up:e})=>[{transform:e?"rotateZ(180deg)":"rotateZ(0deg)",transition:"all .3S"}]),"label:StyledArrowIcon;"),Dd=(0,u.memo)((function({errorStatus:e,filterCountryList:t}){Pd(t);const i=(0,u.useRef)(null),[n,a]=(0,E.b7)($n),{area:r,areaCode:s,phoneErrorMsg:l,showAreaCodeSelector:d,searchText:c,phone:p,matchSearchArea:g}=n,[m,h]=(0,u.useState)(!1),{checkPhoneNumberFormat:_}=a,{toggleAreaCodeSelector:v,selectAreaCode:b}=a,y=qt("WebApp_Login"),f=(0,u.useCallback)((e=>{var t;d&&!(null===(t=null==i?void 0:i.current)||void 0===t?void 0:t.contains(e.target))&&v()}),[d,v]);(0,u.useEffect)((()=>(window.addEventListener("mousedown",f),()=>{window.removeEventListener("mousedown",f)})),[a,f]);const x=(0,u.useCallback)((e=>{_({phone:e.target.value})}),[_]),k=(0,u.useCallback)((()=>{h(!0)}),[]),w=(0,u.useCallback)((()=>{h(!1)}),[]),C=(0,u.useCallback)((({code:e,area:t})=>{b({code:e,area:t})}),[b]),j=Boolean((l||e)&&!m);return(0,o.jsxs)(Td,{children:[(0,o.jsxs)(Md,Object.assign({errState:j},{children:[(0,o.jsxs)(Rd,Object.assign({ref:i},{children:[(0,o.jsxs)(Fd,Object.assign({onClick:v},{children:[(0,o.jsxs)(Ed,{children:[r," +",s]},void 0),(0,o.jsx)(Id,{up:d},void 0)]}),void 0),d&&(0,o.jsx)(Ld,{matchSearchArea:g,filterCountryList:t,onSelected:C,currentSelectCode:s,searchText:c},void 0)]}),void 0),(0,o.jsx)(Od,{value:p,border:!1,errState:j,placeholder:y("phone_number"),onChange:x,onFocus:k,onBlur:w,name:"mobile",autocomplete:"tel-national"},void 0)]}),void 0),j&&(0,o.jsx)(Os,{text:y(l||e||""),type:"error"},void 0)]},void 0)})),zd=()=>{const e=qt("WebApp_Login"),t=(0,m.fz)(Wo),[i]=(0,E.b7)($n),{phoneErrorMsg:n,mobile:a,phone:r}=i,[{sendCodeLoading:s,codeFormatError:l,code:d},{sendPhoneCodeForResetPwd:c}]=(0,E.b7)(ia),[{loginLoading:p},{changePwdByMobile:g}]=(0,E.b7)(ga),{password:h,lengthValid:_,contentValid:v}=(0,E.mp)(Cs),b=Ss(),y=(0,u.useCallback)((()=>{t.setPlatform("sms_verification"),t.loginSubmit(),g({password:h,mobile:a,phoneCode:d})}),[t,g,h,a,d]),f=(0,u.useCallback)((()=>{c({mobile:a})}),[a,c]),x=!(a&&h&&d&&v&&_&&!n&&!l);return(0,o.jsxs)(Ps,Object.assign({onSubmit:y},{children:[(0,o.jsx)(Or,{children:e("common_login_reset_password_title")},void 0),(0,o.jsxs)(Mr,{children:[e("setting_bind_phone_input_title"),(0,o.jsx)(ml,{text:e("forget_password_switch_email"),path:re.loginForgetEmailPassword,replace:!0},void 0)]},void 0),(0,o.jsx)(Dd,{},void 0),(0,o.jsx)(Xs,{disabled:Boolean(n)||!r,codeFromNumber:a,loading:s,onClickSendCode:f},void 0),(0,o.jsx)(Nl,{loginError:Boolean(b)},void 0),(0,o.jsx)(Os,{text:e(b),type:"error"},void 0),(0,o.jsx)(us,Object.assign({disabled:x,loading:p},{children:e("Login")}),void 0)]}),void 0)},Bd=(0,u.memo)((function(){const e=qt("WebApp_Login"),t=(0,m.fz)(Wo),{setEmail:i}=(0,E.qj)(ta),[{loginLoading:n},{handlePasswordLogin:a}]=(0,E.b7)(ga),{password:r,hasInvalid:s}=(0,E.mp)(Cs),[l,d]=(0,u.useState)(""),c=Ss([l]),p=(0,u.useCallback)((()=>{const e=Vn(l)?l:void 0;t.setPlatform(e?"email":"handle"),t.loginSubmit(),a({username:l,password:r,email:e})}),[a,t,r,l]),g=(0,u.useCallback)((e=>{d(e.target.value)}),[]),h=(0,u.useCallback)((()=>{Vn(l)&&i(l)}),[l,i]);return(0,o.jsxs)(Ps,Object.assign({onSubmit:p},{children:[(0,o.jsx)(Ks,{placeholder:e("Email or Username"),onChange:g,name:"username",value:l},void 0),(0,o.jsx)(Nl,{create:!1,loginError:Boolean(c)},void 0),c&&(0,o.jsx)(Os,{text:e(c),type:"error"},void 0),(0,o.jsx)(xl,{onClickForgetEmailPwd:h},void 0),(0,o.jsx)(us,Object.assign({disabled:!l||!r||s,loading:n},{children:e("Login")}),void 0)]}),void 0)})),Nd=()=>{const e=qt("WebApp_Login");return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Or,{children:e("Login")},void 0),(0,o.jsxs)(Mr,{children:[e("Email or Username")," ",(0,o.jsx)(ml,{text:e("common_login_switch_phone"),path:re.loginPhone,replace:!0},void 0)]},void 0),(0,o.jsx)(Bd,{},void 0)]},void 0)},Ud=()=>{const e=qt("WebApp_Login"),t=(0,m.fz)(Wo),[{sendCodeLoading:i,code:n,codeFormatError:a},{sendPhoneCodeForLogin:r,sendPhoneCodeForVerify:s}]=(0,E.b7)(ia),[{phoneNotRegistered:l,loginLoading:d},{handleSmsLogin:c,handleSmsVerify:p}]=(0,E.b7)(ga),{registerPhone:g}=(0,E.qj)(pa),{isSecurityVerification:h}=Ma((()=>["isSecurityVerification"]),[]),[_]=(0,E.b7)($n),{mobile:v,phoneErrorMsg:b}=_,y=v&&n&&!b&&!a,f=Ss(),x=(0,u.useCallback)((()=>{t.setPlatform("sms_verification"),t.loginSubmit();const e={mobile:v,phoneCode:n,login_only:!0};h?p(e):c(e)}),[c,p,h,t,v,n]),k=(0,u.useCallback)((()=>{h?s({mobile:v}):r({mobile:v})}),[h,v,r,s]),w=(0,u.useCallback)((()=>{g({})}),[g]);return(0,o.jsxs)(Ps,Object.assign({onSubmit:x},{children:[(0,o.jsx)(Or,{children:e("Login")},void 0),(0,o.jsxs)(Mr,{children:[e("phone")," ",(0,o.jsx)(ml,{text:e("common_login_switch_email"),path:re.loginEmail,replace:!0},void 0)]},void 0),(0,o.jsx)(Dd,{},void 0),(0,o.jsx)(Xs,{disabled:Boolean(b)||!v,codeFromNumber:v,loading:i,errorMsg:f,onClickSendCode:k},void 0),(0,o.jsx)(ml,{text:e("login_option_password"),path:re.loginPhonePassword},void 0),(0,o.jsx)(us,Object.assign({disabled:!y,loading:d},{children:e("Login")}),void 0),l&&(0,o.jsxs)(Rr,{children:[(0,o.jsx)(Fr,{children:e("common_login_sms_unregistered_pc_1")},void 0),(0,o.jsx)(Fr,Object.assign({link:!0,onClick:w},{children:e("common_login_sms_unregistered_pc_2")}),void 0)]},void 0)]}),void 0)},Hd=(0,ma.Z)("div",{target:"e1c067ot0"})({display:"flex",alignItems:"center",marginTop:"9px"},"label:DivLinksContainer;"),Wd=(0,ma.Z)("span",{target:"e1c067ot1"})((({theme:e})=>({width:"1px",height:"12px",margin:"0 16px",background:e.colors.LineSecondary})),"label:SpanSplitLine;"),Gd=()=>{const e=qt("WebApp_Login"),t=(0,m.fz)(Wo),[{loginLoading:i},{handlePasswordLogin:n}]=(0,E.b7)(ga),{phoneErrorMsg:a,phone:r,areaCode:s}=(0,E.mp)($n),{password:l,hasInvalid:d}=(0,E.mp)(Cs),c=Ss(),p=(0,u.useCallback)((()=>{const e=`+${s} ${r}`;t.setPlatform("phone"),t.loginSubmit(),n({account:e,password:l,mobile:e})}),[s,n,t,l,r]);return(0,o.jsxs)(Ps,Object.assign({onSubmit:p},{children:[(0,o.jsx)(Or,{children:e("Login")},void 0),(0,o.jsxs)(Mr,{children:[e("phone")," ",(0,o.jsx)(ml,{text:e("common_login_switch_email"),path:re.loginEmail,replace:!0},void 0)]},void 0),(0,o.jsx)(Dd,{},void 0),(0,o.jsx)(Nl,{create:!1,loginError:Boolean(c)},void 0),c&&(0,o.jsx)(Os,{text:e(c),type:"error"},void 0),(0,o.jsxs)(Hd,{children:[(0,o.jsx)(ml,{text:e("forget_password"),path:re.loginForgetPhonePassword},void 0),(0,o.jsx)(Wd,{},void 0),(0,o.jsx)(ml,{text:e("common_login_password_button"),path:re.loginPhone},void 0)]},void 0),(0,o.jsx)(us,Object.assign({disabled:Boolean(a)||!r||!l||d,loading:i},{children:e("Login")}),void 0)]}),void 0)},Zd=(0,ma.Z)("div",{target:"eph3mrd0"})((({theme:e})=>[Co({theme:e,color:"TextPrimary",fontWeight:"semiBold"}),{fontSize:e.isMobile?"20px":"15px",display:"flex",justifyContent:"space-between",marginBottom:"5px"}]),"label:DivTitle;"),qd=(0,ma.Z)("div",{target:"eph3mrd1"})((({theme:e})=>[Co({theme:e,color:"TextTertiary"}),{fontSize:"14px",display:"flex",justifyContent:"space-between",marginBottom:"24px"}]),"label:DivDescription;"),Vd=()=>{const e=qt("WebApp_Login"),t=(0,m.fz)(Wo),[{loginLoading:i},{handlePasswordLogin:n}]=(0,E.b7)(ga),{email:a}=(0,E.mp)(ta),{isMobile:r}=Nt(ao((()=>["isMobile"]),[])),[s,l]=(0,u.useState)(""),d=Ss([s]),c=(0,u.useCallback)((()=>{t.setPlatform("email"),t.loginSubmit(),n({email:a,password:s,username:a})}),[a,n,t,s]),p=(0,u.useCallback)((e=>{l(e.target.value)}),[]);return(0,o.jsxs)(Ps,Object.assign({onSubmit:c},{children:[(0,o.jsx)(Zd,{children:e("common_registration_email_existing_title")},void 0),r&&(0,o.jsx)(qd,{children:e("common_registration_email_existing_text")},void 0),(0,o.jsx)(Ks,{value:a,readonly:!0,disableDelete:!0},void 0),(0,o.jsx)(Ks,{placeholder:e("Password"),onChange:p,password:!0,border:!0,errorState:Boolean(d)},void 0),(0,o.jsx)(Os,{text:e(d||(r?"":"common_registration_email_existing_text")),type:d?"error":"default"},void 0),(0,o.jsx)(xl,{},void 0),(0,o.jsx)(us,Object.assign({disabled:!s,loading:i},{children:e("Login")}),void 0)]}),void 0)},$d=()=>{const e=qt("WebApp_Login");return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Or,{children:e("Login")},void 0),(0,o.jsx)(Vd,{},void 0)]},void 0)},Qd=(0,u.memo)((()=>{Ql(),Ca({pid:"login"});const{forceResetResponse:e}=(0,E.mp)(ga),{isMobile:t}=Nt(ao((()=>["isMobile"]),[]));return(0,o.jsxs)(kr,Object.assign({isMobile:t},{children:[(0,o.jsx)(Yl,{page:"login"},void 0),(0,o.jsxs)(B.rs,{children:[(0,o.jsx)(B.AW,{path:re.loginHome,component:Sr,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.loginQRcode,component:ds,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.loginPhoneOrEmail,component:Ud,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.loginPhone,component:Ud,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.loginPhonePassword,component:Gd,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.loginEmail,component:Nd,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.loginWithSignedEmail,component:$d,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.loginTwoStepVerify,component:Wl,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.loginForgetEmailPassword,component:e?ad:pd,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.loginForgetPhonePassword,component:e?ad:zd,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.loginDownloadApp,component:od,exact:!0},void 0),(0,o.jsx)(B.AW,{path:"*",component:Sr},void 0)]},void 0)]}),void 0)}));var Kd=i(64785);function Yd(){const{registerLimited:e}=(0,E.mp)(mo),t=(0,B.k6)();(0,u.useEffect)((()=>{e&&t.replace(re.signupCreateAccount)}),[t,e])}function Jd(){const{region:e}=Nt(ao((()=>["region"]),[])),t=(0,B.k6)(),{validateAge:i}=(0,E.qj)(mo),[{fromNotRegisterLogin:o,thirdPlatformNotRegistered:n},{registerThirdPlatform:a,registerPhone:r}]=(0,E.b7)(pa),s=(0,u.useCallback)((()=>{"KR"===e?t.push(re.signupPolicyConfirm):"Third"===o&&n?a({ageCheckDone:!0,platform:n.platform,profileKey:n.profileKey}):"Phone"===o?r({ageCheckDone:!0}):t.push(re.signupPhoneOrEmail)}),[e,o,t,r,a,n]);return{handleCheckAge:(0,u.useCallback)((()=>{i({canSkip:!1,checkPassCallback:s})}),[s,i])}}function Xd(){const{registerLimited:e,ageGateAction:t}=(0,E.mp)(mo),i=(0,B.k6)();(0,u.useEffect)((()=>{e||1===t||i.replace(re.signupHome)}),[t,i,e])}const ec=(0,ma.Z)("div",{target:"e7y6k0x0"})((({theme:e,isModal:t})=>[Co({theme:e,fontWeight:"bold",fontFamily:"Sofia"}),{textAlign:"center",fontSize:t?"20px":"32px",lineHeight:t?"24px":"38px"}]),"label:DivTitle;"),tc=(0,ma.Z)("div",{target:"e7y6k0x1"})((({theme:e,isModal:t})=>[Co({theme:e,fontFamily:"Proxima",color:"TextSecondary"}),{fontSize:t?"14px":"18px",lineHeight:t?"18px":"24px",textAlign:"center",padding:"16px 8px"}]),"label:DivDescription;"),ic=(0,ma.Z)("div",{target:"e7y6k0x2"})((({isModal:e=!1})=>[oc(e)]),"label:DivContainer;"),oc=e=>e?{paddingTop:"32px",width:"300px"}:{marginTop:"110px"},nc=({isModal:e=!1})=>{const t=qt("WebApp_Login"),{setShowAgeConfirm:i}=(0,E.qj)(mo),n=(0,B.k6)(),a=(0,u.useCallback)((()=>{i(!1),n.push(re.signupCreateAccount)}),[n,i]),r=(0,u.useMemo)((()=>e?{borderLeft:"none",borderRight:"none",borderBottom:"none",borderRadius:"0 0 8px 8px",fontWeight:500}:void 0),[e]);return(0,o.jsxs)(ic,Object.assign({isModal:e},{children:[(0,o.jsx)(ec,Object.assign({isModal:e},{children:t("mus_agegate_error_ftc_title")}),void 0),(0,o.jsx)(tc,Object.assign({isModal:e},{children:t("mus_agegate_error_ftc_desc")}),void 0),(0,o.jsx)(us,Object.assign({onClick:a,buttonTheme:e?"default":"primary",bottonTheme:"text",style:r},{children:t("Continue")}),void 0)]}),void 0)};var ac;!function(e){e.Terms="terms-of-service",e.Privacy="privacy-policy",e.Push="push-policy"}(ac||(ac={}));const rc=[{title:"common_registration_terms_and_conditions_decription_terms",value:"terms-of-service",content:""},{title:"common_registration_terms_and_conditions_decription_pp",value:"privacy-policy",content:""},{title:"register_page_marketing_push_title",value:"push-policy",content:"register_page_marketing_push_subtitle"}];var sc;!function(e){e.Big="big",e.Small="small"}(sc||(sc={}));const lc=(0,ma.Z)("div",{target:"e14eam340"})((({size:e})=>({width:"big"===e?"32px":"24px",position:"relative"})),"label:DivCheckboxWrapper;"),dc=(0,ma.Z)("input",{target:"e14eam341"})({width:"24px",height:"24px",visibility:"hidden"},"label:InputCheckbox;"),cc=(0,ma.Z)("i",{target:"e14eam342"})((({theme:e,checked:t,circle:i=!0,size:o})=>[So({direction:e.direction,start:"0"}),{position:"absolute",top:0,borderRadius:i?"50%":"unset",border:"1px solid",borderColor:t?e.colors.Primary:e.colors.LineInverse,marginInlineEnd:"8px",display:"inline-block",background:t?e.colors.Primary:e.colors.BGPrimary,transition:"all .1s",padding:"3px 0",textAlign:"center",boxSizing:"border-box"},pc(o,i)]),"label:ICheckboxIcon;"),pc=(e,t)=>"small"===e?{width:"16px",height:"16px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px"}:{width:t?"24px":"22px",height:t?"24px":"22px"},gc=({id:e,value:t,checked:i,onChange:n,circle:a,size:r="big"})=>{const s=(0,u.useCallback)((e=>{n(e.target.checked,t)}),[n,t]);return(0,o.jsxs)(lc,Object.assign({size:r},{children:[(0,o.jsx)(dc,{type:"checkbox",value:t,id:e,onClick:s},void 0),(0,o.jsx)("label",Object.assign({htmlFor:e},{children:(0,o.jsx)(cc,Object.assign({checked:i,circle:a,size:r},{children:(0,o.jsx)(gd.Z,{fill:"white",fontSize:"14px"},void 0)}),void 0)}),void 0)]}),void 0)},mc=(0,ma.Z)("div",{target:"eb49p770"})((({theme:e})=>[{paddingBottom:e.isMobile?"64px":"unset"}]),"label:DivPolicyContainer;"),uc=(0,ma.Z)("h3",{target:"eb49p771"})((({theme:e})=>[Co({theme:e,color:"TextPrimary",fontFamily:"Sofia",fontWeight:"bold"}),hc(e.isMobile)]),"label:H3Title;"),hc=e=>e?{fontSize:"17px",lineHeight:"22px",marginBottom:"24px",textAlign:"left"}:{fontSize:"32px",lineHeight:"38px",marginBottom:"32px",textAlign:"center",marginTop:"64px"},_c=(0,ma.Z)("div",{target:"eb49p772"})({marginBottom:"16px",display:"flex"},"label:DivContainer;"),vc=(0,ma.Z)("p",{target:"eb49p773"})((({theme:e})=>[Co({theme:e,color:"TextSecondary",fontFamily:"Proxima"}),{fontSize:"15px",lineHeight:"24px",display:"inline"}]),"label:PCheckboxText;"),bc=(0,ma.Z)("h5",{target:"eb49p774"})((({theme:e})=>[Co({theme:e,color:"TextPrimary",fontFamily:"Proxima",fontWeight:"bold"}),{fontSize:"15px",lineHeight:"24px",display:"inline",margin:0}]),"label:H5CheckboxTitle;"),yc=(0,ma.Z)("p",{target:"eb49p775"})((({theme:e})=>[{fontSize:"12px",lineHeight:"18px",maxHeight:"140px",overflowY:"auto",wordBreak:"break-word",padding:"12px",background:e.colors.BGPlaceholderDefault,color:e.colors.TextSecondary,borderRadius:"8px",marginBottom:"16px",marginTop:"12px",img:{maxWidth:"100%"},"h1, h2, h3, h4, h5, h6, p, ul, ol, li, strong, font, a":{fontSize:"12px !important",lineHeight:"15px !important",color:`${e.colors.TextSecondary} !important`,margin:0,padding:0},strong:{fontWeight:"normal"},"ul > li":{listStyleType:"disc"},a:{cursor:"pointer",textDecoration:"underline"}}]),"label:PPolicyContent;"),fc=(0,ma.Z)("div",{target:"eb49p776"})((({theme:e})=>[xc(e.isMobile),{background:e.colors.BGPrimary}]),"label:DivButtonWrapper;"),xc=e=>e?{position:"fixed",bottom:"0px",left:"0",right:"0",padding:"8px 32px"}:{marginTop:"9px"},kc=(0,u.memo)((function(){const e=qt("WebApp_Login"),t=(0,B.k6)(),{isMobile:i}=Nt(ao((()=>["isMobile"]),[])),[{termsDomContent:n,privacyDomContent:a},{requestPolicyContent:r,setKrPolicySelection:s}]=(0,E.b7)(aa),[{fromNotRegisterLogin:l,thirdPlatformNotRegistered:d},{registerThirdPlatform:c,registerPhone:p}]=(0,E.b7)(pa),[g,m]=(0,u.useState)([]),h=(0,u.useMemo)((()=>i?{marginTop:"0"}:void 0),[i]);(0,u.useEffect)((()=>{r({articleKeys:["terms-of-service","privacy-policy"]})}),[r]);const _=(0,u.useCallback)((e=>{m(e?["terms-of-service","privacy-policy","push-policy"]:[])}),[]),v=(0,u.useCallback)(((e,t)=>{const i=g.indexOf(t);m(-1===i?[...g,t]:g.filter((e=>e!==t)))}),[g]);(0,u.useEffect)((()=>{s(g)}),[s,g]);const b=(0,u.useCallback)((()=>{"Third"===l&&d?c({ageCheckDone:!0,platform:d.platform,profileKey:d.profileKey}):"Phone"===l?p({ageCheckDone:!0}):t.push(re.signupPhone)}),[l,t,p,c,d]),y=-1===g.indexOf("terms-of-service")||-1===g.indexOf("privacy-policy");return(0,o.jsxs)(mc,{children:[(0,o.jsx)(uc,{children:e("common_registration_terms_and_conditions_title")},void 0),(0,o.jsxs)(_c,{children:[(0,o.jsx)(gc,{circle:!0,checked:3===g.length,onChange:_,id:"signup-policy-all"},void 0),(0,o.jsx)(vc,{children:e("register_page_agree_all_kr")},void 0)]},void 0),rc.map((({title:t,value:i,content:r},s)=>(0,o.jsxs)("div",{children:[(0,o.jsxs)(_c,{children:[(0,o.jsx)(gc,{id:`signup-policy-${i}`,checked:-1!==g.indexOf(i),value:i,onChange:v,circle:!0},void 0),(0,o.jsx)(bc,{children:e(t)},void 0)]},void 0),"terms-of-service"===i?(0,o.jsx)(yc,{dangerouslySetInnerHTML:{__html:n}},void 0):"privacy-policy"===i?(0,o.jsx)(yc,{dangerouslySetInnerHTML:{__html:a}},void 0):(0,o.jsx)(yc,{children:e(r)},void 0)]},s))),(0,o.jsx)(fc,{children:(0,o.jsx)(us,Object.assign({disabled:y,onClick:b,style:h},{children:e("common_registration_terms_and_conditions_next")}),void 0)},void 0)]},void 0)}));var wc=i(16789);const Cc=["Month_1","Month_2","Month_3","Month_4","Month_5","Month_6","Month_7","Month_8","Month_9","Month_10","Month_11","Month_12"],jc=()=>Cc.map(((e,t)=>({value:t+1,key:e}))),Sc=(e=1)=>{let t=31;return 2===e?t=29:-1!==[4,6,9,11].indexOf(e)&&(t=30),Array(t).fill(0).map(((e,t)=>({value:t+1,key:`${t+1}`})))},Lc=(0,ma.Z)("div",{target:"e1phcp2x0"})((({theme:e})=>({background:e.colors.BGInput,borderRadius:"4px",position:"relative","& + &":{marginInlineStart:"8px"},cursor:"pointer"})),"label:DivSelector;"),Pc=(0,ma.Z)("div",{target:"e1phcp2x1"})((({hasValue:e,theme:t,error:i})=>({width:"120px",height:"44px",padding:"0 12px",display:"flex",justifyContent:"space-between",alignItems:"center",color:i?t.colors.Negative:e?t.colors.TextPrimary:t.colors.TextQuaternary,fontSize:"16px"})),"label:DivSelectLabel;"),Ac=(0,ma.Z)(Ad.Z,{target:"e1phcp2x2"})((({theme:e,up:t})=>({color:e.colors.TextPrimary,transform:t?"rotateZ(180deg)":"rotateZ(0deg)",transition:"all .3S"})),"label:StyledArrowTriangleDownLargeFill;"),Tc=(0,ma.Z)(gd.Z,{target:"e1phcp2x3"})({width:"16px",height:"16px",marginInlineStart:"12px"},"label:StyledSelectIcon;"),Oc=(0,ma.Z)("div",{target:"e1phcp2x4"})((({theme:e,show:t})=>[So({direction:e.direction,end:"0",start:"0"}),{width:"120px",maxHeight:"320px",overflow:"auto",position:"absolute",background:e.colors.BGPrimary,borderRadius:"4px",boxShadow:"0px 2px 12px rgba(0, 0, 0, 0.12)",top:"50px",zIndex:12,display:t?"block":"none",transition:"display .3s"}]),"label:DivOptionsWarpper;"),Mc=(0,ma.Z)("div",{target:"e1phcp2x5"})((({theme:e,selected:t})=>({height:"34px",overflow:"auto",fontSize:"16px",padding:"0 12px",cursor:"pointer",display:"flex",alignItems:"center",color:e.colors.TextPrimary,background:t?e.colors.BGView:"unset",":hover":{background:e.colors.BGView}})),"label:DivOption;"),Rc=e=>{const t=qt("WebApp_Login"),{placeholder:i,options:n,selectItem:a,onClick:r,error:s}=e,{key:l,value:d}=null!=a?a:{},c=(0,u.useRef)(null),[p,g]=(0,u.useState)(!1),m=(0,u.useCallback)((e=>()=>{r(e),g(!1)}),[r]),h=(0,u.useCallback)((e=>{var t;p&&!(null===(t=null==c?void 0:c.current)||void 0===t?void 0:t.contains(e.target))&&g(!1)}),[p]);(0,u.useEffect)((()=>(window.addEventListener("mousedown",h),()=>{window.removeEventListener("mousedown",h)})),[h]);const _=(0,u.useCallback)((()=>{g(!p)}),[p]);return(0,o.jsxs)(Lc,Object.assign({ref:c},{children:[(0,o.jsxs)(Pc,Object.assign({onClick:_,hasValue:Boolean(l),error:s},{children:[t(null!=l?l:i),(0,o.jsx)(Ac,{up:p},void 0)]}),void 0),(0,o.jsx)(Oc,Object.assign({show:p},{children:n.map(((e,i)=>{var n;return(0,o.jsxs)(Mc,Object.assign({selected:d===e.value,onClick:m(e)},{children:[t(`${null!==(n=e.key)&&void 0!==n?n:e.value}`),d===e.value&&(0,o.jsx)(Tc,{},void 0)]}),i)}))}),void 0)]}),void 0)},Fc=(0,ma.Z)("div",{target:"e18rms3f0"})({display:"flex",marginBottom:"4px"},"label:DivAgeSelector;"),Ec=(0,ma.Z)("div",{target:"e18rms3f1"})((({theme:e})=>[Co({theme:e,color:"TextPrimary",fontWeight:"semiBold"}),{fontSize:"16px",lineHeight:"22px",marginBottom:"4px"}]),"label:DivTitle;"),Ic=(0,ma.Z)("div",{target:"e18rms3f2"})((({theme:e,type:t})=>[Co({theme:e,color:"error"===t?"Negative":"TextTertiary"}),{fontSize:"14px",lineHeight:"20px",marginBottom:"16px"}]),"label:DivDescription;"),Dc=jc(),zc=(()=>{const e=new Date(1900,0,1,0,0,0),t=new Date((new Date).getFullYear()-1,11,31,0,0,0);return Array(t.getFullYear()-e.getFullYear()+1).fill(t.getFullYear()).map(((e,t)=>({value:e-t,key:""+(e-t)})))})(),Bc=(0,u.memo)((function(){const e=(0,m.fz)(Wo),[{ageErrorMsg:t,year:i,month:n,date:a},{setBirthday:r,setMonth:s,setYear:l,setDate:d}]=(0,E.b7)(mo),c=qt("WebApp_Login");(0,u.useEffect)((()=>{n&&i&&a&&r({year:i.value,month:n.value,date:a.value})}),[i,n,a,r]),(0,u.useEffect)((()=>{e.ageGateShow()}),[]);const p=(0,u.useCallback)((e=>{s(e)}),[s]),g=(0,u.useCallback)((e=>{d(e)}),[d]),h=(0,u.useCallback)((e=>{l(e)}),[l]),_=t||"mus_age_gate_tips";return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Ec,{children:c("common_registration_agegate_title")},void 0),(0,o.jsxs)(Fc,{children:[(0,o.jsx)(Rc,{error:Boolean(t),placeholder:"Month",selectItem:n,options:Dc,onClick:p},void 0),(0,o.jsx)(Rc,{error:Boolean(t),placeholder:"Day",selectItem:a,options:Sc(null==n?void 0:n.value),onClick:g},void 0),(0,o.jsx)(Rc,{error:Boolean(t),placeholder:"Year",selectItem:i,options:zc,onClick:h},void 0)]},void 0),(0,o.jsx)(Ic,Object.assign({type:t?"error":"default"},{children:c(_)}),void 0)]},void 0)})),Nc=(0,ma.Z)("div",{target:"e1lzrlvq0"})((({theme:e})=>[Co({theme:e,color:"TextPrimary",fontFamily:"Sofia"}),{fontSize:"32px",margin:"16px auto",fontWeight:"bold",textAlign:"center"}]),"label:DivTitle;"),Uc=(0,ma.Z)("div",{target:"e1lzrlvq1"})({width:"375px",margin:"auto"},"label:DivLoginContainer;"),Hc=(0,ma.Z)("div",{target:"e1lzrlvq2"})((({theme:e})=>[Co({theme:e,color:"TextPrimary",fontWeight:"semiBold"}),{fontSize:"15px",display:"flex",justifyContent:"space-between",marginBottom:"5px"}]),"label:DivDescription;"),Wc=()=>{const e=qt("WebApp_Login"),{handleCheckAge:t}=Jd(),{signupLoading:i}=(0,E.mp)(pa),{birthday:n,ageErrorMsg:a,showErrorByToast:r,checkAgeLoading:s}=(0,E.mp)(mo);return(0,u.useEffect)((()=>{a&&r&&wc.Z.open({content:e(a),duration:3})}),[a,e,r]),(0,o.jsxs)(Uc,{children:[(0,o.jsx)(Nc,{children:e("common_login_panel_entry_2")},void 0),(0,o.jsx)(Bc,{},void 0),(0,o.jsx)(us,Object.assign({disabled:!n,loading:i||s,onClick:t},{children:e("common_registration_email_input_button")}),void 0)]},void 0)},Gc=(0,ma.Z)("div",{target:"eopmsux0"})({marginBottom:"16px",position:"relative"},"label:DivUsernameContainer;"),Zc=(0,ma.Z)("div",{target:"eopmsux1"})((({theme:e})=>[So({direction:e.direction,end:"12px"}),{position:"absolute",boxSizing:"border-box",paddingTop:"14.5px",width:"20px",height:"44px",top:0,div:{position:"absolute",width:"15px",height:"15px",margin:"2px",border:"2px solid rgba(22, 24, 35, .34)",borderRadius:"50%",animation:"lds-ring 1.2s cubic-bezier(.5, 0, .5, 1) infinite",borderColor:"rgba(22, 24, 35, .34) transparent transparent transparent",":nth-of-type(1)":{animationDelay:"-.45s"},":nth-of-type(2)":{animationDelay:"-.3s"},":nth-of-type(3)":{animationDelay:"-.15s"}},"@keyframes lds-ring":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}}]),"label:DivNameCheckLoading;"),qc=(0,ma.Z)("div",{target:"e1ulspo0"})((({theme:{colors:e,direction:t}})=>[{position:"relative",marginTop:"11px",borderRadius:"4px",border:"1px solid",background:e.BGPrimary,borderColor:e.LineSecondary,zIndex:2,width:"100%",":before":{content:'""',height:"14px",position:"absolute",background:e.BGPrimary,width:"14px",top:"-7px",left:"rtl"===t?"unset":"14px",right:"rtl"===t?"14px":"unset",zIndex:-1,borderInlineEnd:`1px solid ${e.LineSecondary2}`,borderTop:`1px solid ${e.LineSecondary2}`,transform:"rtl"===t?"rotateZ(45deg)":"rotateZ(-45deg)"}}]),"label:DivSuggestListWrapper;"),Vc=(0,ma.Z)("div",{target:"e1ulspo1"})((({theme:e})=>[Co({theme:e,fontFamily:"Proxima",color:"TextTertiary"}),{fontSize:"13px",lineHeight:"17px",padding:"16px 12px 9px"}]),"label:DivLabel;"),$c=(0,ma.Z)("ul",{target:"e1ulspo2"})({padding:"0",margin:"0",maxHeight:"200px",overflowY:"auto"},"label:UlList;"),Qc=(0,ma.Z)("li",{target:"e1ulspo3"})((({theme:e})=>[Co({theme:e,fontFamily:"Proxima",color:"TextPrimary"}),{display:"flex",padding:"0 12px",justifyContent:"space-between",alignItems:"center",height:"34px",lineHeight:"34px",fontSize:"13px",cursor:"pointer"},{":hover":{backgroundColor:"rgba(22, 24, 35, .03)"}}]),"label:LiListItem;"),Kc=(0,u.memo)((function(){var e,t;const[{usernameInfo:i},{setUsername:n}]=(0,E.b7)(pa),a=qt("WebApp_Login"),r=(0,u.useCallback)((e=>()=>{n(e)}),[n]);return(null==i?void 0:i.isValid)||!(null===(e=null==i?void 0:i.suggestList)||void 0===e?void 0:e.length)?null:(0,o.jsxs)(qc,{children:[(0,o.jsx)(Vc,{children:a("common_registration_email_input_suggested")},void 0),(0,o.jsx)($c,{children:null===(t=null==i?void 0:i.suggestList)||void 0===t?void 0:t.map(((e,t)=>(0,o.jsx)(Qc,Object.assign({onClick:r(`${e}`)},{children:e}),t)))},void 0)]},void 0)})),Yc=(0,u.memo)((function({autoFocus:e,ftc:t,placeholder:i,tip:n}){var a,r;const[{usernameInfo:s,username:l,checkNameLoading:d},{validateUsername:c,validateFTCUsername:p,setUsername:g,setUsernameInfo:m}]=(0,E.b7)(pa),{isMobile:h}=Nt(ao((()=>["isMobile"]),[])),_=qt("WebApp_Login"),v=(0,u.useCallback)((e=>{const t=e.target.value;g(t)}),[g]);(0,u.useEffect)((()=>{l?t?p({name:l}):c({name:l}):m(void 0)}),[t,m,l,p,c]);const b=h?"":"common_registration_username_text";return(0,o.jsxs)(Gc,{children:[(0,o.jsx)(Ks,{autoFocus:e,placeholder:_(null!=i?i:"common_registration_username_placeholder"),onChange:v,errorState:s&&!s.isValid&&!d,autoComplete:"off",name:"new-username",value:l,disableDelete:d},void 0),d&&(0,o.jsxs)(Zc,{children:[(0,o.jsx)("div",{},void 0),(0,o.jsx)("div",{},void 0),(0,o.jsx)("div",{},void 0),(0,o.jsx)("div",{},void 0)]},void 0),(0,o.jsx)(Os,{text:_(null!==(r=null!==(a=null==s?void 0:s.errorMsg)&&void 0!==a?a:n)&&void 0!==r?r:b),type:(null==s?void 0:s.errorMsg)?"error":"default"},void 0),!h&&(0,o.jsx)(Kc,{},void 0)]},void 0)})),Jc=(0,ma.Z)("div",{target:"e1sbfgbz0"})((({theme:e,asText:t})=>({width:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:e.colors.BGPrimary,borderBottom:e.isMobile?"none":"1px solid",borderColor:e.colors.LineReverse3,padding:t?"unset":"16px 30px",marginBottom:t?"12px":"unset"})),"label:DivAgreement;"),Xc=(0,ma.Z)("p",{target:"e1sbfgbz1"})((({theme:e,asText:t})=>[Co({theme:e,fontFamily:"Proxima",color:"TextTertiary"}),{fontSize:"12px",lineHeight:"15px",width:"375px",textAlign:t?"unset":"center"}]),"label:PText;"),ep=(0,ma.Z)("a",{target:"e1sbfgbz2"})((({theme:e})=>({color:e.colors.TextPrimary})),"label:ALink;"),tp=(0,u.memo)((function({i18nKey:e,show:t,asText:i}){const{isMobile:n,language:a}=Nt(ao((()=>["isMobile","language"]),[])),r=n?[re.signupHome]:[re.signupPhoneOrEmail,re.signupPhone,re.signupEmail,re.signupHome],{pathname:s}=(0,B.TH)(),l=null!=t?t:r.find((e=>e===s.replace(/\/$/,""))),d=qt("WebApp_Login"),c=d(null!=e?e:"common_registration_email_input_agreement").split(/%\d*\$s/),p=d("common_registration_terms_use"),g=d("common_registration_privacy_policy");return l?(0,o.jsx)(Jc,Object.assign({asText:i},{children:(0,o.jsxs)(Xc,Object.assign({asText:i},{children:[c[0]," ",(0,o.jsx)(ep,Object.assign({target:"_blank",rel:"noopener noreferrer",href:`https://www.tiktok.com/legal/terms-of-use?lang=${a}`},{children:p}),void 0),c[1]," ",(0,o.jsx)(ep,Object.assign({target:"_blank",rel:"noopener noreferrer",href:`https://www.tiktok.com/legal/privacy-policy?lang=${a}`},{children:g}),void 0),c[2]]}),void 0)}),void 0):null})),ip=()=>{const e=qt("WebApp_Login"),[{usernameInfo:t,errorMsg:i,signupLoading:n},{usernameRegister:a}]=(0,E.b7)(pa),{registerLimited:r}=(0,E.mp)(mo);Xd();const{password:s,lengthValid:l,contentValid:d}=(0,E.mp)(Cs),c=(0,u.useCallback)((()=>{a({password:s})}),[s,a]),p=!1===(null==t?void 0:t.isValid)||!s||!d||!l;return(0,o.jsxs)(Ps,Object.assign({onSubmit:c},{children:[(0,o.jsx)(Nc,{children:e("common_login_panel_entry_2")},void 0),(0,o.jsx)(Hc,{children:e("common_login_sms_popup_option_1")},void 0),(0,o.jsx)(Yc,{autoFocus:!0,placeholder:e("common_registration_username_placeholder"),tip:"mus_create_account_desc_pc",ftc:!0},void 0),(0,o.jsx)(Nl,{loginError:Boolean(i)},void 0),r&&(0,o.jsx)(tp,{show:!0},void 0),(0,o.jsx)(Os,{text:e(null!=i?i:""),type:"error"},void 0),(0,o.jsx)(us,Object.assign({disabled:p,loading:n},{children:e("common_notification_unlogged_button")}),void 0)]}),void 0)},op=(0,ma.Z)("div",{target:"e6sea5o0"})((({theme:e})=>[Co({theme:e,color:"TextPrimary",fontFamily:"Proxima",fontWeight:e.isMobile?"normal":"bold"}),{height:e.isMobile?"16px":"44px",lineHeight:e.isMobile?"16px":"44px",textAlign:"center",fontSize:"16px",marginTop:e.isMobile?"unset":"10px",width:"100%",cursor:"pointer"}]),"label:DivTextContainer;"),np=(0,u.memo)((function(){var e;const t=qt("WebApp_Login"),{setLoginSuccess:i}=(0,E.qj)(ga),{isMobile:n}=Nt(ao((()=>["isMobile"]),[])),a=(0,B.k6)(),r=(null===(e=(0,B.$B)(re.signupCreatePassword))||void 0===e?void 0:e.isExact)&&n,s=(0,u.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),r?a.push(re.signupCreateUsername):i()}),[a,r,i]);return(0,o.jsx)(op,Object.assign({onClick:s},{children:t("common_registration_username_skip")}),void 0)})),ap=()=>{const e=qt("WebApp_Login"),{usernameInfo:t,username:i}=(0,E.mp)(pa),[{loginLoading:n},{setAccount:a}]=(0,E.b7)(ga),{password:r,lengthValid:s,contentValid:l}=(0,E.mp)(Cs),d=(0,u.useCallback)((()=>{a({password:r,username:i})}),[a,r,i]),c=!((null==t?void 0:t.isValid)&&r&&l&&s);return(0,o.jsxs)(Ps,Object.assign({onSubmit:d},{children:[(0,o.jsx)(Nc,{children:e("common_login_panel_entry_2")},void 0),(0,o.jsx)(Hc,{children:e("common_registration_password_title")},void 0),(0,o.jsx)(Nl,{autoFocus:!0},void 0),(0,o.jsx)(Hc,{children:e("common_registration_username_title")},void 0),(0,o.jsx)(Yc,{},void 0),(0,o.jsx)(us,Object.assign({disabled:c,loading:n},{children:e("common_notification_unlogged_button")}),void 0),(0,o.jsx)(np,{},void 0)]}),void 0)},rp=(0,u.memo)((function(){const e=qt("WebApp_Login"),{usernameInfo:t,username:i}=(0,E.mp)(pa),[{loginLoading:n},{setAccount:a}]=(0,E.b7)(ga),r=(0,u.useCallback)((()=>{a({username:i})}),[a,i]),s=!(null==t?void 0:t.isValid);return(0,o.jsxs)(Ps,Object.assign({onSubmit:r},{children:[(0,o.jsx)(Nc,{children:e("common_login_panel_entry_2")},void 0),(0,o.jsx)(Hc,{children:e("common_registration_username_title")},void 0),(0,o.jsx)(Yc,{},void 0),(0,o.jsx)(us,Object.assign({disabled:s,loading:n},{children:e("common_notification_unlogged_button")}),void 0),(0,o.jsx)(np,{},void 0)]}),void 0)}));var sp=i(8355);const lp=(0,ma.Z)("div",{target:"e19c4o080"})({marginBottom:"16px",display:"flex"},"label:DivContainer;"),dp=(0,ma.Z)("p",{target:"e19c4o081"})((({theme:e})=>[Co({theme:e,color:"TextSecondary",fontFamily:"Proxima"}),{fontSize:"12px",lineHeight:"16px",display:"inline"}]),"label:PCheckboxText;"),cp=(0,u.memo)((function(){const e=qt("WebApp_Login"),{emailConsent:t}=Ma((()=>["emailConsent"]),[]),{region:i,isMobile:n}=Nt(ao((()=>["region","isMobile"]),[])),[{emailConsent:a},{setEmailConsent:r}]=(0,E.b7)(pa),s=(0,u.useCallback)((e=>{var t;t={checked:e},$e.event("click_button_consent_check_box",{page_name:"email_signup_page",exp_name:"onboarding_collect_email_consent",text_type:"long_version",status:t.checked?"checked":"unchecked"}),r(e)}),[r]);return(0,u.useEffect)((()=>{t&&($e.event("show_button_consent_check_box",{page_name:"email_signup_page",exp_name:"onboarding_collect_email_consent",text_type:"long_version"}),["MY","PK","BD"].includes(i)&&r(!0))}),[i,t,r]),t?(0,o.jsxs)(lp,{children:[(0,o.jsx)(gc,{size:n?"small":"big",checked:Boolean(a),onChange:s,id:"email-consent",circle:n},void 0),(0,o.jsx)(dp,{children:e("EDM_onboarding_email_consent_checkbox_list")},void 0)]},void 0):null})),pp=(0,ma.Z)("p",{target:"esdrtey0"})((({theme:e})=>[Co({theme:e,color:"TextPrimary"}),{fontSize:"12px",lineHeight:"15px",marginBottom:"8px",marginTop:"-4px",display:"flex"}]),"label:PRegister;"),gp=(0,ma.Z)("span",{target:"esdrtey1"})((({theme:e})=>[Co({theme:e,color:"Primary"}),{display:"flex",alignItems:"center"}]),"label:SpanLink;"),mp=()=>{const e=qt("WebApp_Login"),{ageGateAction:t,birthday:i}=(0,E.mp)(mo),[{errorMsg:n,signupLoading:a},{emailRegister:r}]=(0,E.b7)(pa),{emailErrorMsg:s,email:l=""}=(0,E.mp)(ta),[{sendCodeLoading:d,code:c,codeFormatError:p,emailRegistered:g},{sendEmailCodeForSignup:m}]=(0,E.b7)(ia),{password:h,lengthValid:_,contentValid:v}=(0,E.mp)(Cs),b=(0,u.useCallback)((()=>{m({email:l})}),[l,m]),y=(0,u.useCallback)((()=>{r({password:h,code:c,email:l})}),[l,c,r,h]),f=!l||!h||!c||!v||!_||!!p||!!s||Boolean(!i&&t);return(0,o.jsxs)(Ps,Object.assign({onSubmit:y},{children:[(0,o.jsx)(Nc,{children:e("common_login_panel_entry_2")},void 0),Boolean(t)&&(0,o.jsx)(Bc,{},void 0),(0,o.jsxs)(Hc,{children:[e("email")," ",(0,o.jsx)(ml,{text:e("common_registration_switch_phone"),path:re.signupPhone,replace:!0},void 0)]},void 0),(0,o.jsx)(cd,{emailRegistered:g},void 0),g&&(0,o.jsxs)(pp,{children:[e("common_registration_email_existing_title"),",",(0,o.jsx)(Qa,Object.assign({path:re.loginWithSignedEmail,underline:!1},{children:(0,o.jsxs)(gp,{children:[e("Log in"),(0,o.jsx)(sp.Z,{},void 0)]},void 0)}),void 0)]},void 0),(0,o.jsx)(Nl,{},void 0),(0,o.jsx)(Xs,{email:!0,disabled:Boolean(s||!l||!i&&t),codeFromNumber:l,loading:d,errorMsg:n,onClickSendCode:b},void 0),(0,o.jsx)(cp,{},void 0),(0,o.jsx)(us,Object.assign({loading:a,disabled:f},{children:e("common_registration_email_input_button")}),void 0)]}),void 0)},up=()=>{const e=qt("WebApp_Login"),[{birthday:t,ageGateAction:i}]=(0,E.b7)(mo),[{sendCodeLoading:n,code:a,codeFormatError:r},{sendPhoneCodeForLogin:s}]=(0,E.b7)(ia),[{loginLoading:l},{handleSmsLogin:d}]=(0,E.b7)(ga),c=(0,m.fz)(Wo),[p]=(0,E.b7)($n),{mobile:g,phoneErrorMsg:h,phone:_}=p,v=g&&a&&!h&&!r&&(t||!i),b=Ss(),y=(0,u.useCallback)((()=>{c.setPlatform("sms_verification"),c.loginSubmit({signUp:!0}),d({birthday:t,phoneCode:a,mobile:g,login_only:!1})}),[t,d,c,g,a]),f=(0,u.useCallback)((()=>{s({mobile:g,isSignUp:!0})}),[g,s]);return(0,o.jsxs)(Ps,Object.assign({onSubmit:y},{children:[(0,o.jsx)(Nc,{children:e("common_login_panel_entry_2")},void 0),Boolean(i)&&(0,o.jsx)(Bc,{platform:"sms_verification"},void 0),(0,o.jsxs)(Hc,{children:[e("phone")," ",(0,o.jsx)(ml,{text:e("common_registration_switch_email"),path:re.signupEmail,replace:!0},void 0)]},void 0),(0,o.jsx)(Dd,{},void 0),(0,o.jsx)(Xs,{disabled:Boolean(h||!_||!t&&i),codeFromNumber:g,loading:n,errorMsg:b,onClickSendCode:f},void 0),(0,o.jsx)(us,Object.assign({loading:l,disabled:!v},{children:e("common_registration_email_input_button")}),void 0)]}),void 0)},hp=(0,u.memo)((()=>{const{initial:e}=(0,E.mp)(mo);(0,u.useEffect)((()=>{$e.event("enter_sign_up",{enter_type:"click_sign_up"})}),[]),Ca({pid:"signup"}),Yd(),function(){const{isMobile:e}=Nt(ao((()=>["isMobile"]),[])),{showAgeConfirm:t}=(0,E.mp)(mo),i=(0,B.k6)();(0,u.useEffect)((()=>{t&&!e&&i.push(re.signupAgeGateConfirm)}),[i,t,e])}();const t=(0,B.k6)(),{pathname:i}=t.location;return e||i===re.signupHome?(0,o.jsxs)(kr,{children:[(0,o.jsx)(Yl,{page:"signup"},void 0),(0,o.jsxs)(B.rs,{children:[(0,o.jsx)(B.AW,{path:re.signupHome,component:Sr,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.signupPhoneOrEmail,component:up,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.signupPhone,component:up,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.signupEmail,component:mp,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.signupCreatePassword,component:ap,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.signupCreateUsername,component:rp,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.signupCreateAccount,component:ip,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.signupAgeGate,component:Wc,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.signupAgeGateConfirm,component:nc,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.signupPolicyConfirm,component:kc,exact:!0},void 0),(0,o.jsx)(B.AW,{path:"*",component:Sr},void 0)]},void 0)]},void 0):(0,o.jsx)(Kd.Z,{center:!0,style:{margin:"auto"}},void 0)})),_p=()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(B.AW,{path:re.loginHome,component:Qd},void 0),(0,o.jsx)(B.AW,{path:re.signupHome,component:hp},void 0),(0,o.jsx)(ya,{},void 0),(0,o.jsx)(ka,{},void 0)]},void 0);var vp=i(9020),bp=i(69070);const yp=(0,ma.Z)("div",{target:"e1pdjumk0"})((({theme:e})=>[So({direction:e.direction,start:"0"}),{background:e.colors.BGPrimary,borderRadius:"8px 8px 0 0",width:"100%",padding:"16px",textAlign:"center"}]),"label:DivContainer;"),fp=(0,ma.Z)("div",{target:"e1pdjumk1"})({height:"64px",width:"64px",borderRadius:"50%",position:"relative",background:"rgba(22, 24, 35, .03)",display:"inline-block","&::before, &::after":{width:"5px",height:"23px",display:"block",content:'""',background:"#fe3824",position:"absolute",left:"50%",transform:"translate(-50%, 16px)"},"&::after":{height:"5px",transform:"translate(-50%, 43px)"}},"label:DivIcon;"),xp=(0,ma.Z)("i",{target:"e1pdjumk2"})((({theme:e})=>[So({direction:e.direction,end:"16px"}),{position:"absolute",top:"16px",cursor:"pointer"}]),"label:IClose;"),kp=(0,ma.Z)("p",{target:"e1pdjumk3"})([({theme:e})=>Co({theme:e,color:"TextPrimary",fontFamily:"Proxima"}),{lineHeight:"20px",fontSize:"17px",margin:"24px 0",textAlign:"center"}],"label:PDesc;"),wp={US:{1357:"login_deactivated_popup_website_text_US"},1357:"login_deactivated_popup_website_text_nonUS",1384:"ban_age_gate_removed_pc_text"},Cp={1357:"login_deactivated_popup_webapp_text",1384:"ban_age_gate_removed_mobile_text"},jp=(0,u.memo)((()=>{const e=qt("WebApp_Login"),[{showRiskModal:t,errorCode:i,showInstagramRisk:n=!1},a]=(0,E.b7)(Qn),{region:r,isMobile:s,appType:l}=Nt(ao((()=>["region","isMobile","appType"]),[])),d=((e,t,i)=>{var o,n;if(i)return t?Cp[i]:null!==(n=null===(o=wp[e])||void 0===o?void 0:o[i])&&void 0!==n?n:wp[i]})(r,s,i)||(n?"login_new_ins_mobile_body":"login_risk_popup_body"),c=(0,u.useCallback)((()=>{a.setShowRiskModal(!1),a.setShowInstagramCantLoginModal(!1)}),[a]),p=(0,u.useCallback)((()=>{const e=(({pid:e,downloadLink:t="",appType:i,pageName:o,enterMethod:n,samsung:a=!1,wid:r,utmCampaign:s,activationAd:l,region:d,config:c,modalType:p,extraOnelinkParams:g})=>{const{samsungEnableRegion:m}=Nt(c),{region:u=[],isFull:h}=Nt(m),_=a||navigator.userAgent.indexOf("SamsungBrowser")>-1&&(h||u.includes(d)),v="1"===_e("is_from_samsung_quick_access");t||(t=_?"https://snssdk1233.onelink.me/bIdt":"t"===i?"https://www.tiktok.com/download-link/ol/BAuo":"https://www.tiktok.com/download-link/ol/bIdt");const b=_e("webapp_launch_mode"),y=_e("webapp_original_traffic_type"),f=/google|yahoo|yandex|bing|naver/gi.test(y),x={af_adset:b,pid:null!=e?e:"paid"===b?"tiktokwebsem":f?"tiktokwebseo":"tiktokweb",af_siteid:Boolean(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/))||"android"===function(){const e=navigator.userAgent;return/android/i.test(e)?"android":/iPhone|iPad|iPod|iOS/i.test(e)?"ios":/\(Macintosh; Intel /.test(e)?"mac":/Win\d{2}|Windows/.test(e)?"windows":"unknown"}()?"mobile":"pc",c:o,af_ad:null!=l?l:`${n?`enter_method:${n};`:""}${p?`modal_type:${p};`:""}`,web_id:r,af_ad_id:y};"paid"===b&&(x.is_retargeting=!0,x.af_click_lookback="1d");const k=_e("utm_source"),w=_e("utm_medium"),C=_e("utm_campaign"),j=_e("utm_term"),S=_e("utm_content"),L=s?`${s},${C}`:C,P=_e("referer_url"),A=_e("referer_video_id"),T=`${k?`source:${k};`:""}${w?`medium:${w};`:""}${L?`campaign:${L};`:""}${j?`term:${j};`:""}${S?`content:${S};`:""}`,O=`${P?`referer_url:${P}};`:""}${A?`referer_video_id:${A};`:""}`;return T&&(x.af_adset_id=T),O&&(x.af_channel=O),_&&v&&(x.pid="samsungbrowser",x.c=`samsungbrowser_${null==d?void 0:d.toLowerCase()}`,x.af_click_lookback="1d",x.af_android_url="https://apps.samsung.com/appquery/appDetail.as?appId=com.zhiliaoapp.musically",x.af_dp="snssdk1233://"),g&&Object.assign(x,g),`${t}?${z.stringify(x)}`})({appType:l,enterMethod:"login_anti_spam",pageName:$e.commonParams.page_name});(e=>{const t=navigator.userAgent&&-1!==navigator.userAgent.indexOf("CriOS")?"_self":"_blank",i=window.open(e,t);i&&(i.opener=null)})(e)}),[l]);return(0,o.jsx)(Ml,Object.assign({visible:t||n,maskCloseable:!1},{children:(0,o.jsxs)(yp,{children:[(0,o.jsx)(fp,{},void 0),(0,o.jsx)(xp,Object.assign({onClick:c},{children:(0,o.jsx)(Aa.Z,{},void 0)}),void 0),(0,o.jsx)(kp,{children:e(d)},void 0),(0,o.jsx)(us,Object.assign({onClick:p},{children:e("login_risk_popup_button")}),void 0)]},void 0)}),void 0)})),Sp=()=>{const[{phoneNotRegistered:e=!1},{setPhoneNotRegistered:t}]=(0,E.b7)(ga),{registerPhone:i}=(0,E.qj)(pa),n=(0,B.k6)(),a=(0,u.useCallback)((()=>{t(!1),i({})}),[t,i]),r=(0,u.useCallback)((()=>{t(!1),n.goBack()}),[t,n]),s=(0,u.useMemo)((()=>[{text:"common_login_sms_popup_option_1",onClick:a},{text:"common_login_sms_popup_option_2",onClick:r}]),[r,a]);return(0,o.jsx)(bl,{visible:e,title:"common_login_sms_popup_text",actions:s},void 0)},Lp=(0,ma.Z)("div",{target:"e7p76pd0"})({padding:"0 32px",flex:"1",minHeight:"550x"},"label:DivMobileBody;"),Pp=e=>{const{children:t,onSubmit:i}=e,n=(0,x.__rest)(e,["children","onSubmit"]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Ga,Object.assign({},n),void 0),(0,o.jsx)(Lp,{children:i?(0,o.jsx)(Ps,Object.assign({onSubmit:e.onSubmit},{children:t}),void 0):t},void 0)]},void 0)},Ap=()=>{var e;const t=qt("WebApp_Login"),i=(0,m.fz)(Wo),{birthday:n}=(0,E.mp)(mo),{mobile:a}=(0,E.mp)($n),[{code:r},{sendPhoneCodeForLogin:s}]=(0,E.b7)(ia),[{loginLoading:l},{handleSmsLogin:d}]=(0,E.b7)(ga),c=null===(e=(0,B.$B)(re.signupPhoneDigit))||void 0===e?void 0:e.isExact,p=Ss(),g=(0,u.useCallback)((()=>{s({mobile:a})}),[a,s]),h=(0,u.useCallback)((()=>{i.setPlatform("sms_verification"),i.loginSubmit(),d({birthday:c?n:void 0,mobile:a,phoneCode:r,login_only:!c})}),[r,d,i,a,c,n]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(cl,{codeFromNumber:a,onClickSendCode:g,onSubmit:h,loading:l,errorMsg:p},void 0),!c&&(0,o.jsx)(ml,{text:t("login_option_password"),path:re.loginPhonePassword},void 0)]},void 0)},Tp=(0,ma.Z)("div",{target:"e1ntpldy0"})((({theme:e})=>({height:"40px",borderBottom:`1px solid ${e.colors.LinePrimary2}`,display:"flex",padding:"0 16px",boxSizing:"border-box",width:"100%",marginInlineStart:"50%",transform:"rtl"===e.direction?"translateX(50%)":"translateX(-50%)",marginBottom:"40px"})),"label:DivTabWrapper;"),Op=(0,ma.Z)("div",{target:"e1ntpldy1"})((({theme:e,selected:t})=>[Co({theme:e,fontFamily:"Proxima",fontWeight:"semiBold",color:t?"TextPrimary":"TextQuaternary"}),{textAlign:"center",lineHeight:"40px",transition:"all .1s",flex:1,margin:"0 10px",borderBottom:"2px solid",borderBottomColor:t?e.colors.TextPrimary:"transparent",whiteSpace:"nowrap"}]),"label:DivTab;"),Mp=(0,u.memo)((function(e){const{tabs:t,currentTab:i}=e;return(0,o.jsx)(Tp,{children:t.map(((n,a)=>(0,o.jsx)(Op,Object.assign({onClick:e.onSwitchTab(a),selected:t[i]===n},{children:n}),a)))},void 0)})),Rp=(0,ma.Z)("div",{target:"eybrrr40"})((({theme:e})=>[So({direction:e.direction,end:"0"}),{width:"20px",position:"fixed",top:"50%",transform:"translateY(-50%)",textAlign:"center"}]),"label:DivLetterListContainer;"),Fp=(0,ma.Z)("div",{target:"eybrrr41"})((({theme:e})=>[Co({theme:e,fontFamily:"Proxima"}),{fontWeight:600,fontSize:"12px",lineHeight:"14px",color:"rgba(22, 24, 35, .5)"}]),"label:DivLetterItem;"),Ep=e=>(0,o.jsx)(Rp,{children:qn.map((t=>(0,o.jsx)(Fp,Object.assign({onClick:e.onClick(t.label)},{children:t.label}),t.label)))},void 0),Ip=e=>{const{onClose:t}=e,i=(0,x.__rest)(e,["onClose"]),n=qt("WebApp_Login"),a=(0,u.useRef)(null),r=(0,u.useCallback)((e=>()=>{var t,i;const o=document.getElementById(e);null===(t=null==a?void 0:a.current)||void 0===t||t.scrollTo(0,null!==(i=null==o?void 0:o.offsetTop)&&void 0!==i?i:0)}),[]);return(0,o.jsxs)(jd,Object.assign({ref:a},{children:[(0,o.jsx)(Ga,{onClose:e.onClose,showRight:!1,title:n("select_region"),showClose:!0},void 0),(0,o.jsxs)(Sd,{children:[(0,o.jsx)(vd,Object.assign({},i),void 0),(0,o.jsx)(Ep,{onClick:r},void 0)]},void 0)]}),void 0)},Dp=(0,ma.Z)("div",{target:"eex98o0"})({marginBottom:"12px"},"label:DivContainer;"),zp=(0,ma.Z)(Ks,{target:"eex98o1"})({flex:1,width:0,marginBottom:"0"},"label:StyledBaseInput;"),Bp=(0,ma.Z)("div",{target:"eex98o2"})((({theme:{colors:e},errState:t})=>[{transition:"all 0.3s",display:"flex",borderBottom:"1px solid",input:{color:t?e.Negative:"unset",paddingInlineStart:"8px"},borderColor:t?e.Negative:e.LineSecondary2}]),"label:DivPhoneInputContainer;"),Np=(0,ma.Z)("div",{target:"eex98o3"})((({theme:{colors:e,direction:t}})=>[{display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative",padding:"2px",height:"44px","::after":{content:'""',width:"1px",height:"10px",background:e.LineSecondary,right:"rtl"===t?"unset":"0",left:"rtl"===t?"0":"unset",position:"absolute"}}]),"label:DivAreaLabelContainer;"),Up=(0,ma.Z)("span",{target:"eex98o4"})((({theme:{colors:e}})=>[{fontSize:"15px",lineHeight:1,color:e.TextPrimary,fontWeight:400}]),"label:SpanLabelContainer;"),Hp=(0,ma.Z)(nr.Z,{target:"eex98o5"})({fontSize:"16px",margin:"0 4px"},"label:StyledArrowIcon;"),Wp=(0,u.memo)((function({filterCountryList:e}){Pd(e);const[t,i]=(0,E.b7)($n),{area:n,areaCode:a,phoneErrorMsg:r,showAreaCodeSelector:s,searchText:l,phone:d,matchSearchArea:c}=t,{checkPhoneNumberFormat:p}=i,{toggleAreaCodeSelector:g,selectAreaCode:m}=i,h=qt("WebApp_Login"),_=Ls(),v=(0,u.useCallback)((e=>{p({phone:e.target.value.replace(/[^\d]/g,"")})}),[p]),b=(0,u.useCallback)((({code:e,area:t})=>{m({code:e,area:t})}),[m]),y=Boolean(r||_);return(0,o.jsxs)(Dp,{children:[(0,o.jsxs)(Bp,Object.assign({errState:y},{children:[(0,o.jsxs)(Np,Object.assign({onClick:g},{children:[(0,o.jsxs)(Up,{children:[n," +",a]},void 0),(0,o.jsx)(Hp,{},void 0)]}),void 0),s&&(0,o.jsx)(Ip,{onClose:g,matchSearchArea:c,filterCountryList:e,onSelected:b,currentSelectCode:a,searchText:l},void 0),(0,o.jsx)(zp,{value:d,border:!1,errState:y,placeholder:h("phone_number"),onChange:v,name:"mobile",type:"tel"},void 0)]}),void 0),y&&(0,o.jsx)(Os,{text:h(r||_||""),type:"error"},void 0)]},void 0)})),Gp=(0,u.memo)((function(){const e=qt("WebApp_Login"),{phone:t,mobile:i}=(0,E.mp)($n),[{sendCodeLoading:n},{sendPhoneCodeForLogin:a}]=(0,E.b7)(ia),r=(0,B.$B)(re.signupPhoneOrEmail),s=(0,u.useCallback)((()=>{a({mobile:i,nextUrl:r?re.signupPhoneDigit:re.loginPhoneDigit})}),[a,i,r]);return(0,o.jsxs)(Ps,Object.assign({onSubmit:s},{children:[(0,o.jsx)(Wp,{},void 0),r&&(0,o.jsx)(tp,{show:!0,asText:!0,i18nKey:"common_registration_phone_input_agreement"},void 0),(0,o.jsx)(us,Object.assign({loading:n,disabled:!t},{children:e(r?"common_registration_phone_input_button":"Login")}),void 0)]}),void 0)})),Zp=(0,u.memo)((function(){var e;const t=qt("WebApp_Login"),i=(0,B.k6)(),n=(0,B.$B)(`${re.loginPhoneOrEmail}/:type`),a="email"===(null===(e=null==n?void 0:n.params)||void 0===e?void 0:e.type)?1:0,r=(0,u.useMemo)((()=>[t("Phone"),t("common_login_email_input_tab")]),[t]),s=(0,u.useCallback)((e=>()=>{0===e?i.replace(re.loginPhone):i.replace(re.loginEmail)}),[i]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Mp,{tabs:r,currentTab:a,onSwitchTab:s},void 0),0===a&&(0,o.jsx)(Gp,{},void 0),1===a&&(0,o.jsx)(Bd,{},void 0)]},void 0)})),qp=()=>{const e=qt("WebApp_Login"),t=(0,m.fz)(Wo),[{loginLoading:i},{handlePasswordLogin:n}]=(0,E.b7)(ga),{mobile:a}=(0,E.mp)($n),{password:r}=(0,E.mp)(Cs),s=Ss(),l=(0,u.useCallback)((()=>{t.setPlatform("phone"),t.loginSubmit(),n({account:a,password:r,mobile:a})}),[n,t,a,r]);return(0,o.jsxs)(Ps,Object.assign({onSubmit:l},{children:[(0,o.jsx)(el,{children:e("common_login_password_title")},void 0),(0,o.jsx)(Nl,{create:!1,loginError:Boolean(s)},void 0),(0,o.jsx)(Os,{text:e(s),type:"error"},void 0),(0,o.jsx)(fl,{},void 0),(0,o.jsx)(us,Object.assign({loading:i,disabled:!r},{children:e("Login")}),void 0)]}),void 0)},Vp=()=>{const e=qt("WebApp_Login"),{hideHomePage:t,loginTitle:i}=Ma((()=>["hideHomePage","loginTitle"]),[]),n=t?i:"Login";return(0,o.jsxs)(Pp,Object.assign({title:e(n)},{children:[(0,o.jsx)(B.AW,{path:re.loginPhonePassword,component:qp,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.loginPhoneOrEmail,component:Zp,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.loginPhone,component:Zp,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.loginEmail,component:Zp,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.loginPhoneDigit,component:Ap,exact:!0},void 0)]}),void 0)},$p=(0,u.memo)((function(){const e=qt("WebApp_Login"),[{sendCodeLoading:t},{sendEmailCodeForReset:i}]=(0,E.b7)(ia),[{emailErrorMsg:n,email:a=""},{setEmailInfo:r}]=(0,E.b7)(ta),s=Ls(),l=(0,u.useCallback)((()=>{const e=Vn(a);r({email:a,valid:e}),e&&i({email:a,email_logic_type:2,nextUrl:re.emailResetDigit})}),[i,a,r]);return(0,o.jsxs)(Ps,Object.assign({onSubmit:l},{children:[(0,o.jsx)(el,{children:e("setting_password_email_verify_title")},void 0),(0,o.jsx)(tl,{children:e("common_login_reset_email_input_text")},void 0),(0,o.jsx)(cd,{errorMsg:s},void 0),(0,o.jsx)(us,Object.assign({loading:t,disabled:!!n||!a},{children:e("common_registration_phone_input_button")}),void 0)]}),void 0)})),Qp=(0,u.memo)((function(){const{email:e=""}=(0,E.mp)(ta),[{code:t},{sendEmailCodeForReset:i}]=(0,E.b7)(ia),[{checkCodeLoading:n,errorMsg:a},{checkEmailCodeForReset:r,setErrorMsg:s}]=(0,E.b7)(js);(0,u.useEffect)((()=>{s("")}),[t,s]);const l=(0,u.useCallback)((()=>{i({email:e,email_logic_type:2})}),[e,i]),d=(0,u.useCallback)((()=>{r({email:e,code:t})}),[t,r,e]);return(0,o.jsx)(cl,{codeFromNumber:e,onClickSendCode:l,onSubmit:d,loading:n,errorMsg:a,email:!0},void 0)})),Kp=(0,u.memo)((function(){const e=qt("WebApp_Login"),[{code:t},{sendPhoneCodeForForceResetPwd:i,sendEmailCodeForForceResetPwd:n}]=(0,E.b7)(ia),[{forceResetResponse:a},{clearForceResetRes:r}]=(0,E.b7)(ga),{conditional_login_ticket:s,mobile:l,email:d,type:c}=Nt(a),[{checkCodeLoading:p,errorMsg:g},{checkCodeForForceReset:m,setErrorMsg:h}]=(0,E.b7)(js);(0,u.useEffect)((()=>{h("")}),[t,h]);const _=(0,u.useCallback)((()=>{"email"===c?n({conditional_login_ticket:s}):i({conditional_login_ticket:s})}),[n,i,s,c]),v=(0,u.useCallback)((()=>{m({conditional_login_ticket:s,code:t,type:c})}),[m,s,t,c]);(0,u.useEffect)((()=>()=>{r()}),[]);const b="email"===c?e("setting_password_code_email_text",{email:d}):e("setting_password_code_sms_text",{mobile:l}).replace(/(\D{1})(4)(\D{1})/,((e,t,i,o)=>`${t}6${o}`));return(0,o.jsx)(cl,{autoSendFirstTime:!0,codeDesc:b,codeFromNumber:s,onClickSendCode:_,onSubmit:v,loading:p,errorMsg:g,email:"email"===c},void 0)})),Yp=(0,u.memo)((function(){const e=qt("WebApp_Login"),{phone:t,mobile:i}=(0,E.mp)($n),[n,{sendPhoneCodeForResetPwd:a}]=(0,E.b7)(ia),{sendCodeLoading:r}=n,s=(0,u.useCallback)((()=>{a({mobile:i,nextUrl:re.phoneResetDigit})}),[a,i]);return(0,o.jsxs)(Ps,Object.assign({onSubmit:s},{children:[(0,o.jsx)(el,{children:e("setting_bind_phone_input_title")},void 0),(0,o.jsx)(tl,{children:e("common_login_reset_phone_input_text")},void 0),(0,o.jsx)(Wp,{},void 0),(0,o.jsx)(us,Object.assign({loading:r,disabled:!t},{children:e("common_registration_phone_input_button")}),void 0)]}),void 0)})),Jp=(0,u.memo)((function(){const{mobile:e}=(0,E.mp)($n),[{code:t},{sendPhoneCodeForResetPwd:i}]=(0,E.b7)(ia),[{checkCodeLoading:n,errorMsg:a},{checkPhoneCodeForReset:r,setErrorMsg:s}]=(0,E.b7)(js);(0,u.useEffect)((()=>{s("")}),[t,s]);const l=(0,u.useCallback)((()=>{i({mobile:e})}),[e,i]),d=(0,u.useCallback)((()=>{r({mobile:e,code:t})}),[e,t,r]);return(0,o.jsx)(cl,{codeFromNumber:e,onClickSendCode:l,onSubmit:d,loading:n,errorMsg:a},void 0)})),Xp=(0,u.memo)((function(){const e=qt("WebApp_Login"),t=(0,m.fz)(Wo),{password:i,lengthValid:n,contentValid:a}=(0,E.mp)(Cs),{ticket:r,type:s,conditional_login_ticket:l}=(0,E.mp)(js),[{loginLoading:d},{handleChangePwdByTicket:c,handleForceResetPwd:p}]=(0,E.b7)(ga),g=Ss(),h=(0,u.useCallback)((()=>{l?(t.forceResetSubmit(),p({ticket:r,password:i,conditional_login_ticket:l,type:s})):(t.setPlatform("email"===s?"email":"sms_verification"),t.loginSubmit(),c({password:i,ticket:r,type:s}))}),[t,s,l,p,r,i,c]),_=!(r&&i&&n&&a);return(0,o.jsxs)(Ps,Object.assign({onSubmit:h},{children:[(0,o.jsx)(el,{children:e("common_login_reset_password_title")},void 0),(0,o.jsx)(Nl,{autoFocus:!0,loginErrorText:g},void 0),(0,o.jsx)(us,Object.assign({loading:d,disabled:_},{children:e("Login")}),void 0)]}),void 0)})),eg=(0,ma.Z)("div",{target:"e1ku7a1t0"})((({theme:e})=>[{background:e.colors.BGPlaceholderDefault,padding:"8px 16px",color:e.colors.TextTertiary,width:"100vw",marginInlineStart:"-32px"}]),"label:DivTips;"),tg=()=>{var e;const t=qt("WebApp_Login"),{forceResetResponse:i}=(0,E.mp)(ga),n=(null===(e=(0,B.$B)([re.loginForgetPhonePassword,re.loginForgetEmailPassword]))||void 0===e?void 0:e.isExact)&&i,a=i?"":t("Reset");return(0,o.jsxs)(Pp,Object.assign({title:a,showLeft:!n},{children:[n&&(0,o.jsx)(eg,{children:t("changepw_banner")},void 0),(0,o.jsx)(B.AW,{path:re.loginForgetEmailPassword,component:i?Kp:$p,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.emailResetDigit,component:Qp,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.loginForgetPhonePassword,component:i?Kp:Yp,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.phoneResetDigit,component:Jp,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.resetPassword,component:Xp,exact:!0},void 0)]}),void 0)},ig=()=>{const e=qt("WebApp_Login");return(0,o.jsx)(Pp,Object.assign({title:e("Login")},{children:(0,o.jsx)(Vd,{},void 0)}),void 0)},og=(0,u.memo)((()=>(Ql(),Ca({pid:"login"}),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Yl,{page:"login"},void 0),(0,o.jsxs)(B.rs,{children:[(0,o.jsx)(B.AW,{path:re.loginHome,component:Sr,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.loginQRcode,component:ds,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.loginPhoneOrEmail,component:Vp},void 0),(0,o.jsx)(B.AW,{path:re.loginPhoneDigit,component:Vp,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.loginWithSignedEmail,component:ig,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.loginForgetEmailPassword,component:tg,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.loginForgetPhonePassword,component:tg,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.loginReset,component:tg},void 0),(0,o.jsx)(B.AW,{path:re.loginTwoStepVerify,component:Wl,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.loginTwoStepVerify,component:Wl,exact:!0},void 0),(0,o.jsx)(B.AW,{path:"*",component:Sr},void 0)]},void 0),(0,o.jsx)(Sp,{},void 0)]},void 0)))),ng=()=>{const{showAgeConfirm:e}=(0,E.mp)(mo);return(0,o.jsx)(Fo,Object.assign({visible:e},{children:(0,o.jsx)(nc,{isModal:!0},void 0)}),void 0)};var ag=i(74650);const rg=(0,ma.Z)("div",{target:"e1i2f2310"})({position:"absolute",marginTop:"24px",left:0,right:0},"label:DivWrapper;"),sg=new Date(1900,0,1,0,0,0),lg=new Date((new Date).getFullYear()-1,11,31,0,0,0),dg=jc(),cg=(0,u.memo)((function(){const e=(0,m.fz)(Wo),[{year:t,month:i,date:n},{setBirthday:a,setMonth:r,setYear:s,setDate:l}]=(0,E.b7)(mo),d=qt("WebApp_Login");(0,u.useEffect)((()=>{e.ageGateShow()}),[]);const c=(0,u.useCallback)((e=>{var t;return(0,o.jsx)(u.Fragment,{children:d(null===(t=dg[e])||void 0===t?void 0:t.key)},void 0)}),[d]),p=(0,u.useCallback)((e=>{const t=e.getDate(),i=e.getMonth()+1,o=e.getFullYear();r({value:i,key:String(i-1)}),s({value:o,key:String(o)}),l({value:t,key:String(t)}),a({year:o,month:i,date:t})}),[a,l,r,s]),g=(0,u.useMemo)((()=>{if(!(null==t?void 0:t.value)||!(null==i?void 0:i.value)||!(null==n?void 0:n.value)){const e=new Date;return new Date(lg.getFullYear(),e.getMonth(),e.getDate())}return new Date(t.value,i.value,n.value)}),[t,i,n]);return(0,o.jsx)(rg,{children:(0,o.jsx)(ag.Z,{className:"date-selector",defaultDate:g,mode:"date",maxDate:lg,minDate:sg,onDateChange:p,formatMonth:c},void 0)},void 0)})),pg=(0,u.memo)((function(){const e=qt("WebApp_Login"),{birthday:t,checkAgeLoading:i,ageErrorMsg:n="",showErrorByToast:a}=(0,E.mp)(mo),{signupLoading:r}=(0,E.mp)(pa),{handleCheckAge:s}=Jd();(0,u.useEffect)((()=>{n&&a&&Mn(e(n))}),[a,n,e]);const l=Boolean(n)&&!a;return(0,o.jsxs)(Pp,Object.assign({title:e("sign_up")},{children:[(0,o.jsx)(el,{children:e("common_registration_agegate_title")},void 0),(0,o.jsx)(tl,{children:e("mus_age_gate_tips")},void 0),(0,o.jsx)(Ks,{errorState:l,disableDelete:!0,placeholder:e("birthdate_placeholder"),value:t,readonly:!0},void 0),l&&(0,o.jsx)(Os,{text:e(n),type:"error"},void 0),(0,o.jsx)(us,Object.assign({disabled:!t,onClick:s,loading:r||i},{children:e("common_registration_email_input_button")}),void 0),(0,o.jsx)(cg,{},void 0)]}),void 0)})),gg=(0,ma.Z)("div",{target:"ekgsvu50"})({height:"30px",overflow:"hidden",marginTop:"32px"},"label:DivWrapper;"),mg=(0,ma.Z)("div",{target:"ekgsvu51"})((({theme:{colors:e}})=>[{position:"relative",background:e.BGPrimary,borderColor:e.LineSecondary,width:"100%",display:"flex",overflowX:"auto",alignItems:"center",paddingBottom:"10px"}]),"label:DivSuggestListWrapper;"),ug=(0,ma.Z)("span",{target:"ekgsvu52"})((({theme:e,disabled:t})=>[Co({theme:e,fontFamily:"Proxima",color:t?"TextTertiary":"TextPrimary",fontWeight:"semiBold"}),{padding:"6px 10px",fontSize:"13px",lineHeight:"14px",border:`1px solid ${e.colors.LineSecondary2}`,borderRadius:"2px",marginInlineEnd:"8px",whiteSpace:"nowrap"}]),"label:SpanItem;"),hg=(0,u.memo)((function({labelText:e="common_registration_email_input_suggested",list:t=[],onSelect:i}){const n=qt("WebApp_Login");return(0,o.jsx)(gg,{children:(0,o.jsxs)(mg,{children:[(0,o.jsx)(ug,Object.assign({disabled:!0},{children:n(e)}),void 0),t.map(((e,t)=>(0,o.jsx)(ug,Object.assign({onClick:i(`${e}`)},{children:e}),t)))]},void 0)},void 0)})),_g=(0,u.memo)((function(){var e;const[{usernameInfo:t},{setUsername:i}]=(0,E.b7)(pa),n=(0,u.useCallback)((e=>()=>{i(e)}),[i]);return(null==t?void 0:t.isValid)||!(null===(e=null==t?void 0:t.suggestList)||void 0===e?void 0:e.length)?null:(0,o.jsx)(hg,{onSelect:n,list:null==t?void 0:t.suggestList},void 0)})),vg=(0,u.memo)((function(){const e=qt("WebApp_Login"),{usernameInfo:t}=(0,E.mp)(pa),i=(0,B.k6)();Xd();const n=(0,u.useCallback)((()=>{i.push({pathname:re.signupCreatePassword,state:{createAccount:!0}})}),[i]);return(0,o.jsxs)(Pp,Object.assign({title:e("sign_up"),onSubmit:n},{children:[(0,o.jsxs)(el,{children:[" ",e("common_login_sms_popup_option_1")]},void 0),(0,o.jsxs)(tl,{children:[" ",e("mus_create_account_desc")," "]},void 0),(0,o.jsx)(Yc,{ftc:!0},void 0),(0,o.jsx)(us,Object.assign({disabled:!(null==t?void 0:t.isValid)},{children:e("common_registration_email_input_button")}),void 0),(0,o.jsx)(_g,{},void 0)]}),void 0)})),bg=()=>{const e=qt("WebApp_Login"),[{loginLoading:t},{setAccount:i}]=(0,E.b7)(ga),{usernameRegister:n}=(0,E.qj)(pa),{password:a,lengthValid:r,contentValid:s}=(0,E.mp)(Cs),l=(0,B.TH)(),{createAccount:d}=Nt(l.state),c=(0,u.useCallback)((()=>{d?n({password:a}):i({password:a,nextUrl:re.signupCreateUsername})}),[i,a,d,n]),p=!a||!s||!r;return(0,o.jsxs)(Pp,Object.assign({LeftIcon:d?void 0:np,onSubmit:c,title:e("sign_up")},{children:[(0,o.jsx)(el,{children:e("common_registration_password_title")},void 0),(0,o.jsx)(Nl,{autoFocus:!0},void 0),(0,o.jsx)(us,Object.assign({disabled:p,loading:t},{children:e("common_registration_email_input_button")}),void 0)]}),void 0)},yg=(0,u.memo)((function(){const e=qt("WebApp_Login"),{usernameInfo:t,username:i}=(0,E.mp)(pa),[{loginLoading:n},{setAccount:a}]=(0,E.b7)(ga),r=(0,u.useCallback)((()=>{a({username:i})}),[a,i]);return(0,o.jsxs)(Pp,Object.assign({title:e("sign_up"),onSubmit:r,LeftIcon:np},{children:[(0,o.jsx)(el,{children:e("common_registration_username_title")},void 0),(0,o.jsx)(tl,{children:e("common_registration_username_text")},void 0),(0,o.jsx)(Yc,{},void 0),(0,o.jsx)(us,Object.assign({loading:n,disabled:!(null==t?void 0:t.isValid)},{children:e("common_notification_unlogged_button")}),void 0),(0,o.jsx)(_g,{},void 0)]}),void 0)})),fg=(0,u.memo)((function(){const{email:e=""}=(0,E.mp)(ta),[{code:t},{sendEmailCodeForSignup:i}]=(0,E.b7)(ia),[{errorMsg:n,signupLoading:a},{emailRegister:r}]=(0,E.b7)(pa),s=(0,B.TH)(),{password:l}=s.state||{},d=(0,u.useCallback)((()=>{i({email:e})}),[e,i]),c=(0,u.useCallback)((()=>{r({email:e,code:t,password:l})}),[t,r,e,l]);return(0,o.jsx)(cl,{autoSendFirstTime:!0,codeFromNumber:e,onClickSendCode:d,onSubmit:c,loading:a,errorMsg:n,email:!0},void 0)})),xg=()=>{const e=qt("WebApp_Login"),{password:t,lengthValid:i,contentValid:n}=(0,E.mp)(Cs),a=(0,B.k6)(),r=(0,u.useCallback)((()=>{a.push({pathname:re.signupEmailDigit,state:{password:t}})}),[a,t]),s=!t||!n||!i;return(0,o.jsxs)(Ps,Object.assign({onSubmit:r},{children:[(0,o.jsx)(el,{children:e("common_registration_password_title")},void 0),(0,o.jsx)(Nl,{autoFocus:!0},void 0),(0,o.jsx)(us,Object.assign({disabled:s},{children:e("common_notification_unlogged_button")}),void 0)]}),void 0)},kg=(0,u.memo)((function(){const{setSuggestEmailSuffixConfig:e}=(0,E.qj)(ta),{emailSuffixConfig:t}=Ma((()=>["emailSuffixConfig"]),[]),i=(0,u.useCallback)((t=>()=>{e(t)}),[e]),n=t.map((e=>`@${e}`));return(0,o.jsx)(hg,{list:n,onSelect:i},void 0)})),wg=(0,u.memo)((function(){const e=qt("WebApp_Login"),[{email:t="",emailErrorMsg:i,checkEmailLoading:n},{checkEmailRegistered:a}]=(0,E.b7)(ta),r=Ls(),s=(0,u.useCallback)((()=>{a()}),[a]);return(0,o.jsxs)(Ps,Object.assign({onSubmit:s},{children:[(0,o.jsx)(cd,{errorMsg:r},void 0),(0,o.jsx)(tp,{show:!0,asText:!0},void 0),(0,o.jsx)(cp,{},void 0),(0,o.jsx)(us,Object.assign({loading:n,disabled:!t||Boolean(i)},{children:e("common_registration_email_input_button")}),void 0),(0,o.jsx)(kg,{},void 0)]}),void 0)})),Cg=(0,u.memo)((function(){var e;const t=qt("WebApp_Login"),i=(0,B.k6)(),n=(0,B.$B)(`${re.signupPhoneOrEmail}/:type`),a="email"===(null===(e=null==n?void 0:n.params)||void 0===e?void 0:e.type)?1:0,r=(0,u.useMemo)((()=>[t("Phone"),t("Email")]),[t]),s=(0,u.useCallback)((e=>()=>{0===e?i.replace(re.signupPhone):i.replace(re.signupEmail)}),[i]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Mp,{tabs:r,currentTab:a,onSwitchTab:s},void 0),0===a&&(0,o.jsx)(Gp,{},void 0),1===a&&(0,o.jsx)(wg,{},void 0)]},void 0)})),jg=()=>{const e=qt("WebApp_Login");return(0,o.jsxs)(Pp,Object.assign({title:e("sign_up")},{children:[(0,o.jsx)(B.AW,{path:re.signupPhoneOrEmail,component:Cg},void 0),(0,o.jsx)(B.AW,{path:re.signupPhoneDigit,component:Ap,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.signupEmailDigit,component:fg,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.signupEmailCreatePassword,component:xg,exact:!0},void 0)]}),void 0)},Sg=(0,u.memo)((function(){return(0,o.jsx)(Pp,Object.assign({showRight:!1},{children:(0,o.jsx)(kc,{},void 0)}),void 0)})),Lg=(0,u.memo)((()=>(Ql(),Yd(),Ca({pid:"signup"}),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Yl,{page:"signup"},void 0),(0,o.jsxs)(B.rs,{children:[(0,o.jsx)(B.AW,{path:re.signupHome,component:Sr,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.signupPhoneOrEmail,component:jg},void 0),(0,o.jsx)(B.AW,{path:re.signupPhoneDigit,component:jg,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.signupEmailDigit,component:jg,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.signupEmailCreatePassword,component:jg,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.signupCreatePassword,component:bg,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.signupCreateUsername,component:yg,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.signupCreateAccount,component:vg,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.signupAgeGate,component:pg,exact:!0},void 0),(0,o.jsx)(B.AW,{path:re.signupPolicyConfirm,component:Sg,exact:!0},void 0),(0,o.jsx)(B.AW,{path:"*",component:Sr},void 0)]},void 0),(0,o.jsx)(ng,{},void 0)]},void 0)))),Pg=(0,ma.Z)("div",{target:"e1apasj50"})({paddingTop:"40px",textAlign:"center"},"label:DivWrapper;"),Ag=(0,ma.Z)("div",{target:"e1apasj51"})({textAlign:"left"},"label:DivContentWrapper;"),Tg=(0,ma.Z)("div",{target:"e1apasj52"})({position:"absolute",bottom:"32px",left:"32px",right:"32px"},"label:DivButtonWrapper;"),Og=()=>{const e=qt("WebApp_Login"),t=(0,B.k6)(),i=(0,B.TH)(),{cancelDeleteAccount:n}=(0,E.qj)(ga);(0,u.useEffect)((()=>{var e;(null===(e=i.state)||void 0===e?void 0:e.init)||t.replace(re.loginHome)}),[i,t]);const a=(0,u.useCallback)((()=>{n()}),[n]),r=(0,u.useCallback)((()=>{t.push(re.loginHome)}),[t]);return(0,o.jsx)(Pp,Object.assign({showLeft:!1,showRight:!1},{children:(0,o.jsxs)(Pg,{children:[(0,o.jsx)(fp,{},void 0),(0,o.jsx)(el,{children:e("reactivate_h1")},void 0),(0,o.jsxs)(Ag,{children:[e("reactivate_h2"),e("reactivate_h3"),e("reactivate_h4")]},void 0),(0,o.jsxs)(Tg,{children:[(0,o.jsx)(us,Object.assign({onClick:a},{children:e("reactivate_btn")}),void 0),(0,o.jsx)(us,Object.assign({buttonTheme:"default",onClick:r,style:{marginTop:"16px"}},{children:e("common_registration_phone_input_popup_button")}),void 0)]},void 0)]},void 0)}),void 0)},Mg=()=>{const{language:e}=Nt(ao((()=>["language"]),[])),t="ar"===e||"ur"===e||"he-IL"===e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(Qi.ql,{children:[(0,o.jsx)("link",{rel:"stylesheet",href:vp},void 0),(0,o.jsx)("link",{rel:"stylesheet",href:bp},void 0)]},void 0),(0,o.jsx)(F.xB,{styles:fo(t)},void 0),(0,o.jsx)(B.AW,{path:re.loginHome,component:og},void 0),(0,o.jsx)(B.AW,{path:re.signupHome,component:Lg},void 0),(0,o.jsx)(B.AW,{path:re.accountDeactivate,component:Og},void 0),(0,o.jsx)(jp,{},void 0)]},void 0)},Rg=(0,ma.Z)("div",{target:"e10jupx40"})({display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},"label:DivOauthBodyContainer;"),Fg=(0,u.memo)((function(){const{search:e}=(0,B.TH)(),{oauth_token:t,oauth_verifier:i,error:n,oauthType:a}=(0,z.parse)(e),r=(0,m.fz)(Wo),s=(0,m.fz)(sn),{authPageGoRedirect:l}=(0,E.qj)(vr);return(0,u.useEffect)((()=>{lr(null==a?void 0:a.toString()),s.handleThirdGetToken({platform:"twitter",error_code:t&&i?0:-1,error_message:String(n)}),t&&i?(rr("twitter",{oauth_token:t.toString(),oauth_verifier:i.toString()}),window.parent?window.authDoneClose=!0:l({platform:"line"})):r.thirdPartyLoginResult({status:1,error_code:-1,error_desc:null==n?void 0:n.toString()})}),[n,r,t,i,s,a,l]),(0,o.jsx)(Rg,{children:(0,o.jsx)(vi,{},void 0)},void 0)})),Eg=()=>{const{search:e}=(0,B.TH)(),{code:t,error:i}=(0,z.parse)(e),n=(0,m.fz)(Wo),a=(0,m.fz)(sn),{authPageGoRedirect:r}=(0,E.qj)(vr);return(0,u.useEffect)((()=>{lr(),a.handleThirdGetToken({platform:"line",error_code:t?0:-1,error_message:String(i)}),t?(rr("line",{code:null==t?void 0:t.toString()}),window.opener?window.authDoneClose=!0:r({platform:"line"})):n.thirdPartyLoginResult({status:1,error_code:-1,error_desc:String(i)})}),[t,i,n,a,r]),(0,o.jsx)(Rg,{children:(0,o.jsx)(vi,{},void 0)},void 0)};var Ig;!function(e){e.PrivateNotifyShow="private_notify_show",e.PrivateNotifyClick="private_notify_click"}(Ig||(Ig={}));const Dg=e=>{$e.event("private_notify_click",e)};var zg,Bg;function Ng(){return Ng=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Ng.apply(this,arguments)}const Ug=function(e){return u.createElement("svg",Ng({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 50 50",width:"1em",height:"1em"},e),zg||(zg=u.createElement("g",{clipPath:"url(#icon_svg__clip0)"},u.createElement("path",{fill:"black",fillRule:"evenodd",d:"M15.029 13.695a7.618 7.618 0 1115.235 0 7.618 7.618 0 01-15.235 0zM22.646 4c-5.354 0-9.695 4.34-9.695 9.695 0 5.354 4.34 9.695 9.695 9.695s9.695-4.34 9.695-9.695c0-5.354-4.34-9.695-9.695-9.695zM5.081 43.861c1.066-8.393 8.375-14.921 17.274-14.921 1.813 0 3.56.271 5.201.774.53.162 1.104-.101 1.295-.62l.03-.082c.19-.517-.074-1.093-.6-1.258a19.807 19.807 0 00-5.926-.901c-9.964 0-18.21 7.351-19.352 16.87-.066.548.353 1.025.904 1.062l.08.006c.551.037 1.025-.381 1.094-.93zm28.672-9.39H30.61a.692.692 0 00-.692.692V45.55c0 .383.31.693.692.693h16.62c.383 0 .693-.31.693-.693V35.163a.692.692 0 00-.693-.693h-3.143-10.333zm-.373-2.078h-2.77a2.77 2.77 0 00-2.77 2.77V45.55a2.77 2.77 0 002.77 2.77h16.62A2.77 2.77 0 0050 45.55V35.163a2.77 2.77 0 00-2.77-2.77h-2.77v-2.77a5.54 5.54 0 10-11.08 0v2.77zm2.078 0h6.925v-2.77a3.463 3.463 0 10-6.925 0v2.77z",clipRule:"evenodd"}))),Bg||(Bg=u.createElement("defs",null,u.createElement("clipPath",{id:"icon_svg__clip0"},u.createElement("path",{fill:"white",d:"M0 0h50v50H0z"})))))},Hg=(0,ma.Z)("div",{target:"e6r3pim0"})((({theme:e})=>({margin:e.isMobile?"30px 32px 0":"80px auto 0",maxWidth:"400px"})),"label:DivContainer;"),Wg=(0,ma.Z)("div",{target:"e6r3pim1"})((({theme:e})=>({width:"80px",height:"80px",fontSize:"50px",margin:"24px auto",border:`1px solid ${e.colors.LineSecondary}`,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"})),"label:DivIcon;"),Gg=(0,ma.Z)("div",{target:"e6r3pim2"})((({theme:e})=>[Co({theme:e,fontWeight:"bold",fontFamily:"Sofia"}),{textAlign:"center",fontSize:"24px",lineHeight:"28px",marginBottom:"24px"}]),"label:DivTitle;"),Zg=(0,ma.Z)("div",{target:"e6r3pim3"})((({theme:e})=>[Co({theme:e,fontFamily:"Proxima",color:"TextSecondary"}),{fontSize:"16px",textAlign:"center",lineHeight:"22px",marginBottom:"12px"}]),"label:DivDescription;"),qg=(0,ma.Z)("span",{target:"e6r3pim4"})((({theme:e})=>[{fontSize:"16px",lineHeight:"22px",color:e.colors.Primary,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"}]),"label:SpanLinkText;"),Vg=()=>{const e=qt("WebApp_Login"),{handlePrivateConfirm:t}=(0,E.qj)(sa),i=(0,u.useCallback)((()=>{t(),Dg({result:"ok"})}),[t]),n=(0,u.useCallback)((()=>{Dg({result:"learn_more"})}),[]);return(0,u.useEffect)((()=>{$e.event("private_notify_show")}),[]),(0,o.jsxs)(Hg,{children:[(0,o.jsx)(Wg,{children:(0,o.jsx)(Ug,{},void 0)},void 0),(0,o.jsx)(Gg,{children:e("title_private_on")},void 0),(0,o.jsx)(Zg,{children:e("descrip_private_on_signup")},void 0),(0,o.jsx)(Qa,Object.assign({underline:!1,path:"https://support.tiktok.com/en/account-and-privacy/account-privacy-settings/making-your-account-public-or-private"},{children:(0,o.jsxs)(qg,Object.assign({onClick:n},{children:[e("link_learn_more_private_accounts_signup")," >"]}),void 0)}),void 0),(0,o.jsx)(us,Object.assign({onClick:i,bottonTheme:"text"},{children:e("button_signup_private_on")}),void 0)]},void 0)};var $g;!function(e){e.Week="unit_week",e.Day="unit_day",e.Hour="unit_hr",e.Minute="unit_min",e.Second="unit_sec"}($g||($g={}));const Qg=(0,ma.Z)("div",{target:"ermvtw20"})((({theme:e})=>({background:e.colors.BGPrimary,borderRadius:"8px",maxWidth:e.isMobile?"300px":"400px",padding:"0px 32px 32px",textAlign:"center"})),"label:DivContainer;"),Kg=(0,ma.Z)("h5",{target:"ermvtw21"})((({theme:e})=>[Co({theme:e,color:"TextPrimary",fontFamily:"Proxima",fontWeight:"bold"}),{fontSize:"20px",lineHeight:"24px"}]),"label:H5Title;"),Yg=(0,ma.Z)("p",{target:"ermvtw22"})([({theme:e})=>Co({theme:e,color:"TextPrimary",fontFamily:"Proxima"}),{lineHeight:"20px",margin:"24px 0",textAlign:"center"}],"label:PDesc;"),Jg=e=>{const t=qt("WebApp_Login"),{title:i,text:n,buttonText:a,visible:r,supportText:s}=e,{language:l}=Nt(ao((()=>["language"]),[])),d={marginTop:"16px"};return(0,o.jsx)(Fo,Object.assign({visible:r,maskCloseable:!1,onClose:e.onClose},{children:(0,o.jsxs)(Qg,{children:[i&&(0,o.jsx)(Kg,{children:t(i)},void 0),(0,o.jsx)(Yg,{children:t(n)},void 0),s&&(0,o.jsx)("a",Object.assign({href:`https://support.tiktok.com?lang=${l}`,target:"_blank",rel:"noopener noreferrer"},{children:(0,o.jsx)(us,Object.assign({style:d},{children:t(null!=a?a:"twosv_recover_pw_popup_btn")}),void 0)}),void 0),(0,o.jsx)(us,Object.assign({buttonTheme:"default",onClick:e.onClose,style:d},{children:t(null!=a?a:"OK")}),void 0)]},void 0)}),void 0)},Xg={inexistent:{title:"age_verify_login_inexistent",subTitle:"age_verify_login_inexistent_intro"},ineligible:{title:"age_verify_login_ineligible",subTitle:"age_verify_login_ineligible_intro"},twoStepVerifyBlock:{title:"twosv_login_sms_block_title",subTitle:"twosv_login_sms_block_content"},TwoStepBlockResetPwd:{title:"twosv_recover_pw_popup_title",subTitle:"twosv_recover_pw_popup_desc",supportText:"twosv_recover_pw_popup_btn"}},em=()=>{var e;const t=(0,B.k6)(),[{showAlertMessageType:i},{setShowAlertMessageType:n}]=(0,E.b7)(Zn),a=null===(e=(0,B.$B)(re.loginHome))||void 0===e?void 0:e.isExact,r=(0,u.useCallback)((()=>{n("");const{message:e}=(0,z.parse)(window.location.search),i=new RegExp(`&?message=${e}`);t.replace({pathname:re.loginHome,search:(window.location||{}).search.replace(i,"")})}),[t,n]);return(0,u.useEffect)((()=>{i&&!a&&t.push(re.loginHome)}),[i,t,a]),i?(0,o.jsx)(Jg,{supportText:Xg[i].supportText,visible:Boolean(i),title:Xg[i].title,text:Xg[i].subTitle,onClose:r},void 0):null},tm=(0,u.memo)((function(){var e,t,i,n;const a=(0,E.mp)(Zt);$l("login");const r=function(){const[{lang:e,hasLoaded:t},i]=(0,E.b7)(Gt,{selector:({lang:e,translations:t})=>{var i;return{lang:e,hasLoaded:Boolean(null===(i=t[e])||void 0===i?void 0:i.WebApp_Login)}},dependencies:[]}),{loadData:o}=i,{domain:n,teaDomain:a}=(0,E.mp)(Zt,{selector:e=>{var t,i,o,n;return{domain:null!==(i=null===(t=e.appContext)||void 0===t?void 0:t.domains.starling)&&void 0!==i?i:"https://starling-oversea.byteoversea.com",teaDomain:null!==(n=null===(o=e.appContext)||void 0===o?void 0:o.domains.tea)&&void 0!==n?n:"https://maliva-mcs.byteoversea.com"}},dependencies:[]});return(0,u.useEffect)((()=>{o({lang:e,namespaces:["WebApp_Login"],teaDomain:a,domain:n})}),[e,o,n,a]),t}(),s=(0,m.fz)(_n),l=(0,m.fz)(hn),d=null===(e=(0,B.$B)(re.loginHome))||void 0===e?void 0:e.isExact;!function(){const{twoStepResponse:e}=(0,E.mp)(ga),[{type:t},{setTwoStepVerifyRes:i,setTwoStepType:o}]=(0,E.b7)(gs),n=(0,B.k6)(),{pathname:a}=(0,B.TH)();(0,u.useEffect)((()=>{e&&i(e)}),[e,i]),(0,u.useEffect)((()=>{t&&`/login/2sv/${cs[t]}`!==a&&n.push(`/login/2sv/${cs[t]}`)}),[t,e]),(0,u.useEffect)((()=>()=>{o(void 0)}),[])}(),function(){const{isRegisterWithPrivateOn:e}=(0,E.mp)(sa),{success:t}=(0,E.mp)(ga),{redirectUrl:i}=(0,E.mp)(Zn),{success:o}=(0,E.mp)(pa),{language:n}=Nt(ao((()=>["language"]),[])),a=qt("WebApp_Login"),r=(0,B.k6)();(0,u.useEffect)((()=>{if(t||o){if(e)return void r.push(re.signupPrivateOn);Mn(a(a(2===t?"reactivate_toast":"Login Success"))),Ba(n,i)}}),[n,a,i,o,t,e,r])}(),function(){const e=(0,m.fz)(hr);(0,u.useEffect)((()=>{e.loadSdk()}),[e])}(),function(){const{user:e,language:t}=Nt(ao((()=>["user","language"]),[])),{redirectUrl:i,initialized:o}=(0,E.mp)(Zn),n=qt("WebApp_Login"),a=(0,m.fz)(Wo),r=[re.oauth,re.oauthLine],s=(0,B.$B)(r);(0,u.useEffect)((()=>{e&&!s&&o&&(Mn(n("You are logged in, no need to repeat")),a.setPlatform("repeatLogin"),a.loginSuccess({is_register:0}),Ba(t,i))}),[i,o])}(),Ss(),function(){const e=(0,m.fz)(vn),t=(0,B.k6)();(0,u.useEffect)((()=>{e.init(t)}),[t,e])}(),function(){const{hideHomePage:e}=Ma((()=>["hideHomePage"]),[]),t=(0,B.k6)();(0,u.useEffect)((()=>{e&&t.replace(re.loginPhoneOrEmail)}),[e,t])}();const[{initialized:c,ttpConfig:p,phoenix:g,hideHomePage:h},{init:_}]=(0,E.b7)(Zn),[{initial:v},{getComplianceSettings:b}]=(0,E.b7)(mo);return(0,u.useEffect)((()=>{a.appContext&&s.setAppContext(Object.assign(Object.assign({},a.appContext),{phoenix:g}))}),[a.appContext,s,g]),(0,u.useEffect)((()=>{var e,t;p&&l.setInitConfig({isSG:(null===(e=a.appContext)||void 0===e?void 0:e.sgOpen)||1180===(null===(t=a.appContext)||void 0===t?void 0:t.appId),ttpConfig:p,phoenix:g})}),[null===(t=a.appContext)||void 0===t?void 0:t.appId,null===(i=a.appContext)||void 0===i?void 0:i.sgOpen,p,g,l]),(0,u.useEffect)((()=>{!c&&_(),!v&&b()}),[]),!r||!c||h&&d?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(F.xB,{styles:yo},void 0),(0,o.jsx)(vi,{center:!0,style:{margin:"auto"}},void 0)]},void 0):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(B.rs,{children:[(0,o.jsx)(B.AW,{path:re.oauth,component:Fg},void 0),(0,o.jsx)(B.AW,{path:re.oauthLine,component:Eg},void 0),(0,o.jsx)(B.AW,{path:re.signupPrivateOn,component:Vg,exact:!0},void 0),(null===(n=a.appContext)||void 0===n?void 0:n.isMobile)?(0,o.jsx)(Mg,{},void 0):(0,o.jsx)(_p,{},void 0)]},void 0),(0,o.jsx)(bo,{appContext:a.appContext,slardarBid:tt},void 0),(0,o.jsx)(em,{},void 0)]},void 0)})),im=(0,Wi.Z)("div",{target:"e10win0d0"})((({theme:{colors:e}})=>[{display:"flex",justifyContent:"space-around",boxShadow:`0px 1px 1px ${e.ShadowPrimary}`,height:60,width:"100%",top:0,position:"fixed",alignItems:"center",background:e.BGPrimary,zIndex:1e3}]),"label:DivHeaderContainer;");i(19805);var om,nm=i(63811),am=i.n(nm),rm=i(80390),sm=i.n(rm),lm=i(12167);!function(e){e.LoadMore="load_more",e.SlideUp="video_slide_up",e.SlideDown="video_slide_down",e.EnterBrowserMode="feed_enter",e.HotSlideUp="homepage_hot_slide_up",e.HotSlideDown="homepage_hot_slide_down"}(om||(om={}));var dm,cm,pm,gm,mm,um;!function(e){e[e.HaveNothing=0]="HaveNothing",e[e.HaveMetaData=1]="HaveMetaData",e[e.HaveCurrentData=2]="HaveCurrentData",e[e.HaveFutureData=3]="HaveFutureData",e[e.HaveEnoughData=4]="HaveEnoughData"}(dm||(dm={})),function(e){e[e.PlayStop=0]="PlayStop",e[e.ResumePlaying=1]="ResumePlaying"}(cm||(cm={})),function(e){e[e.Public=0]="Public",e[e.Self=1]="Self",e[e.Friend=2]="Friend"}(pm||(pm={})),function(e){e.PlayQuality="video_play_quality",e.PlayEnded="video_play_end",e.PlayFailed="video_play_failed",e.BlockStart="video_block_start",e.Block="video_block",e.Request="video_request",e.RequestResponse="video_request_response",e.FirstFrame="first_feed_show_time"}(gm||(gm={})),function(e){e.FeedRequest="feed_request",e.FeedRequestResponse="feed_request_response"}(mm||(mm={})),function(e){e.LoadMore="load_more"}(um||(um={}));const hm={isPause:null,isVideoLoaded:!1,isFirstPlayReported:!1,isFirstPlayEndReported:!1,isInPlaybackStage:!1,triggerPlayTimestamp:0,firstTriggerPlayTimestamp:0,loadStartTimestamp:0,blockStartTimestamp:0,blockStartProgress:0,playingStartTimestamp:0,pauseStartTimestamp:0,totalPauseDuration:0,volume:0,muted:!0,mutedStateChange:!1},_m={0:"one_column",1:"three_column",2:"browser_mode",3:"large_video_mode",4:"video_detail"},vm={currentSrc:"",duration:0,error:null,currentTime:0,readyState:0,buffered:{start:()=>0,end:()=>0,length:0},volume:0,muted:!0,mutedStateChange:!1},bm=e=>{var t;return e?null!==(t=(0,z.parse)(e).lr)&&void 0!==t?t:"none":"unknown"};let ym=class{constructor(){this.innerStates=Object.assign({},hm),this.innerVideoAttributeStates=Object.assign({},vm),this.isFirstFrameReported=!1,this.currentVideoId="",this.setCurrentVideoId=e=>{this.currentVideoId=e},this.resetState=()=>{this.innerStates=Object.assign({},hm),this.currentVideoId="",this.isFirstFrameReported=!1,this.innerVideoAttributeStates=Object.assign({},vm)},this.resetStateWhenSlideChange=()=>{this.innerStates=Object.assign({},hm),this.innerVideoAttributeStates=Object.assign({},vm)},this.reset=(e,t)=>{this.currentVideoId!==e&&(this.playEndEvent(t),this.blockEndEvent(Object.assign(Object.assign({},t),{endType:0})),this.innerStates=Object.assign({},hm))},this.resetWhenSlideChange=e=>{this.playEndEvent(Object.assign(Object.assign({},e),this.innerVideoAttributeStates)),this.blockEndEvent(Object.assign(Object.assign(Object.assign({},e),{endType:0}),this.innerVideoAttributeStates)),this.innerVideoAttributeStates=Object.assign({},vm)},this.handlePlay=()=>{this.innerStates.triggerPlayTimestamp=Date.now();const{firstTriggerPlayTimestamp:e}=this.innerStates;e||(this.innerStates.firstTriggerPlayTimestamp=Date.now())},this.handlePause=e=>{const{id:t}=e,{playingStartTimestamp:i,isPause:o}=this.innerStates;t&&i&&!o&&(this.innerStates.pauseStartTimestamp=Date.now()),this.innerStates.isPause=!0},this.handleTimeUpdate=e=>{var t,i;const{triggerPlayTimestamp:o,isFirstPlayReported:n,pauseStartTimestamp:a}=this.innerStates,{id:r,authorId:s,playMode:l,currentTime:d=0,duration:c=0,bitrate:p,format:g,encodedType:m,videoQuality:u,encodeUserTag:h,codecType:_,definition:v,forFriend:b=!1,secret:y=!1,preload_time:f=-1,preload_size:x=-1,video_type:k="mp4",player_type:w="defaultPlayer",volume:C=0,muted:j=!0,buffered:S,currentSrc:L,error:P,readyState:A}=e;if(this.innerVideoAttributeStates.duration=c,this.innerVideoAttributeStates.currentTime=d,this.innerVideoAttributeStates.buffered=S,this.innerVideoAttributeStates.currentSrc=L,this.innerVideoAttributeStates.error=P,this.innerVideoAttributeStates.readyState=A,!(d<=0)){if(!n&&0!==o){const e=Date.now()-o-1e3*d,n={group_id:r,author_id:s,play_mode:null!==(t=_m[l])&&void 0!==t?t:"others",duration:Math.round(e),video_duration:Math.round(1e3*c),video_bitrate:p,video_format:g,codec_format:_,encoded_type:m,bitrate_quality:u,video_quality:u&&v?`${u}_${v}`:"",video_encodeUserTag:h,is_bytevc1:(null!=_?_:"").indexOf("h265")>-1?1:0,logo_type:null===(i=bm(L))||void 0===i?void 0:i.toString(),item_status:b?2:y?1:0,preload_time:f,preload_size:x,video_type:k,player_type:w,muted:j?1:0};$e.event("video_play_quality",n),this.innerStates.isFirstPlayReported=!0,this.innerStates.playingStartTimestamp=Date.now(),this.innerStates.volume=C,this.innerStates.muted=j}if(this.innerStates.mutedStateChange=this.innerStates.mutedStateChange||this.innerStates.muted!==j,this.innerStates.muted=j,!this.isFirstFrameReported&&performance&&this.firstFrameEvent(),this.innerStates.isPause){const e=a?Date.now()-a:0;this.innerStates.totalPauseDuration+=e}this.blockEndEvent(Object.assign(Object.assign({},e),{endType:1})),this.innerStates.isInPlaybackStage=!0,this.innerStates.isPause=!1}},this.handleEnded=()=>{this.innerStates.isInPlaybackStage=!1},this.handleError=e=>{var t,i;const{isVideoLoaded:o,isInPlaybackStage:n}=this.innerStates,{id:a,authorId:r,playMode:s,error:l,currentSrc:d="",bitrate:c=-1,format:p="",encodedType:g="",videoQuality:m="",encodeUserTag:u="",codecType:h="",forFriend:_=!1,secret:v=!1}=e,{code:b=0,message:y=""}=null!=l?l:{};if(o&&n){const e={group_id:a,author_id:r,play_mode:null!==(t=_m[s])&&void 0!==t?t:"others",error_code:String(b),error_info:y,play_url:d,video_bitrate:c,video_format:p,codec_format:h,encoded_type:g,bitrate_quality:m,video_encodeUserTag:u,is_bytevc1:h.indexOf("h265")>-1?1:0,logo_type:null===(i=bm(d))||void 0===i?void 0:i.toString(),item_status:_?2:v?1:0};$e.event("video_play_failed",e)}else this.responseEvent(e)},this.handleWaiting=e=>{var t;const{id:i,authorId:o,playMode:n,currentTime:a=0,duration:r=0,currentSrc:s,forFriend:l=!1,secret:d=!1}=e,{isInPlaybackStage:c,blockStartTimestamp:p,isPause:g}=this.innerStates;if(0!==a&&a!==r&&c&&!1===g&&0===p){const e={group_id:i,author_id:o,play_mode:null!==(t=_m[n])&&void 0!==t?t:"others",logo_type:bm(s),item_status:l?2:d?1:0};$e.event("video_block_start",e),this.innerStates.blockStartTimestamp=Date.now(),this.innerStates.blockStartProgress=1e3*a}},this.handleLoadStart=e=>{var t;const{id:i,authorId:o,playMode:n}=e,a={group_id:i,author_id:o,play_mode:null!==(t=_m[n])&&void 0!==t?t:"others"};$e.event("video_request",a),this.innerStates.loadStartTimestamp=Date.now()},this.handleLoadedData=e=>{this.responseEvent(e),this.innerStates.isVideoLoaded=!0},this.videoFeedRequestEvent=()=>{$e.event("feed_request",{request_method:"load_more"})},this.videoFeedResponseEvent=e=>{const{duration:t,list_length:i}=e,o={duration:t,is_success:i?"1":"0",request_method:"load_more",video_num:i};$e.event("feed_request_response",o)},this.firstFrameEvent=()=>{const e=performance.timeOrigin,t={feed_total:e?Math.round(Date.now()-e):-1};$e.event("first_feed_show_time",t),this.isFirstFrameReported=!0}}getCacheSize(e){return void 0!==e&&e.length>0?1e3*(e.end(0)-e.start(0)):0}blockEndEvent(e){var t,i;const{id:o,authorId:n,playMode:a,currentTime:r=0,bitrate:s,format:l,encodedType:d,videoQuality:c,encodeUserTag:p,codecType:g,endType:m,definition:u,currentSrc:h,forFriend:_=!1,secret:v=!1,video_type:b="mp4",should_filter:y=!1,player_type:f="defaultPlayer"}=e,{blockStartTimestamp:x,blockStartProgress:k,isInPlaybackStage:w,isVideoLoaded:C}=this.innerStates;if(C&&w&&0!==x&&(1e3*r!==k||0===m)){const e=Date.now()-x-(1e3*r-k),w={group_id:o,author_id:n,play_mode:null!==(t=_m[a])&&void 0!==t?t:"others",duration:Math.round(e),video_bitrate:s,video_format:l,codec_format:g,encoded_type:d,bitrate_quality:c,video_quality:c&&u?`${c}_${u}`:"",video_encodeUserTag:p,is_bytevc1:(null!=g?g:"").indexOf("h265")>-1?1:0,end_type:m,position:Math.round(1e3*r),logo_type:null===(i=bm(h))||void 0===i?void 0:i.toString(),item_status:_?2:v?1:0,video_type:b,player_type:f,should_filter:y?"1":"0"};$e.event("video_block",w),this.innerStates.blockStartTimestamp=0}}responseEvent(e){var t;const{loadStartTimestamp:i}=this.innerStates,{id:o,authorId:n,playMode:a,error:r,videoQuality:s,definition:l,currentSrc:d,forFriend:c=!1,secret:p=!1}=e,g=Date.now()-i,m={group_id:o,author_id:n,play_mode:null!==(t=_m[a])&&void 0!==t?t:"others",error_code:String(null==r?void 0:r.code),duration:g,is_success:r?"0":"1",video_quality:s&&l?`${s}_${l}`:"",logo_type:bm(d),item_status:c?2:p?1:0};$e.event("video_request_response",m)}playEndEvent(e){var t;const{isFirstPlayReported:i,isFirstPlayEndReported:o,playingStartTimestamp:n,totalPauseDuration:a,firstTriggerPlayTimestamp:r,volume:s}=this.innerStates;if(!o){const{id:o,authorId:l,playMode:d,buffered:c,duration:p=0,currentTime:g=0,readyState:m,bitrate:u,videoQuality:h,definition:_,currentSrc:v,forFriend:b=!1,secret:y=!1,preload_time:f=-1,preload_size:x=-1,volume:k=0,muted:w}=e,C=n?Date.now()-n-a:0,j={group_id:o,author_id:l,play_mode:null!==(t=_m[d])&&void 0!==t?t:"others",is_success:i?"1":"0",video_duration:isNaN(p)?0:Math.round(1e3*p),play_duration:Math.round(1e3*g),buffering:(null!=m?m:0)<=2?1:0,duration:C>=0?Math.round(C):0,wait_duration:n>0?null:Date.now()-r,cur_cache_duration:Math.round(this.getCacheSize(c)),video_bitrate:null!=u?u:-1,video_quality:h&&_?`${h}_${_}`:"",local_time_ms:Date.now(),logo_type:bm(v),item_status:b?2:y?1:0,preload_time:f,preload_size:x,volume_level:Number(k.toFixed(4)),volume_change:i?Number((k-s).toFixed(4)):0,muted:w?1:0,click_mute:this.innerStates.mutedStateChange?w?2:1:0};$e.event("video_play_end",j),this.innerStates.isFirstPlayEndReported=!0}}};ym=(0,x.__decorate)([(0,U.G)()],ym);const fm=()=>'""',xm=()=>{},km=()=>{};class wm{constructor(e,t){this.key=e,this.type=t,this.storageObject=null,this.getter=fm,this.setter=xm,this.remove=km,this.getter="local"===t?me:_e,this.setter="local"===t?ue:ve,this.remove="local"===t?he:be}get storage(){return this.storageObject||(this.storageObject=this.tryParseJson(this.getter(this.key,"{}"))),this.storageObject}setItem(e,t){this.storage[e]=t,this.setter(this.key,JSON.stringify(this.storage))}getItem(e){return this.storage[e]}removeItem(e){this.storage[e]=void 0,this.setter(this.key,JSON.stringify(this.storage))}removeAll(){this.storageObject=null,this.remove(this.key)}tryParseJson(e){try{return JSON.parse(e)}catch(e){return{}}}}new wm("frequency-control-config","local");const Cm=new wm("webapp-common-config","local");var jm;new wm("webapp-common-config","session"),function(e){e.Manual="manual",e.BrowserMode="browser_mode"}(jm||(jm={})),new wm("webapp-video-mute","local"),new wm("keyboard-shortcut-config","local"),new wm("webapp-comment-url","session");let Sm=class{constructor(e){this.fetch=e}postUserSetting(e){return this.fetch.post("/api/user/set/settings/",{query:Object.assign(Object.assign({},e),{tt_csrf_token:this.fetch.csrfToken}),headers:{[je]:this.fetch.csrfToken}})}};Sm=(0,x.__decorate)([(0,U.G)(),(0,x.__metadata)("design:paramtypes",[ft])],Sm);let Lm=class extends Pt.D{constructor(e,t){super(),this.service=e,this.appContext=t,this.defaultState={photoSensitiveVideosSetting:Cm.getItem("photo_sensitive_video_setting"),hideMaskTempVideoId:"",loginStatePhotoSensitiveVideosSetting:void 0,hasClosedVideoMask:!1}}setSkipPhotoSensitiveAction(e,t){const{skipPhotoSensitiveVideo:i,login:o=!1}=t,n=i?1:2;e.photoSensitiveVideosSetting=n,o&&(e.loginStatePhotoSensitiveVideosSetting=n)}setHideMaskTempVideoId(e,t){e.hideMaskTempVideoId=t}setHasClosedMask(e,t){e.hasClosedVideoMask=t}setPhotoSensitiveVideosSetting(e,t){e.photoSensitiveVideosSetting=t}setLoginStatePhotoSensitiveVideosSetting(e,t){e.loginStatePhotoSensitiveVideosSetting=t}setSkipPhotoSensitive(e){return e.pipe((0,Ft.M)(this.appContext.state$),(0,Ae.z)((([e,{appContext:t}])=>{const i=e?1:2;return Cm.setItem("photo_sensitive_video_setting",i),(null==t?void 0:t.user)?this.service.postUserSetting({field:"photosensitive_videos_setting",value:i}).pipe((0,Me.U)((({status_code:t})=>0===t?this.getActions().setSkipPhotoSensitiveAction({skipPhotoSensitiveVideo:e,login:!0}):this.noop()))):(0,q.of)(this.getActions().setSkipPhotoSensitiveAction({skipPhotoSensitiveVideo:e}))})))}};(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],Lm.prototype,"setSkipPhotoSensitiveAction",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,String]),(0,x.__metadata)("design:returntype",void 0)],Lm.prototype,"setHideMaskTempVideoId",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Boolean]),(0,x.__metadata)("design:returntype",void 0)],Lm.prototype,"setHasClosedMask",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Number]),(0,x.__metadata)("design:returntype",void 0)],Lm.prototype,"setPhotoSensitiveVideosSetting",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Number]),(0,x.__metadata)("design:returntype",void 0)],Lm.prototype,"setLoginStatePhotoSensitiveVideosSetting",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],Lm.prototype,"setSkipPhotoSensitive",null),Lm=(0,x.__decorate)([(0,Tt.Y)("VideoMaskModule"),(0,x.__metadata)("design:paramtypes",[Sm,Zt])],Lm);var Pm,Am=i(5238),Tm=i(96033),Om=i(45784),Mm=i(57709);!function(e){e.Like="like",e.LikeCancel="like_cancel"}(Pm||(Pm={}));const Rm=(e,t)=>{const i=1===t?"like":"like_cancel";$e.event(i,e)};var Fm=i(49847);const Em=({msg:e,shouldShowMsg:t=!1,prevent:i=!0,callback:o})=>n=>n.pipe((0,Oe.K)((n=>(t&&console.error("Effect error: ",null!=e?e:n),null==o||o(),i?Mt.E:(0,Fm._)((()=>n))))));var Im,Dm,zm=i(19818),Bm=i.n(zm),Nm=i(64145),Um=i.n(Nm),Hm=i(50986);!function(e){e.Follow="follow",e.Unfollow="unfollow"}(Im||(Im={})),function(e){e.FollowButton="follow_button",e.Card="card",e.DirectButton="direct_btn",e.SuggestedAccountButton="suggested_account_btn",e.ToolBarButton="toolbar_btn",e.Notice="notice"}(Dm||(Dm={}));let Wm=class{constructor(e){this.fetch=e}getUserDetail(e){return this.fetch.get("/api/user/detail/",{query:e})}postCommitFollowUser(e){return this.fetch.post("/api/commit/follow/user/",{query:Object.assign(Object.assign({},e),{fromWeb:1}),baseUrlType:3,headers:{[je]:this.fetch.csrfToken}})}blockUser(e){return this.fetch.post("/api/user/block/",{query:Object.assign(Object.assign({},e),{source:3}),baseUrlType:3,headers:{[je]:this.fetch.csrfToken}})}};var Gm;function Zm({relation:e,handleIsUnfollow:t,handleIsFollow:i}){switch(e){case 0:case-1:case 4:case 5:return t();default:return i()}}function qm({current:e,targetUser:t}){const i=function(e){var t;return Zm({relation:null!==(t=e.relation)&&void 0!==t?t:-1,handleIsUnfollow:()=>{var t;return e.privateAccount?1:(null===(t=e.extraInfo)||void 0===t?void 0:t.followed)?2:0},handleIsFollow:()=>3})}(t);switch(i){case 3:return 0;case 0:return Zm({relation:e,handleIsFollow:()=>e,handleIsUnfollow:()=>1});case 1:return Zm({relation:e,handleIsFollow:()=>e,handleIsUnfollow:()=>3});case 2:return Zm({relation:e,handleIsFollow:()=>e,handleIsUnfollow:()=>2})}}function Vm(e,t){return 2===e||5!==e&&t}Wm=(0,x.__decorate)([(0,U.G)(),(0,x.__metadata)("design:paramtypes",[ft])],Wm),function(e){e[e.FollowNormal=0]="FollowNormal",e[e.FollowPrivate=1]="FollowPrivate",e[e.FollowFollower=2]="FollowFollower",e[e.Unfollow=3]="Unfollow"}(Gm||(Gm={}));const $m=["roomId"],Qm=["uniqueId","avatarThumb","nickname","signature"];let Km=class extends Pt.D{constructor(e,t){super(),this.service=e,this.t=t,this.defaultState={users:{},stats:{}}}multiSetUser(e,t){const i={};return t.forEach((t=>{i[t.uniqueId]=this.getUpdatedUser(e.users[t.uniqueId],t)})),Object.assign(Object.assign({},e),{users:Object.assign(Object.assign({},e.users),i)})}setUser(e,t){return Object.assign(Object.assign({},e),{users:Object.assign(Object.assign({},e.users),{[t.uniqueId]:this.getUpdatedUser(e.users[t.uniqueId],t,!0)})})}setUserRelation(e,{uniqueId:t,relation:i,shouldUpdateFollowed:o}){var n;const a=e.users[t];a&&(a.relation=i,o&&(a.extraInfo=Object.assign(Object.assign({},a.extraInfo),{followed:Vm(i,null===(n=a.extraInfo)||void 0===n?void 0:n.followed)})))}setUserStats(e,t){const{uniqueId:i,stats:o}=t;e.stats[i]=this.getUpdatedUserStats(e.stats[i],o)}multiSetUserStats(e,t){t.forEach((({uniqueId:t,stats:i})=>{e.stats[t]=i}))}getUserDetail(e){return e.pipe((0,zo.w)((e=>this.service.getUserDetail(e).pipe((0,Te.b)((e=>{(0!==e.statusCode&&10222!==e.statusCode||!e.userInfo)&&console.warn("Get user detail failed for getting wrong response")})),(0,Q.z)((e=>0!==e.statusCode&&10222!==e.statusCode||!e.userInfo?Mt.E:(0,q.of)(this.getActions().setUser(Object.assign(Object.assign({},e.userInfo.user),{extraInfo:{statusCode:e.statusCode}})),this.getActions().setUserStats({stats:Object.assign(Object.assign({},e.userInfo.stats),{needFix:!1}),uniqueId:e.userInfo.user.uniqueId})))),Em({})))))}postCommitFollowUser(e){return e.pipe((0,Tm.v)((({uniqueId:e})=>e)),(0,Q.z)((e=>e.pipe((0,Ft.M)(this.state$),(0,Me.U)((([e,t])=>{const i=t.users[e.uniqueId],{id:o,secUid:n="",relation:a=-1}=i,r=function(e){return Zm({relation:e,handleIsUnfollow:()=>1,handleIsFollow:()=>0})}(a),s={type:r,user_id:o,sec_user_id:n,from:18,channel_id:0,from_pre:0},{uniqueId:l,group_id:d,enter_method:c="click_direct_btn",action_position:p}=e;return{query:s,type:r,group_id:d,enter_method:c,action_position:p,restReportParams:(0,x.__rest)(e,["uniqueId","group_id","enter_method","action_position"]),id:o,uniqueId:l,relation:a,targetUser:i}})),(0,Om.g)("type"),(0,zo.w)((({query:e,group_id:t,enter_method:i,action_position:o,restReportParams:n,id:a,uniqueId:r,relation:s,targetUser:l})=>this.service.postCommitFollowUser(e).pipe((0,Te.b)((({status_code:r,follow_status:s})=>{24===r?On.open({content:this.t("inbox_follow_failed_banned"),duration:3,widthType:"half"}):-1===r?On.open({content:this.t("inbox_follow_failed_noconnection"),duration:3,widthType:"half"}):0!==r&&On.open({content:this.t("inbox_follow_failed_other"),duration:3,widthType:"half"}),((e,t)=>{const i=0===t?"unfollow":"follow";$e.event(i,e)})(Object.assign(Object.assign({},n),{status_code:r,follow_status:s,group_id:t,enter_method:i,action_position:o,to_user_id:a,author_id:a,follow_type:2===s?"mutual":"single",tab_name:null,is_private:4===s?1:0}),e.type)})),(0,Me.U)((({follow_status:e,status_code:t})=>0===t?this.getActions().setUserRelation({uniqueId:r,relation:zt[e],shouldUpdateFollowed:!0}):this.getActions().setUserRelation({uniqueId:r,relation:s}))),(0,Et.O)(this.getActions().setUserRelation({uniqueId:r,relation:qm({current:s,targetUser:l})})),Em({}))))))))}blockOrUnblockUser(e){return e.pipe((0,Ae.z)((({secUid:e,isBlock:t,uniqueId:i})=>this.service.blockUser({sec_user_id:null!=e?e:"",block_type:t?0:1}).pipe((0,Te.b)((({status_code:e})=>{0===e&&On.open({content:this.t(t?"webapp_mig_unblocked":"webapp_mig_blocked"),duration:3})})),(0,Me.U)((({status_code:e})=>0===e?this.getActions().setUserRelation({uniqueId:i,relation:t?0:4}):this.noop())),Em({})))))}getLiveStatus(e){return e.pipe((0,zo.w)((()=>(0,Hm.F)(6e5).pipe((0,Ft.M)(this.state$),(0,Me.U)((([e,{users:t}])=>Object.values(t).filter((e=>!!(null==e?void 0:e.roomId))))),(0,Q.z)((e=>(0,q.of)(...e.map((e=>this.getActions().getUserDetail({secUid:null==e?void 0:e.secUid}))))))))))}getUpdatedUser(e,t,i){var o,n;if(!e)return t;const a=null!==(o=t.relation)&&void 0!==o?o:e.relation;return Um()({},e,t,{extraInfo:{followed:Vm(a,null===(n=e.extraInfo)||void 0===n?void 0:n.followed)}},((e,t,o)=>!$m.includes(o)&&Bm()(t)||!i&&Qm.includes(o)?e:"uniqueIdModifyTime"!==o&&"ttSeller"!==o||t?void 0:e))}getUpdatedUserStats(e,t){return t}};(0,x.__decorate)([(0,At.j)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Array]),(0,x.__metadata)("design:returntype",void 0)],Km.prototype,"multiSetUser",null),(0,x.__decorate)([(0,At.j)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],Km.prototype,"setUser",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],Km.prototype,"setUserRelation",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],Km.prototype,"setUserStats",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Array]),(0,x.__metadata)("design:returntype",void 0)],Km.prototype,"multiSetUserStats",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],Km.prototype,"getUserDetail",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],Km.prototype,"postCommitFollowUser",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],Km.prototype,"blockOrUnblockUser",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],Km.prototype,"getLiveStatus",null),Km=(0,x.__decorate)([(0,Tt.Y)("UserModule"),(0,x.__param)(1,(0,Eo.t)(_)),(0,x.__metadata)("design:paramtypes",[Wm,Function])],Km);let Ym=class{constructor(e){this.fetch=e}postLikeVideo(e){return this.fetch.post("/api/commit/item/digg/",{query:e,baseUrlType:7,headers:{[je]:this.fetch.csrfToken}})}};var Jm;Ym=(0,x.__decorate)([(0,U.G)(),(0,x.__metadata)("design:paramtypes",[ft])],Ym),function(e){e.Public="1",e.Private="2",e.Friends="3"}(Jm||(Jm={}));let Xm=class extends Pt.D{constructor(e,t,i){super(),this.service=e,this.userModule=t,this.t=i,this.defaultState={}}setItem(e,t){var i,o,n,a,r,s,l;e[t.id]=Object.assign(Object.assign({},t),{nickname:null===(i=t.author)||void 0===i?void 0:i.nickname,author:null===(o=t.author)||void 0===o?void 0:o.uniqueId,authorId:null===(n=t.author)||void 0===n?void 0:n.id,authorSecId:null===(a=t.author)||void 0===a?void 0:a.secUid,avatarThumb:null===(r=t.author)||void 0===r?void 0:r.avatarThumb,downloadSetting:null===(s=t.author)||void 0===s?void 0:s.downloadSetting,authorPrivate:null===(l=t.author)||void 0===l?void 0:l.privateAccount})}updateItem(e,t){e[t.id]&&(e[t.id]=W()(e[t.id],t))}multiSetItem(e,t){t.forEach((t=>this.setItem(e,t)))}setLike(e,t){const{id:i,liked:o,count:n}=t,a=e[i];a&&(a.digged=o,a.stats&&(a.stats.diggCount=n))}setCommentCount(e,t){const{id:i,commentCount:o}=t,n=e[i];(null==n?void 0:n.stats)&&(n.stats.commentCount=o)}reduceOrIncreaseCommentCount(e,t){const{id:i,isReduce:o,min:n=0}=t,a=e[i];if(null==a?void 0:a.stats){const e=o?Math.max(n,a.stats.commentCount-1):a.stats.commentCount+1;a.stats.commentCount=e}}addItems(e){const t=e.filter((e=>Boolean(e.author))).map((({author:e})=>e));return[this.userModule.getActions().multiSetUser(t),this.getActions().multiSetItem(e)]}postLikeVideo(e){return e.pipe((0,Tm.v)((({id:e})=>e)),(0,Q.z)((e=>{const t=new Am.X(0);return e.pipe((0,Ft.M)(this.state$,this.userModule.state$,t),(0,Q.z)((([e,t,i,o])=>{var n,a,r;const s=t[e.id],l=i.users[null!==(n=null==s?void 0:s.author)&&void 0!==n?n:""],{digged:d,stats:c}=s,{id:p,forceLike:g,enter_method:m="click",channel_id:u}=e,h=(0,x.__rest)(e,["id","forceLike","enter_method","channel_id"]),_=null!==(a=null==c?void 0:c.diggCount)&&void 0!==a?a:0,v={aweme_id:p,channel_id:u,type:g?1:d?0:1};return g&&d?Mt.E:(0,q.of)({query:v,enter_method:m,diggCount:_,digged:d,author_id:null!==(r=null==l?void 0:l.id)&&void 0!==r?r:"",group_id:s.id,restReportParams:h,changeKey:`${v.type}_${o}`})})),(0,Om.g)("changeKey"),(0,zo.w)((({query:e,enter_method:i,diggCount:o,author_id:n,group_id:a,digged:r,restReportParams:s})=>{let l=!1;return this.service.postLikeVideo(e).pipe((0,Oe.K)((()=>(0,q.of)({status_code:-1}))),(0,Te.b)((({status_code:t,status_msg:o,log_pb:r={}})=>{2150!==t&&2210!==t||o&&On.open({content:this.t(o),duration:3,widthType:"half"}),l=!0,Rm(Object.assign({group_id:a,author_id:n,log_pb:r,enter_method:i},s),e.type)})),(0,Mm.x)((()=>{l||Rm(Object.assign({group_id:a,author_id:n,log_pb:{},enter_method:i},s),e.type)})),(0,Q.z)((i=>{const{status_code:n,is_digg:s}=i;return 0!==n||s===e.type?(0,zr.H)(3e3).pipe((0,Me.U)((()=>this.getActions().setLike({id:a,liked:r,count:o}))),(0,Mm.x)((()=>{const e=t.getValue();t.next(e+1)}))):(0,q.of)(this.noop())})),(0,Et.O)(this.getActions().setLike({id:a,liked:!r,count:r?Math.max(0,o-1):o+1})),Em({}))})))})))}setItemPrivateState(e,t){const{id:i,visibility:o}=t,n=e[i];if(!n)return e;n.forFriend="3"===o,n.secret="2"===o}setDeleteVideo(e,t){e[t]&&(e[t]=void 0)}};(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],Xm.prototype,"setItem",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],Xm.prototype,"updateItem",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Array]),(0,x.__metadata)("design:returntype",void 0)],Xm.prototype,"multiSetItem",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],Xm.prototype,"setLike",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],Xm.prototype,"setCommentCount",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],Xm.prototype,"reduceOrIncreaseCommentCount",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],Xm.prototype,"postLikeVideo",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],Xm.prototype,"setItemPrivateState",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,String]),(0,x.__metadata)("design:returntype",void 0)],Xm.prototype,"setDeleteVideo",null),Xm=(0,x.__decorate)([(0,Tt.Y)("ItemModule"),(0,x.__param)(2,(0,Eo.t)(_)),(0,x.__metadata)("design:paramtypes",[Ym,Km,Function])],Xm);const eu={provide:new h.O("FirstVideoCover"),useValue:ge()};let tu=class{constructor(e){this.fetch=e}getRecommendList(e){return this.fetch.get("/api/recommend/item_list/",{query:e,baseUrlType:2})}getTopicList(e){return this.fetch.get("/api/topic/item_list/",{query:e,baseUrlType:2})}getFollowingList(e){return this.fetch.get("/api/following/item_list/",{query:e,baseUrlType:2})}getMusicList(e){return this.fetch.get("/api/music/item_list/",{query:e,baseUrlType:2})}getQuestionList(e){return this.fetch.get("/api/question/item_list/",{query:e,baseUrlType:2})}getChallengeList(e){return this.fetch.get("/api/challenge/item_list/",{query:e,baseUrlType:2})}getUserPostList(e){return this.fetch.get("/api/post/item_list/",{query:e,baseUrlType:2})}getUserLikedList(e){return this.fetch.get("/api/favorite/item_list/",{query:e,baseUrlType:2})}};var iu;tu=(0,x.__decorate)([(0,U.G)({providers:[eu]}),(0,x.__metadata)("design:paramtypes",[ft])],tu),function(e){e.ForYou="foryou",e.Challenge="challenge",e.Following="following",e.Video="video",e.Music="music",e.User="user",e.UserPost="user-post",e.UserLiked="user-liked",e.SearchTop="search_top",e.SearchVideo="search_video",e.Question="question",e.Playlist="playlist",e.Topic="topic",e.LiveEvent="live_event",e.VideoPlaylist="video_playlist",e.Sticker="sticker",e.Messages="messages",e.Discover="discover"}(iu||(iu={})),Object.freeze({statusCode:0,loading:!0,list:[],browserList:[],hasMore:!0,cursor:"0",preloadList:[]});let ou=-1;let nu=class extends Pt.D{constructor(e,t,i,o,n,a,r){super(),this.service=e,this.item=t,this.videoQualityReporter=i,this.appContext=o,this.videoMask=n,this.t=a,this.getFirstVideoCover=r,this.defaultState={},this.createItemListErrorCatcher=e=>t=>t.pipe((0,Oe.K)((t=>(On.destroy(),On.open({content:this.t("server_error_title"),duration:3,widthType:"padding"}),null==e||e(t),(0,q.of)({statusCode:-1}))))),this.getBrowserList=({list:e})=>e.reduce(((e,{id:t,showNotPass:i,takeDown:o})=>(i||6===o||e.push(t),e)),[])}resetItemList(e,t){const{key:i,hasMore:o=!0,loading:n=!0,cursor:a="0"}=t;e[i]={list:[],browserList:[],loading:n,statusCode:0,hasMore:o,cursor:a,preloadList:[]}}addItemList(e,t){var i;const{key:o,list:n,statusCode:a=0,hasMore:r,cursor:s,level:l,preloadList:d}=t,c="topic"===o||"messages"===o;e[o]||(e[o]={list:[],browserList:[],loading:!1,statusCode:a,hasMore:Boolean(r),cursor:s,preloadList:[]});const p=e[o].list,g=sm()(n,"id").filter((e=>!p.includes(e.id))),m=am()(e[o].list,g.map((({id:e})=>e)));e[o].list=c?p.concat(n.map((({id:e})=>e))):m,e[o].browserList=c?e[o].browserList.concat(this.getBrowserList({list:n})):am()(e[o].browserList,this.getBrowserList({list:g})),e[o].statusCode=a,e[o].hasMore=r,e[o].cursor=s,e[o].level=l,e[o].preloadList=(null!==(i=e[o].preloadList)&&void 0!==i?i:[]).concat(null!=d?d:[])}setItemListById(e,t){const{key:i,list:o,statusCode:n=0,hasMore:a=!0,cursor:r,level:s}=t;e[i]||(e[i]={list:[],browserList:[],loading:!1,statusCode:n,hasMore:Boolean(a),cursor:r,preloadList:[]}),e[i].list=o,e[i].browserList=o,e[i].statusCode=n,e[i].hasMore=a,e[i].cursor=r,e[i].level=s}setLoading(e,t){const{loading:i,key:o}=t;e[o]||(e[o]={list:[],browserList:[],loading:i,statusCode:0,hasMore:!0,cursor:"0"}),e[o].loading=i}setListKeyword(e,t){const{keyword:i,key:o}=t;e[o]||(e[o]={keyword:i,list:[],browserList:[],loading:!1,statusCode:0,hasMore:!0,cursor:"0"}),e[o].keyword=i}getRecommendList(e){return e.pipe((0,Q.z)((e=>this.getRecommendList$(e).pipe((0,It.l)(this.terminate())))))}getRecommendList$(e){return(0,q.of)(e).pipe((0,Ae.z)((({itemId:e,key:t,disableReport:i})=>(0,q.of)(null).pipe((0,Te.b)((()=>{i||(ou=Date.now(),this.videoQualityReporter.videoFeedRequestEvent())})),(0,Q.z)((()=>this.service.getRecommendList({aid:St,count:30,insertedItemID:e}))),(0,Re.V)(3e4),(0,Te.b)((e=>{var t,o;i||this.videoQualityReporter.videoFeedResponseEvent({duration:Date.now()-ou,list_length:null!==(o=null===(t=e.itemList)||void 0===t?void 0:t.length)&&void 0!==o?o:0})})),this.createItemListErrorCatcher(),this.handleListData(t)))))}getTopicList(e){return e.pipe((0,zo.w)((({topic:e,language:t})=>this.service.getTopicList({topic:e,language:t,count:9,aid:St}).pipe((0,Me.U)((e=>Object.assign(Object.assign({},e),{hasMore:!0}))),this.createItemListErrorCatcher(),this.handleListData("topic"),(0,It.l)(this.terminate())))))}getFollowingList(e){return e.pipe((0,Ft.M)(this.state$),(0,Ae.z)((([{language:e,pullType:t=1},i])=>{var o;const{cursor:n="",level:a=1}=null!==(o=i.following)&&void 0!==o?o:{};return this.service.getFollowingList({aid:St,count:9,language:e,cursor:n,pullType:t,level:a}).pipe(this.createItemListErrorCatcher(),this.handleListData("following"))})))}getMusicList(e){return e.pipe((0,Q.z)((e=>this.getMusicList$(e))))}getMusicList$(e){return(0,q.of)(e).pipe((0,Ft.M)(this.state$),(0,Ae.z)((([{musicID:e,language:t},i])=>{var o,n;return this.service.getMusicList({musicID:e,language:t,cursor:null!==(n=null===(o=i.music)||void 0===o?void 0:o.cursor)&&void 0!==n?n:"0",aid:St,count:30}).pipe(this.createItemListErrorCatcher(),this.handleListData("music"))})))}getQuestionList(e){return e.pipe((0,Q.z)((e=>this.getQuestionList$(e))))}getQuestionList$(e){return(0,q.of)(e).pipe((0,Ft.M)(this.state$),(0,Ae.z)((([{questionID:e,language:t},i])=>{var o,n;return this.service.getQuestionList({questionID:e,language:t,cursor:null!==(n=null===(o=i.question)||void 0===o?void 0:o.cursor)&&void 0!==n?n:"0",aid:St,count:30}).pipe(this.createItemListErrorCatcher(),this.handleListData("question"))})))}getChallengeList(e){return e.pipe((0,Q.z)((e=>this.getChallengeList$(e))))}getChallengeList$(e){return(0,q.of)(e).pipe((0,Ft.M)(this.state$),(0,Ae.z)((([{challengeID:e,language:t="en"},i])=>{var o,n;return this.service.getChallengeList({challengeID:e,language:t,cursor:null!==(n=null===(o=i.challenge)||void 0===o?void 0:o.cursor)&&void 0!==n?n:"0",aid:St,count:30}).pipe(this.createItemListErrorCatcher(),this.handleListData("challenge"))})))}getUserVideoList(e){return e.pipe((0,Q.z)((e=>this.getUserVideoList$(e))))}getUserVideoList$(e){return(0,q.of)(e).pipe((0,Ft.M)(this.state$),(0,zo.w)((([{secUid:e,language:t,key:i,userId:o},n])=>{var a,r;const s={secUid:e,aid:St,count:30,cursor:null!==(r=null===(a=n[i])||void 0===a?void 0:a.cursor)&&void 0!==r?r:"0",language:t,userId:o};return("user-post"===i?this.service.getUserPostList(s):this.service.getUserLikedList(s)).pipe(this.createItemListErrorCatcher(),this.handleListData(i,{secUid:e}))})))}setDeleteVideo(e,t){for(const i of Object.keys(e)){const o=e[i];if(o){const n=o.list.filter((e=>e!==t));e[i].list=n,e[i].browserList=o.browserList.filter((e=>e!==t))}}}setList(e){return e.pipe((0,Ft.M)(this.state$,this.appContext.state$,this.videoMask.state$),(0,Te.b)((([{key:e,response:t,disableReportMore:i=!1},o])=>{var n,a,r,s;(null!==(a=null===(n=o[e])||void 0===n?void 0:n.list)&&void 0!==a?a:[]).length&&!i&&(s={is_success:(null===(r=t.itemList)||void 0===r?void 0:r.length)?1:0,error_code:t.statusCode},$e.event("load_more",s))})),(0,Me.U)((([{key:e,response:t,otherInfo:i},o,n,a])=>{var r,s;const{itemList:l=[]}=t,{sgOpen:d,user:c}=null!==(r=n.appContext)&&void 0!==r?r:{};return 1!==(null==c?void 0:c.photoSensitiveVideosSetting)&&(c||1!==a.photoSensitiveVideosSetting)||"user-post"===e&&(null==c?void 0:c.secUid)===(null==i?void 0:i.secUid)||!("video"!==e||l.length>1)||(t.itemList=l.filter((e=>4!==(null==e?void 0:e.maskType)))),null===(s=t.itemList)||void 0===s||s.forEach((e=>{((e,t)=>{if((e=>{const{vl1:t,showNotPass:i}=null!=e?e:{};return Boolean(t&&!i)})(e)&&!e.forFriend||e.scheduleTime){const i=e.takeDown?"":e.video.cover;if(!/\/node-a\/video\/playsv/.test(i)){const o=(({src:e,sgOpen:t})=>{const i=/^https?:\/\/[a-zA-Z0-9-]+-sg/.test(e)||t?"t.tiktok.com":"m.tiktok.com";return(0,z.stringifyUrl)({url:`https://${i}/node-a/video/playsv`,query:{play_url:e}})})({src:i,sgOpen:t});e.video.cover=o}}})(e,d)})),{key:e,response:t}})),(0,Te.b)((({response:e})=>{})),(0,Q.z)((({key:e,response:t})=>{const{itemList:i=[],statusCode:o=0,hasMore:n=!1,cursor:a="0",level:r}=t,s=i.map((e=>{var t,i,o,n;return{url:null!==(i=null===(t=e.video)||void 0===t?void 0:t.playAddr)&&void 0!==i?i:"",id:null!==(n=null===(o=e.video)||void 0===o?void 0:o.id)&&void 0!==n?n:""}}));return 0===o||10404===o?(0,q.of)(...this.item.addItems(i),this.getActions().addItemList({key:e,list:i,statusCode:o,hasMore:n,cursor:a,level:r,preloadList:s})):(0,q.of)(this.getActions().addItemList({key:e,list:[],statusCode:o,hasMore:!0,preloadList:s}))})))}handleListData(e,t){return i=>i.pipe((0,Re.V)(3e4),(0,Me.U)((i=>this.getActions().setList({key:e,response:i,otherInfo:t}))),(0,Et.O)(this.getActions().setLoading({key:e,loading:!0})),(0,It.l)(this.getActions().setLoading({key:e,loading:!1})),(0,lm.R)(this.dispose$))}};var au;(0,x.__decorate)([(0,At.cQ)(),(0,x.__metadata)("design:type",$.y)],nu.prototype,"dispose$",void 0),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],nu.prototype,"resetItemList",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],nu.prototype,"addItemList",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],nu.prototype,"setItemListById",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],nu.prototype,"setLoading",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,Object]),(0,x.__metadata)("design:returntype",void 0)],nu.prototype,"setListKeyword",null),(0,x.__decorate)([(0,At.Qm)({payloadGetter:1,skipFirstClientDispatch:!1}),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],nu.prototype,"getRecommendList",null),(0,x.__decorate)([(0,At.Qm)({payloadGetter:1,skipFirstClientDispatch:!0}),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],nu.prototype,"getTopicList",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],nu.prototype,"getFollowingList",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],nu.prototype,"getMusicList",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],nu.prototype,"getQuestionList",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],nu.prototype,"getChallengeList",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],nu.prototype,"getUserVideoList",null),(0,x.__decorate)([(0,At.lF)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[Object,String]),(0,x.__metadata)("design:returntype",void 0)],nu.prototype,"setDeleteVideo",null),(0,x.__decorate)([(0,At.Qm)(),(0,x.__metadata)("design:type",Function),(0,x.__metadata)("design:paramtypes",[$.y]),(0,x.__metadata)("design:returntype",void 0)],nu.prototype,"setList",null),nu=(0,x.__decorate)([(0,Tt.Y)("ItemList"),(0,x.__param)(5,(0,Eo.t)(_)),(0,x.__param)(6,(0,Eo.t)(eu.provide)),(0,x.__metadata)("design:paramtypes",[tu,Xm,ym,Zt,Lm,Function,Function])],nu),function(e){e.Logo="click_logo",e.Click="click_navigation_bar",e.ClickHamburgerMenu="click_hamburger_menu"}(au||(au={}));var ru=i(73487);const su=(0,u.memo)((0,u.forwardRef)((function(e,t){var i,{forceSSR:n=!1,to:a,replace:r,onClick:s,children:l,disableAutoLang:d,disabled:c}=e,p=(0,x.__rest)(e,["forceSSR","to","replace","onClick","children","disableAutoLang","disabled"]);const{config:g}=null!==(i=ao((()=>["config"]),[]))&&void 0!==i?i:{},m=n||(null==g?void 0:g.isInWebappV1),h=function(e,t={}){var i;const{search:o}=(0,B.TH)(),n=t.disableAutoLang?"":null!==(i=(0,z.parse)(o).lang)&&void 0!==i?i:"";if("string"==typeof e){const{url:i,query:o}=(0,z.parseUrl)(e);return(0,z.stringifyUrl)({url:i,query:Object.assign({lang:n},o)},Object.assign({skipEmptyString:!0},t))}const{pathname:a="",search:r={},hash:s}=e,l=s?`#${s}`:"";return`${(0,z.stringifyUrl)({url:a,query:Object.assign({lang:n},r)},Object.assign({skipEmptyString:!0},t))}${l}`}(a,{disableAutoLang:d}),_=(0,u.useCallback)((e=>{if(c)return e.preventDefault(),void e.stopPropagation();null==s||s(e),m&&r&&(e.preventDefault(),e.stopPropagation(),location.replace(h))}),[h,s,r,m,c]);return m?(0,o.jsx)("a",Object.assign({ref:t,href:h},p,{onClick:_},{children:l}),void 0):(0,o.jsx)(ru.rU,Object.assign({ref:t,to:h},p,{onClick:_},{children:l}),void 0)}))),lu=(0,Wi.Z)(su,{target:"e1an6zpe0"})({fontSize:0},"label:StyledLinkLogo;");lu.defaultProps=Object.assign(Object.assign({},lu.defaultProps),{"data-e2e":"tiktok-logo"});const du=(0,u.memo)((function(){const e=qt(),{pathname:t}=(0,B.TH)(),i=(0,E.qj)(nu),n=(0,u.useCallback)((e=>{de(t)&&(e.preventDefault(),i.resetItemList({key:"foryou"}),i.getRecommendList({key:"foryou"})),$e.event("click_logo")}),[i,t]);return(0,o.jsxs)(lu,Object.assign({to:ne.home,onClick:n},{children:[(0,o.jsx)("svg",Object.assign({height:42,width:118,alt:e("TikTok i18n title")},{children:(0,o.jsx)("use",{xlinkHref:"#svg-header-logo"},void 0)}),void 0),(0,o.jsx)("strong",{children:e("TikTok i18n title")},void 0)]}),void 0)}));var cu=i(38773);const pu=(0,cu.Z)("div",{target:"ehp64kb1"})({flex:1},"label:DivHeaderContent;"),gu=(0,u.memo)((function({title:e}){const t=qt("WebApp_Login");return(0,o.jsxs)(im,Object.assign({style:{boxShadow:"none",padding:"0 20px"}},{children:[(0,o.jsx)(du,{},void 0),(0,o.jsx)(pu,{children:e&&(0,o.jsx)("div",Object.assign({className:"login-title pc-title"},{children:t(e)}),void 0)},void 0),(0,o.jsx)("div",{children:(0,o.jsx)(za,{},void 0)},void 0)]}),void 0)})),mu=(0,ma.Z)("div",{target:"e1b6crsh0"})((({theme:e})=>[Co({theme:e,fontFamily:"Proxima",color:"TextPrimary"}),{height:"64px",borderTop:e.isMobile?"none":`1px solid ${e.colors.LineSecondary}`,display:"flex",justifyContent:"center",alignItems:"center",fontSize:"15px",lineHeight:"18px"}]),"label:DivContainer;"),uu=(0,ma.Z)("span",{target:"e1b6crsh1"})((({theme:e})=>[So({direction:e.direction,marginStart:"5px"}),{fontWeight:600,fontSize:"15px",lineHeight:"18px",color:e.colors.Primary}]),"label:SpanLinkText;"),hu=(0,u.memo)((function({style:e}){var t;const{disableSignup:i,hideHomePage:n}=Ma((()=>["disableSignup","hideHomePage"]),[]),{isMobile:a}=Nt(ao((()=>["isMobile"]),[])),{loginModalShow:r}=(0,E.mp)(In),s=qt("WebApp_Login"),{pathname:l}=(0,B.TH)(),d=[re.signupAgeGateConfirm,re.signupCreateAccount],c=null===(t=(0,B.$B)(d))||void 0===t?void 0:t.isExact,p=n?[re.loginPhoneOrEmail,re.signupPhoneOrEmail]:[re.loginHome,re.signupHome],g=(0,B.$B)(p),m=a&&!n?null==g?void 0:g.isExact:g&&!c,u=l.includes("signup"),h=s(u?"common_registration_panel_entry_1":"common_login_panel_entry_1"),_=s(u?"common_registration_panel_entry_2":"common_registration_username_button"),v=xr(),b=u?n?re.loginPhoneOrEmail:re.loginHome:n?v:re.signupHome;return i||!m?null:(0,o.jsxs)(mu,Object.assign({modal:r,style:e},{children:[(0,o.jsx)("div",{children:h.replace("%s"," ")},void 0),(0,o.jsx)(Qa,Object.assign({path:b,textTheme:"primary",replace:r},{children:(0,o.jsx)(uu,{children:_},void 0)}),void 0)]}),void 0)}));var _u,vu=i(91623),bu=i.n(vu);!function(e){e.ClickLanguage="click_change_language",e.ChangeLanguage="change_langauage"}(_u||(_u={}));const yu=(0,cu.Z)("div",{target:"e9zvghz0"})((({theme:e})=>[Co({theme:e,typography:"P2",fontFamily:"Proxima"}),{fontWeight:400,boxSizing:"border-box",width:"172px",height:"36px",border:"1px solid #8a8b91",borderRadius:"2px",fontSize:"14px",lineHeight:"36px",padding:"0 16px",cursor:"pointer",position:"relative",textAlign:"left"}]),"label:DivContainer;"),fu=(0,cu.Z)("p",{target:"e9zvghz1"})((({theme:{colors:e}})=>[{color:`${e.ConstTextInverse}`,margin:0,wordBreak:"keep-all",whiteSpace:"nowrap",overflow:"hidden"}]),"label:PSelectContainer;"),xu=(0,cu.Z)("select",{target:"e9zvghz2"})({position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:0,cursor:"pointer"},"label:SelectFormContainer;"),ku=()=>{var e;const{language:t}=Nt(ao((()=>["language"]),[])),{pathname:i,search:n}=(0,B.TH)(),a=(0,u.useCallback)((({lang:e,url:t,currentLang:i,isMobile:o})=>{var n;n={language:i,to_language:e,enter_method:o?"top_bar":void 0},$e.event("change_langauage",n),bu().remove(Dt.LANGUAGE_COOKIE_NAME,{domain:"www.tiktok.com"}),bu().set(Dt.LANGUAGE_COOKIE_NAME,e,{secure:!0,expires:300,domain:".tiktok.com"}),window.location.replace(t)}),[]),r=(0,u.useCallback)((e=>{const{value:t}=e.target,o=(0,z.stringifyUrl)({url:i,query:Object.assign(Object.assign({},(0,z.parse)(n)),{lang:t})});a({lang:t,url:o})}),[i,a,n]),s=null===(e=null===Dt.LANGUAGE_LIST||void 0===Dt.LANGUAGE_LIST?void 0:Dt.LANGUAGE_LIST.find((e=>e.value===t)))||void 0===e?void 0:e.label;return(0,o.jsxs)(yu,{children:[(0,o.jsx)(fu,{children:(0,o.jsx)("span",{children:s},void 0)},void 0),(0,o.jsx)(xu,Object.assign({value:t,onChange:r},{children:null===Dt.LANGUAGE_LIST||void 0===Dt.LANGUAGE_LIST?void 0:Dt.LANGUAGE_LIST.map((({value:e,label:t})=>(0,o.jsx)("option",Object.assign({value:e},{children:t}),e)))}),void 0)]},void 0)},wu=(0,cu.Z)("div",{target:"etab5w60"})((({theme:e})=>[{bottom:"0",left:"0",width:"100%",flexShrink:0,background:e.colors.BGPrimary}]),"label:DivFooterContainer;"),Cu=(0,cu.Z)("div",{target:"etab5w61"})((({theme:{colors:e}})=>({height:"84px",background:`${e.BGCreation}`,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:"0 144px",width:"100%"})),"label:DivBottomContainer;"),ju=(0,cu.Z)("div",{target:"etab5w62"})((({theme:e})=>[Co({theme:e,fontFamily:"Sofia"}),{fontSize:"14px",lineHeight:"28px",fontWeight:500,color:"#8a8b91"}]),"label:DivCopyright;"),Su=()=>(0,o.jsxs)(wu,{children:[(0,o.jsx)(tp,{},void 0),(0,o.jsx)(hu,{},void 0),(0,o.jsxs)(Cu,{children:[(0,o.jsx)(ku,{},void 0),(0,o.jsxs)(ju,{children:["© ",(new Date).getFullYear()," TikTok"]},void 0)]},void 0)]},void 0),Lu=(0,cu.Z)("div",{target:"e2nph0d0"})({height:"100%",display:"flex",flexDirection:"column",paddingTop:"env(safe-area-inset-top)",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)",paddingBottom:"env(safe-area-inset-bottom)"},"label:DivContainer;"),Pu=(0,cu.Z)("div",{target:"e2nph0d1"})({marginTop:60,width:"100vw",overflow:"auto",flex:"1",paddingBottom:60},"label:DivBodyContainer;"),Au=(0,cu.Z)("div",{target:"e2nph0d2"})({maxWidth:"480px",width:"100%",flex:"1",position:"relative",margin:"44px auto 0",overflowY:"auto",display:"flex",flexDirection:"column"},"label:DivMobileBodyContainer;"),Tu=(0,u.memo)((function(){return(0,o.jsxs)(Lu,{children:[(0,o.jsx)(gu,{showBack:!1},void 0),(0,o.jsx)(Pu,Object.assign({id:"loginContainer"},{children:(0,o.jsx)(tm,{},void 0)}),void 0),(0,o.jsx)(Su,{},void 0)]},void 0)})),Ou=(0,u.memo)((function(){var e;const t=[re.loginTwoStepVerify,re.signupPrivateOn],i=null===(e=(0,B.$B)(t))||void 0===e?void 0:e.isExact;return(0,o.jsxs)(Lu,{children:[(0,o.jsx)(Au,{children:(0,o.jsx)(tm,{},void 0)},void 0),(0,o.jsx)(tp,{},void 0),!i&&(0,o.jsx)(hu,{style:{height:"58px",background:"rgba(22, 24, 35, 0.03)"}},void 0)]},void 0)})),Mu=(0,u.memo)((({isMobile:e})=>(0,o.jsx)(Vi,Object.assign({isMobile:e},{children:e?(0,o.jsx)(Ou,{},void 0):(0,o.jsx)(Tu,{},void 0)}),void 0))),Ru=R()(Object.values(re));!function(e,t){const{beforeStart:r=c(),ns:d}=null!=t?t:{};(function(){return(0,x.__awaiter)(this,void 0,void 0,(function*(){"Promise"in window?(k.some((e=>!(e in window)))&&(yield i.e(342).then(i.bind(i,16376))),(w.some((e=>!(e in Array.prototype)))||C.some((e=>!(e in Object))))&&(yield Promise.all([i.e(800).then(i.t.bind(i,67735,23)),i.e(800).then(i.t.bind(i,76299,23)),i.e(800).then(i.t.bind(i,58935,23)),i.e(800).then(i.t.bind(i,33759,23))]))):window.location.href="https://www.tiktok.com/unsupported"}))})().then((()=>Promise.all([(0,l.g)(),T(),r(),(0,s.TA)(),O(d)]))).then((()=>{!function(e){const t=document.querySelector("#app");{const i=(0,n.Z)({key:"tiktok"});(0,p.hydrate)((0,o.jsx)(a.C,Object.assign({value:i},{children:(0,o.jsx)(e,{},void 0)}),void 0),t)}}(e)})).catch((e=>{console.error(e)}))}((()=>(0,o.jsx)(io,Object.assign({supportRoutes:Ru},{children:(0,o.jsx)(Mu,{isMobile:new RegExp(oe.regexp,"i").test(window.navigator.userAgent)},void 0)}),void 0)),{ns:"WebApp_Login"})},45157:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getI18nNamespace=t.StarlingNamespace=t.PROJECT=t.API_KEY=void 0;const o=i(90293);var n;t.API_KEY="5dc26cf008d511e9b571e1bc0c9e23b5",t.PROJECT="FE_i18n",(n=t.StarlingNamespace||(t.StarlingNamespace={})).WebApp="Webapp",n.Analytics="MT_Analytics",n.Reflow="MT_Reflow",n.Login="WebApp_Login",t.getI18nNamespace=function({isMobile:e,pathname:t,search:i,isSearchbot:n}){const a=(0,o.parse)(i);return e&&/^\/@.*\/video\/.+/.test(t)?["MT_Reflow","Webapp"]:/^\/@.+\/playlist\/.+/.test(t)||/^\/sticker\//.test(t)?["MT_Reflow"]:e&&"1"===a._r?["MT_Reflow","Webapp"]:t.startsWith("/login")||t.startsWith("/signup")?["WebApp_Login"]:t.startsWith("/search/campaign/")||t.startsWith("/question/")||t.startsWith("/messages/group")||e&&n?["MT_Reflow","Webapp"]:["Webapp"]}},76287:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LANGUAGE_COOKIE_NAME=t.LANGUAGE_LIST=t.LOCALES=t.WEBAPP_MAIN_LANGUAGE=void 0,t.WEBAPP_MAIN_LANGUAGE={ar:{displayName:"العربية",alias:["ar-ae","ar-bh","ar-dz","ar-eg","ar-iq","ar-jo","ar-kw","ar-lb","ar-ly","ar-ma","ar-om","ar-qa","ar-sa","ar-sy","ar-tn","ar-ye"]},"bn-IN":{displayName:"বাঙ্গালি (ভারত)",alias:["bn","bn-in"]},"ceb-PH":{displayName:"Cebuano (Pilipinas)",alias:["ceb","ceb-ph"]},"cs-CZ":{displayName:"Čeština (Česká republika)",alias:["cs","cs-cz"]},"de-DE":{displayName:"Deutsch",alias:["de","de-at","de-ch","de-de","de-li","de-lu"]},"el-GR":{displayName:"Ελληνικά (Ελλάδα)",alias:["el","el-gr"]},en:{displayName:"English",alias:[]},es:{displayName:"Español",alias:["es-es","es-xl","es-ES"]},"fi-FI":{displayName:"Suomi (Suomi)",alias:["fi","fi-fi"]},"fil-PH":{displayName:"Filipino (Pilipinas)",alias:["fil","tl-ph","tl","fil-ph"]},fr:{displayName:"Français",alias:["fr-be","fr-ca","fr-ch","fr-fr","fr-lu","fr-mc"]},"he-IL":{displayName:"עברית (ישראל)",alias:["he","he-il"]},"hi-IN":{displayName:"हिंदी",alias:["hi","hi-in"]},"hu-HU":{displayName:"Magyar (Magyarország)",alias:["hu","hu-hu"]},"id-ID":{displayName:"Bahasa Indonesia (Indonesia)",alias:["id","id-id","in-id","in"]},"it-IT":{displayName:"Italiano (Italia)",alias:["it","it-ch","it-it"]},"ja-JP":{displayName:"日本語（日本）",alias:["ja","ja-jpan","ja-jp"]},"jv-ID":{displayName:"Basa Jawa (Indonesia)",alias:["jv","jv-jv"]},"km-KH":{displayName:"ខ្មែរ (កម្ពុជា)",alias:["km","km-kh"]},"ko-KR":{displayName:"한국어 (대한민국)",alias:["ko","ko-kr","ko-kore"]},"ms-MY":{displayName:"Bahasa Melayu (Malaysia)",alias:["ms","ms-bn","ms-my"]},"my-MM":{displayName:"မြန်မာ (မြန်မာ)",alias:["my","my","my-mm"]},"nl-NL":{displayName:"Nederlands (Nederland)",alias:["nl","nl-be","nl-nl"]},"pl-PL":{displayName:"Polski (Polska)",alias:["pl","pl-pl"]},"pt-BR":{displayName:"Português (Brasil)",alias:["pt_BR","pt-br","pu","pt","pt-pt"]},"ro-RO":{displayName:"Română (Romania)",alias:["ro","ro-ro"]},"ru-RU":{displayName:"Русский (Россия)",alias:["ru","ru-ru"]},"sv-SE":{displayName:"Svenska (Sverige)",alias:["sv","sv-se"]},"th-TH":{displayName:"ไทย (ไทย)",alias:["th","th-th"]},"tr-TR":{displayName:"Türkçe (Türkiye)",alias:["tr","tr-tr"]},"uk-UA":{displayName:"Українська (Україна)",alias:["uk","uk-ua"]},ur:{displayName:"اردو",alias:[]},"vi-VN":{displayName:"Tiếng Việt (Việt Nam)",alias:["vi","vi-vn"]},"zh-Hans":{displayName:"简体中文",alias:["zh-hans","zh_hans","zh_Hans"]},"zh-Hant-TW":{displayName:"繁體中文",alias:["zh","zh_Hant","zh_TW","zh-tw","zh-hk","zh-Hant","zh-hant-tw","zh-cn"]}},t.LOCALES=Object.entries(t.WEBAPP_MAIN_LANGUAGE).map((([e,{alias:t}])=>[e,...t])),t.LANGUAGE_LIST=Object.entries(t.WEBAPP_MAIN_LANGUAGE).map((([e,{displayName:t}])=>({label:t,value:e}))),t.LANGUAGE_COOKIE_NAME="tiktok_webapp_lang"},28210:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(64047);(0,o.__exportStar)(i(45157),t),(0,o.__exportStar)(i(76287),t)},30008:(e,t,i)=>{"use strict";e.exports=i.p+"c287bca871661e22ee8a.png"},34994:(e,t,i)=>{"use strict";e.exports=i.p+"b6d3cc69d3525571aef0.gif"},24112:(e,t,i)=>{"use strict";e.exports=i.p+"c4c40812758dc8175106.png"},11580:(e,t,i)=>{"use strict";e.exports=i.p+"0dbff97a224480a207b4.png"},36011:()=>{},97936:()=>{}},e=>{e.O(0,[800,815,136,40,192,294,118,736],(()=>(74359,e(e.s=74359)))),e.O()}]);